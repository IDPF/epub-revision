<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<meta name="generator" content="ReSpec 26.5.0" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<style>
			span.example-title {
				text-transform: none
			}
			aside.example,
			div.example,
			div.illegal-example {
				padding: .5em;
				margin: 1em 0;
				position: relative;
				clear: both
			}
			div.illegal-example {
				color: red
			}
			div.illegal-example p {
				color: #000
			}
			aside.example,
			div.example {
				padding: .5em;
				border-left-width: .5em;
				border-left-style: solid;
				border-color: #e0cb52;
				background: #fcfaee
			}
			aside.example div.example {
				border-left-width: .1em;
				border-color: #999;
				background: #fff
			}
			aside.example div.example span.example-title {
				color: #999
			}
			.example pre {
				background-color: rgba(0, 0, 0, .03)
			}</style>
		<style>
			.issue-label {
				text-transform: initial
			}
			.warning > p:first-child {
				margin-top: 0
			}
			.warning {
				padding: .5em;
				border-left-width: .5em;
				border-left-style: solid
			}
			span.warning {
				padding: .1em .5em .15em
			}
			.issue.closed span.issue-number {
				text-decoration: line-through
			}
			.warning {
				border-color: #f11;
				border-width: .2em;
				border-style: solid;
				background: #fbe9e9
			}
			.warning-title:before {
				content: "âš ";
				font-size: 1.3em;
				float: left;
				padding-right: .3em;
				margin-top: -.3em
			}
			li.task-list-item {
				list-style: none
			}
			input.task-list-item-checkbox {
				margin: 0 .35em .25em -1.6em;
				vertical-align: middle
			}
			.issue a.respec-gh-label {
				padding: 5px;
				margin: 0 2px 0 2px;
				font-size: 10px;
				text-transform: none;
				text-decoration: none;
				font-weight: 700;
				border-radius: 4px;
				position: relative;
				bottom: 2px;
				border: none;
				display: inline-block
			}</style>
		<style>
			pre.idl {
				padding: 1em;
				position: relative
			}
			pre.idl > code {
				color: #000
			}
			@media print {
				pre.idl {
					white-space: pre-wrap
				}
			}
			.idlHeader {
				display: block;
				width: 150px;
				background: #8ccbf2;
				color: #fff;
				font-family: sans-serif;
				font-weight: 700;
				margin: -1em 0 1em -1em;
				height: 28px;
				line-height: 28px
			}
			.idlHeader a.self-link {
				margin-left: .3cm;
				text-decoration: none;
				border-bottom: none
			}
			.idlID {
				font-weight: 700;
				color: #005a9c
			}
			.idlType {
				color: #005a9c
			}
			.idlName {
				color: #ff4500
			}
			.idlName a {
				color: #ff4500;
				border-bottom: 1px dotted #ff4500;
				text-decoration: none
			}
			a.idlEnumItem {
				color: #000;
				border-bottom: 1px dotted #ccc;
				text-decoration: none
			}
			.idlSuperclass {
				font-style: italic;
				color: #005a9c
			}
			.idlDefaultValue,
			.idlParamName {
				font-style: italic
			}
			.extAttr {
				color: #666
			}
			.idlSectionComment {
				color: gray
			}
			.idlIncludes a {
				font-weight: 700
			}
			.respec-button-copy-paste:focus {
				text-decoration: none;
				border-color: #51a7e8;
				outline: 0;
				box-shadow: 0 0 5px rgba(81, 167, 232, .5)
			}
			.respec-button-copy-paste.selected:focus,
			.respec-button-copy-paste:focus:hover {
				border-color: #51a7e8
			}
			.respec-button-copy-paste.zeroclipboard-is-active,
			.respec-button-copy-paste.zeroclipboard-is-hover,
			.respec-button-copy-paste:active,
			.respec-button-copy-paste:hover {
				text-decoration: none;
				background-color: #ddd;
				background-image: linear-gradient(#eee, #ddd);
				border-color: #ccc
			}
			.respec-button-copy-paste.selected,
			.respec-button-copy-paste.zeroclipboard-is-active,
			.respec-button-copy-paste:active {
				background-color: #dcdcdc;
				background-image: none;
				border-color: #b5b5b5;
				box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
			}
			.respec-button-copy-paste.selected:hover {
				background-color: #cfcfcf
			}
			.respec-button-copy-paste.disabled,
			.respec-button-copy-paste.disabled:hover,
			.respec-button-copy-paste:disabled,
			.respec-button-copy-paste:disabled:hover {
				color: rgba(102, 102, 102, .5);
				cursor: default;
				background-color: rgba(229, 229, 229, .5);
				background-image: none;
				border-color: rgba(197, 197, 197, .5);
				box-shadow: none
			}
			@media print {
				.respec-button-copy-paste {
					visibility: hidden
				}
			}</style>
		<style>
			dfn {
				cursor: pointer
			}
			.dfn-panel {
				position: absolute;
				z-index: 35;
				min-width: 300px;
				max-width: 500px;
				padding: .5em .75em;
				margin-top: .6em;
				font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
				background: #fff;
				color: #000;
				box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
				border-radius: 2px
			}
			.dfn-panel:not(.docked) > .caret {
				position: absolute;
				top: -9px
			}
			.dfn-panel:not(.docked) > .caret::after,
			.dfn-panel:not(.docked) > .caret::before {
				content: "";
				position: absolute;
				border: 10px solid transparent;
				border-top: 0;
				border-bottom: 10px solid #fff;
				top: 0
			}
			.dfn-panel:not(.docked) > .caret::before {
				border-bottom: 9px solid #a2a9b1
			}
			.dfn-panel * {
				margin: 0
			}
			.dfn-panel b {
				display: block;
				color: #000;
				margin-top: .25em
			}
			.dfn-panel ul a[href] {
				color: #333
			}
			.dfn-panel > div {
				display: flex
			}
			.dfn-panel a.self-link {
				font-weight: 700;
				margin-right: auto
			}
			.dfn-panel .marker {
				padding: .1em;
				margin-left: .5em;
				border-radius: .2em;
				text-align: center;
				white-space: nowrap;
				font-size: 90%;
				color: #040b1c
			}
			.dfn-panel .marker.dfn-exported {
				background: #d1edfd;
				box-shadow: 0 0 0 .125em #1ca5f940
			}
			.dfn-panel .marker.idl-block {
				background: #8ccbf2;
				box-shadow: 0 0 0 .125em #0670b161
			}
			.dfn-panel a:not(:hover) {
				text-decoration: none !important;
				border-bottom: none !important
			}
			.dfn-panel a[href]:hover {
				border-bottom-width: 1px
			}
			.dfn-panel ul {
				padding: 0
			}
			.dfn-panel li {
				margin-left: 1em
			}
			.dfn-panel.docked {
				position: fixed;
				left: .5em;
				top: unset;
				bottom: 2em;
				margin: 0 auto;
				max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
				max-height: 30vh;
				overflow: auto
			}</style>


		<title>EPUB Reading Systems 3.3</title>

		<style id="respec-mainstyle">
			@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
			.hljs {
				background: 0 0 !important
			}
			a abbr,
			h1 abbr,
			h2 abbr,
			h3 abbr,
			h4 abbr,
			h5 abbr,
			h6 abbr {
				border: none
			}
			dfn {
				font-weight: 700
			}
			a.internalDFN {
				color: inherit;
				border-bottom: 1px solid #99c;
				text-decoration: none
			}
			a.externalDFN {
				color: inherit;
				border-bottom: 1px dotted #ccc;
				text-decoration: none
			}
			a.bibref {
				text-decoration: none
			}
			.respec-offending-element:target {
				animation: pop .25s ease-in-out 0s 1
			}
			.respec-offending-element,
			a[href].respec-offending-element {
				text-decoration: red wavy underline
			}
			@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
			#references :target {
				background: #eaf3ff;
				animation: pop .4s ease-in-out 0s 1
			}
			cite .bibref {
				font-style: normal
			}
			code {
				color: #c63501
			}
			th code {
				color: inherit
			}
			a[href].orcid {
				padding-left: 4px;
				padding-right: 4px
			}
			a[href].orcid > svg {
				margin-bottom: -2px
			}
			.toc a,
			.tof a {
				text-decoration: none
			}
			a .figno,
			a .secno {
				color: #000
			}
			ol.tof,
			ul.tof {
				list-style: none outside none
			}
			.caption {
				margin-top: .5em;
				font-style: italic
			}
			table.simple {
				border-spacing: 0;
				border-collapse: collapse;
				border-bottom: 3px solid #005a9c
			}
			.simple th {
				background: #005a9c;
				color: #fff;
				padding: 3px 5px;
				text-align: left
			}
			.simple th a {
				color: #fff;
				padding: 3px 5px;
				text-align: left
			}
			.simple th[scope = row] {
				background: inherit;
				color: inherit;
				border-top: 1px solid #ddd
			}
			.simple td {
				padding: 3px 10px;
				border-top: 1px solid #ddd
			}
			.simple tr:nth-child(even) {
				background: #f0f6ff
			}
			.section dd > p:first-child {
				margin-top: 0
			}
			.section dd > p:last-child {
				margin-bottom: 0
			}
			.section dd {
				margin-bottom: 1em
			}
			.section dl.attrs dd,
			.section dl.eldef dd {
				margin-bottom: 0
			}
			#issue-summary > ul {
				column-count: 2
			}
			#issue-summary li {
				list-style: none;
				display: inline-block
			}
			details.respec-tests-details {
				margin-left: 1em;
				display: inline-block;
				vertical-align: top
			}
			details.respec-tests-details > * {
				padding-right: 2em
			}
			details.respec-tests-details[open] {
				z-index: 999999;
				position: absolute;
				border: thin solid #cad3e2;
				border-radius: .3em;
				background-color: #fff;
				padding-bottom: .5em
			}
			details.respec-tests-details[open] > summary {
				border-bottom: thin solid #cad3e2;
				padding-left: 1em;
				margin-bottom: 1em;
				line-height: 2em
			}
			details.respec-tests-details > ul {
				width: 100%;
				margin-top: -.3em
			}
			details.respec-tests-details > li {
				padding-left: 1em
			}
			a[href].self-link:hover {
				opacity: 1;
				text-decoration: none;
				background-color: transparent
			}
			h2,
			h3,
			h4,
			h5,
			h6 {
				position: relative
			}
			aside.example .marker > a.self-link {
				color: inherit
			}
			h2 > a.self-link,
			h3 > a.self-link,
			h4 > a.self-link,
			h5 > a.self-link,
			h6 > a.self-link {
				border: none;
				color: inherit;
				font-size: 83%;
				height: 2em;
				left: -1.6em;
				opacity: .5;
				position: absolute;
				text-align: center;
				text-decoration: none;
				top: 0;
				transition: opacity .2s;
				width: 2em
			}
			h2 > a.self-link::before,
			h3 > a.self-link::before,
			h4 > a.self-link::before,
			h5 > a.self-link::before,
			h6 > a.self-link::before {
				content: "Â§";
				display: block
			}
			@media (max-width : 767px) {
				dd {
					margin-left: 0
				}
				h2 > a.self-link,
				h3 > a.self-link,
				h4 > a.self-link,
				h5 > a.self-link,
				h6 > a.self-link {
					left: auto;
					top: auto
				}
			}
			@media print {
				.removeOnSave {
					display: none
				}
			}</style>






		<style>
			ul.nomark,
			ol.nomark,
			ul.conformance-list {
				list-style-type: none;
			}
			
			ul.flat {
				list-style-type: none;
				padding-left: 0;
			}
			
			ul.conformance-list > li > ul.conformance-list {
				padding-left: 2em;
			}
			
			dl.elemdef {
				border-left: 0.5em solid rgb(145, 200, 255);
				background-color: rgb(236, 246, 255);
				padding: 0.5em 1em;
				margin-bottom: 2em;
			}
			
			dl.elemdef ul.nomark {
				padding-left: 1em;
			}
			
			dl.elemdef > dd > ul.nomark:first-child {
				padding-left: 0 !important;
			}
			
			dl.conformance-list > dd {
				margin-top: 0.7em;
			}
			
			
			/* styles for conformance list links */
			
			a.hidden-reveal {
				color: #005A9C !important;
			}
			a.hidden-reveal::before {
				content: "â€º" !important;
			}
			a.hidden-reveal:link {
				text-decoration: none !important;
				color: #005A9C !important;
				border-bottom: none !important;
			}
			a.hidden-reveal:visited {
				text-decoration: none !important;
				color: #005A9C !important;
			}
			a.hidden-reveal:hover {
				background-color: rgb(255, 255, 0) !important;
			}
			a.hidden-reveal:active {
				text-decoration: none !important;
				color: #005A9C !important;
			}
			
			/* styles for prefix mapping tables */
			
			table.mapping {
				border-collapse: collapse;
			}
			
			table.mapping th,
			table.mapping td {
				padding: 0.5em;
				border-bottom: 1px solid rgb(0, 90, 156);
			}
			
			table.mapping tr > td:first-child {
				border-right: 1px solid rgb(220, 220, 220);
			}
			
			
			/*  EBNF tables */
			
			
			table.productionset {
				border: none;
				border-left: 5px solid rgb(145, 200, 255);
				background-color: rgb(236, 246, 255);
			}
			
			table.productionset caption {
				text-align: left;
				font-size: 80%;
				font-style: normal;
			}
			
			table.productionset tbody tr {
				border: none;
			}
			
			table.productionset tbody tr td {
				border: none;
				padding: 0.5em;
				border-bottom: 1px solid #ddd;
			}
			
			table.productionset tbody tr td a {
				text-decoration: none;
				border-bottom: 1px dotted #000090;
			}
			
			table.productionset tbody tr td a:hover {
				text-decoration: underline;
			}
			
			table.productionset tbody tr td a:visited,
			table.productionset tbody tr td a:active,
			table.productionset tbody tr td a:hover {
				color: #000090;
			}
			
			a.deprecated,
			a.legacy {
				font-size: 85%;
				text-transform: uppercase;
			}
			
			/* styles for core media types */
			
			table#tbl-core-media-types {
				border-spacing: 0px;
				padding: 1em;
				margin-top: 1.5em;
				margin-bottom: 2em;
			}
			
			table#tbl-core-media-types th {
				border-bottom: 1px solid #005A9C;
				font-weight: bold;
				padding: 0.5em;
				font-weight: bold;
				color: #000090;
				font-size: 90%
			}
			
			table#tbl-core-media-types td {
				border-bottom: 1px solid #005A9C;
				border-right: 1px solid #efefef;
				padding: 0.5em;
				text-align: left
			}
			
			table#tbl-core-media-types tr td:last-child {
				border-right: none;
			}
			
			table#tbl-core-media-types td *,
			table#tbl-core-media-types td > * {
				text-align: left;
			}
			
			table#tbl-core-media-types,
			table#tbl-core-media-types tbody {
				padding: 0;
			}
			
			table#tbl-core-media-types caption {
				text-align: left;
				font-size: 90%
			}
			
			.tbl-group {
				text-align: left;
				border-bottom: none;
				color: rgb(0, 0, 0);
				background-color: rgb(240, 248, 255);
			}
			
			table#tbl-core-media-types > thead > tr > th {
				background-color: rgb(240, 240, 240);
				text-align: left;
				white-space: nowrap;
			}
			
			table#tbl-core-media-types > tbody > tr > th {
				text-align: left;
				font-weight: normal;
				font-style: italic;
				padding: 3px;
			}
			
			table#tbl-core-media-types td,
			table#tbl-core-media-types th,
			table#tbl-core-media-types tr {
				border-color: #005A9C;
				margin: 0em;
			}
			
			table#tbl-core-media-types td code,
			table#tbl-core-media-types td a {
				white-space: nowrap;
			}
			
			td[headers = "tbl-cmt-appl"] {
				font-size: .9em;
			}
			
			
			
			
			/****************************************************/
			/*  property tables                                 */
			/****************************************************/
			
			/* ensure confomity of width for property tables */
			section.vocab table {
				border-spacing: 0px;
				border: none;
				font-size: 1em;
				width: 100%
			}
			
			section.vocab table td,
			table th {
				border: none;
				background-color: rgb(236, 246, 255);
				color: rgb(0, 0, 0);
				padding: 0.3em;
				vertical-align: top;
			}
			
			section.vocab table th {
				text-align: left;
				vertical-align: top;
				width: 8em;
				border-right: 1px solid rgb(145, 200, 255);
			}
			
			section.vocab table th {
				border-left: 5px solid rgb(145, 200, 255);
			}
			
			section.vocab td {
				padding: 3px 3px 3px 10px;
			}
			
			section.vocab td > p:first-child {
				padding: 0em;
				margin: 0em
			}
			
			
			/* Reserved prefix tables */
			
			table.prefix {
				border-spacing: 0px;
				padding: 1em;
				margin-top: 1.5em;
				margin-bottom: 2em;
			}
			table.prefix th {
				border-bottom: 1px solid #005A9C;
				font-weight: bold;
				padding: 0.5em;
				font-weight: bold;
				color: #000090;
				font-size: 90%
			}
			table.prefix td {
				border-bottom: 1px solid #005A9C;
				border-right: 1px solid #efefef;
				padding: 0.5em;
				text-align: left
			}
			table.prefix tr td:last-child {
				border-right: none;
			}
			table.prefix td *,
			table.prefix td > * {
				text-align: left;
			}
			table.prefix,
			table.prefix tbody {
				padding: 0;
			}
			
			table.prefix caption {
				text-align: left;
				font-size: 90%
			}
			
			
			/* Table zebra style... */
			
			table.zebra {
				font-size: inherit;
				font: 90%;
				margin: 1em;
			}
			
			table.zebra td {
				padding-left: 0.3em;
			}
			
			table.zebra th {
				font-weight: bold;
				text-align: center;
				background-color: rgb(0, 0, 128) !important;
				font-size: 110%;
				background: hsl(180, 30%, 50%);
				color: #fff;
			}
			
			table.zebra th a:link {
				color: #fff;
			}
			
			table.zebra th a:visited {
				color: #aaa;
			}
			
			table.zebra tr:nth-child(even) {
				background-color: hsl(180, 30%, 93%) !important;
			}
			
			table.zebra th {
				border-bottom: 1px solid #bbb;
				padding: .2em 1em;
			}
			table.zebra td {
				border-bottom: 1px solid #ddd;
				padding: .2em 1em;
			}
			
			/* structure defs */
			
			section#structure-vocab dd > p:first-child {
				margin-top: 1rem !important;
			}
			
			section#structure-vocab dd + dd {
				font-size: 90%;
			}
			
			.subproplabel {
				font-style: italic;
			}
			
			p.support {
				border-left: 0.4rem solid rgb(255, 255, 0);
				background-color: rgb(255, 255, 230);
				padding: 0.7rem;
			}</style>
		<meta name="description"
			content="EPUBÂ® 3 defines a distribution and interchange format for digital publications and documents. The EPUB
				format provides a means of representing, packaging, and encoding structured and semantically enhanced
				Web content â€” including HTML, CSS, SVG and other resources â€” for distribution in a single-file
				container." />
		<link rel="canonical" href="https://www.w3.org/TR/epub-rs-33/" />
		<style>
			.hljs {
				display: block;
				overflow-x: auto;
				padding: .5em;
				color: #383a42;
				background: #fafafa
			}
			.hljs-comment,
			.hljs-quote {
				color: #717277;
				font-style: italic
			}
			.hljs-doctag,
			.hljs-formula,
			.hljs-keyword {
				color: #a626a4
			}
			.hljs-deletion,
			.hljs-name,
			.hljs-section,
			.hljs-selector-tag,
			.hljs-subst {
				color: #ca4706;
				font-weight: 700
			}
			.hljs-literal {
				color: #0b76c5
			}
			.hljs-addition,
			.hljs-attribute,
			.hljs-meta-string,
			.hljs-regexp,
			.hljs-string {
				color: #42803c
			}
			.hljs-built_in,
			.hljs-class .hljs-title {
				color: #9a6a01
			}
			.hljs-attr,
			.hljs-number,
			.hljs-selector-attr,
			.hljs-selector-class,
			.hljs-selector-pseudo,
			.hljs-template-variable,
			.hljs-type,
			.hljs-variable {
				color: #986801
			}
			.hljs-bullet,
			.hljs-link,
			.hljs-meta,
			.hljs-selector-id,
			.hljs-symbol,
			.hljs-title {
				color: #336ae3
			}
			.hljs-emphasis {
				font-style: italic
			}
			.hljs-strong {
				font-weight: 700
			}
			.hljs-link {
				text-decoration: underline
			}</style>
		<style>
			var {
				position: relative;
				cursor: pointer
			}
			var[data-type]::after,
			var[data-type]::before {
				position: absolute;
				left: 50%;
				top: -6px;
				opacity: 0;
				transition: opacity .4s;
				pointer-events: none
			}
			var[data-type]::before {
				content: "";
				transform: translateX(-50%);
				border-width: 4px 6px 0 6px;
				border-style: solid;
				border-color: transparent;
				border-top-color: #000
			}
			var[data-type]::after {
				content: attr(data-type);
				transform: translateX(-50%) translateY(-100%);
				background: #000;
				text-align: center;
				font-family: "Dank Mono", "Fira Code", monospace;
				font-style: normal;
				padding: 6px;
				border-radius: 3px;
				color: #daca88;
				text-indent: 0;
				font-weight: 400
			}
			var[data-type]:hover::after,
			var[data-type]:hover::before {
				opacity: 1
			}</style>
		<script id="initialUserConfig" type="application/json">{
  "group": "epub",
  "wgPublicList": "public-epub-wg",
  "specStatus": "WD",
  "shortName": "epub-rs-33",
  "edDraftURI": "https://w3c.github.io/epub-specs/epub33/rs/",
  "previousPublishDate": "2021-02-24",
  "previousMaturity": "WD",
  "copyrightStart": "1999",
  "editors": [
    {
      "name": "Dave Cramer",
      "w3cid": 65283
    },
    {
      "name": "Matt Garrish",
      "company": "DAISY Consortium",
      "companyURL": "https://www.daisy.org",
      "w3cid": 51655
    },
    {
      "name": "Ivan Herman",
      "url": "https://www.w3.org/People/Ivan/",
      "company": "W3C",
      "w3cid": 7382,
      "orcid": "https://orcid.org/0000-0003-0782-2704",
      "companyURL": "https://www.w3.org"
    }
  ],
  "formerEditors": [
    {
      "name": "Garth Conboy",
      "company": "Google",
      "companyURL": "https://www.google.com",
      "w3cid": 92141
    },
    {
      "name": "Marisa DeMeglio",
      "company": "DAISY Consortium",
      "companyURL": "https://www.daisy.org",
      "w3cid": 35713
    },
    {
      "name": "Daniel Weck",
      "company": "DAISY Consortium",
      "companyURL": "https://www.daisy.org",
      "w3cid": 45653
    }
  ],
  "includePermalinks": true,
  "permalinkEdge": true,
  "permalinkHide": false,
  "diffTool": "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
  "github": {
    "repoURL": "https://github.com/w3c/epub-specs",
    "branch": "main"
  },
  "localBiblio": {
    "AccessibilityFAQ": {
      "title": "EPUB Accessibility Frequently Asked Questions",
      "href": "http://www.idpf.org/epub/guides/a11y-faq"
    },
    "AttributeExtensions": {
      "title": "EPUB Custom Attribute Extensions for Content Documents",
      "href": "http://www.idpf.org/epub/extensions/attributes",
      "id": "attributeextensions"
    },
    "AuthorityRegistry": {
      "title": "EPUB Subject Authorities Registry",
      "href": "http://www.idpf.org/epub/registries/authorities/"
    },
    "CSSSnapshot": {
      "title": "CSS Snapshot",
      "href": "https://www.w3.org/TR/CSS/",
      "id": "csssnapshot"
    },
    "CSS2": {
      "title": "CSS 2",
      "href": "https://www.w3.org/TR/CSS2/",
      "status": "W3C Recommendation",
      "publisher": "W3C",
      "id": "css2"
    },
    "CSS-Text-3-20160119": {
      "title": "CSS Text Level 3 (20160119)",
      "href": "https://drafts.csswg.org/date/2016-01-19T17:23:23/css-text/",
      "authors": [
        "Elika J. Etemad"
      ],
      "etAl": true
    },
    "DAISYAudio": {
      "title": "Navigable audio-only EPUB 3 Guidelines",
      "href": "http://www.daisy.org/guidelines/epub/navigable-audio-only-epub3-guidelines"
    },
    "EPUB-3": {
      "title": "EPUB 3",
      "href": "https://www.w3.org/TR/epub/",
      "publisher": "W3C"
    },
    "EPUB-31": {
      "authors": [
        "Markus Gylling",
        "Tzviya Siegman",
        "Matt Garrish"
      ],
      "title": "EPUB 3.1",
      "href": "http://idpf.org/epub/31/spec/epub-spec-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "EPUB-32": {
      "authors": [
        "Matt Garrish",
        "Dave Cramer"
      ],
      "title": "EPUB 3.2",
      "href": "https://www.w3.org/publishing/epub32/epub-spec.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group"
    },
    "EPUB-A11Y": {
      "title": "EPUB Accessibility",
      "href": "https://www.w3.org/TR/epub-a11y/",
      "authors": [
        "Matt Garrish",
        "George Kerscher",
        "Gregorio Pellegrino",
        "Avneesh Singh"
      ],
      "publisher": "W3C"
    },
    "EPUB-A11Y-10": {
      "authors": [
        "Matt Garrish",
        "George Kerscher",
        "Charles LaPierre",
        "Avneesh Singh"
      ],
      "title": "EPUB Accessibility 1.0",
      "href": "http://idpf.org/epub/a11y/accessibility-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF",
      "id": "epub-a11y-10"
    },
    "EPUBCFI-11": {
      "authors": [
        "Peter Sorotokin",
        "Garth Conboy",
        "Brady Duga",
        "John Rivlin",
        "Don Beaver",
        "Kevin Ballard",
        "Alastair Fettes",
        "Daniel Weck"
      ],
      "title": "EPUB Canonical Fragment Identifiers 1.1",
      "href": "http://idpf.org/epub/linking/cfi/epub-cfi-20170105.html",
      "date": "5 October 2017",
      "publisher": "IDPF"
    },
    "EPUBChanges-30": {
      "authors": [
        "William McCoy",
        "Markus Gylling"
      ],
      "title": "EPUB 3 Changes from 2.0.1",
      "href": "http://idpf.org/epub/30/spec/epub30-changes-20111011.html",
      "date": "11 October 2011",
      "publisher": "IDPF"
    },
    "EPUBChanges-301": {
      "authors": [
        "Markus Gylling",
        "Matt Garrish"
      ],
      "title": "EPUB 3.0.1 Changes from 3.0",
      "href": "http://idpf.org/epub/301/spec/epub-changes-20140626.html",
      "date": "26 June 2014",
      "publisher": "IDPF"
    },
    "EPUBChanges-31": {
      "authors": [
        "Markus Gylling",
        "Matt Garrish"
      ],
      "title": "EPUB 3.1 Changes from 3.0.1",
      "href": "http://idpf.org/epub/31/spec/epub-changes-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "EPUBChanges-32": {
      "authors": [
        "Matt Garrish",
        "Dave Cramer"
      ],
      "title": "EPUB 3.2 Changes",
      "href": "https://www.w3.org/publishing/epub32/epub-changes.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group"
    },
    "EPUBContentDocs-30": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Elika J. Etimad",
        "Matt Garrish"
      ],
      "title": "EPUB Content Documents 3.0",
      "href": "http://idpf.org/epub/30/spec/epub30-contentdocs-20111011.html",
      "date": "11 October 2011",
      "publisher": "IDPF"
    },
    "EPUBContentDocs-301": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Elika J. Etimad",
        "Matt Garrish"
      ],
      "title": "EPUB Content Documents 3.0.1",
      "href": "http://idpf.org/epub/301/spec/epub-contentdocs-20140626.html",
      "date": "26 June 2014",
      "publisher": "IDPF",
      "id": "epubcontentdocs-301"
    },
    "EPUBContentDocs-31": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Dave Cramer",
        "Elika J. Etimad",
        "Matt Garrish"
      ],
      "title": "EPUB Content Documents 3.1",
      "href": "http://idpf.org/epub/31/spec/epub-contentdocs-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "EPUBContentDocs-32": {
      "authors": [
        "Dave Cramer",
        "Matt Garrish"
      ],
      "title": "EPUB Content Documents 3.2",
      "href": "https://www.w3.org/publishing/epub32/epub-contentdocs.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group"
    },
    "EPUBMediaOverlays-30": {
      "authors": [
        "Marisa DeMeglio",
        "Daniel Weck"
      ],
      "title": "EPUB Media Overlays 3.0",
      "href": "http://idpf.org/epub/30/spec/epub30-mediaoverlays-20111011.html",
      "date": "11 October 2011",
      "publisher": "IDPF"
    },
    "EPUBMediaOverlays-301": {
      "authors": [
        "Marisa DeMeglio",
        "Daniel Weck"
      ],
      "title": "EPUB Media Overlays 3.0.1",
      "href": "http://idpf.org/epub/301/spec/epub-mediaoverlays-20140626.html",
      "date": "26 June 2014",
      "publisher": "IDPF"
    },
    "EPUBMediaOverlays-31": {
      "authors": [
        "Marisa DeMeglio",
        "Daniel Weck"
      ],
      "title": "EPUB Media Overlays 3.1",
      "href": "http://idpf.org/epub/31/spec/epub-mediaoverlays-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "EPUBMediaOverlays-32": {
      "authors": [
        "Marisa DeMeglio",
        "Daniel Weck"
      ],
      "title": "EPUB Media Overlays 3.2",
      "href": "https://www.w3.org/publishing/epub32/epub-mediaoverlays.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group"
    },
    "EPUBMultipleRenditions-10": {
      "authors": [
        "Jim Lester",
        "Takeshi Kania",
        "Matt Garrish"
      ],
      "title": "EPUB Multiple-Rendition Publications 1.0",
      "href": "http://www.idpf.org/epub/renditions/multiple/epub-multiple-renditions-20150826.html",
      "date": "26 August 2015",
      "publisher": "IDPF"
    },
    "EPUBPackages-31": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Matt Garrish"
      ],
      "title": "EPUB Packages 3.1",
      "href": "http://idpf.org/epub/31/spec/epub-packages-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "EPUBPackages-32": {
      "authors": [
        "Matt Garrish",
        "Dave Cramer"
      ],
      "title": "EPUB Packages 3.2",
      "href": "https://www.w3.org/publishing/epub32/epub-packages.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group",
      "id": "epubpackages-32"
    },
    "EPUBPublications-30": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Matt Garrish"
      ],
      "title": "EPUB Publications 3.0",
      "href": "http://idpf.org/epub/30/spec/epub30-publications-20111011.html",
      "date": "11 October 2011",
      "publisher": "IDPF"
    },
    "EPUBPublications-301": {
      "authors": [
        "Markus Gylling",
        "William McCoy",
        "Matt Garrish"
      ],
      "title": "EPUB Publications 3.0.1",
      "href": "http://idpf.org/epub/301/spec/epub-publications-20140626.html",
      "date": "26 June 2014",
      "publisher": "IDPF"
    },
    "H264": {
      "title": "H.264 : Advanced video coding for generic audiovisual services",
      "href": "https://www.itu.int/ITU-T/recommendations/rec.aspx?rec=13189",
      "date": "2017-04-13",
      "id": "h264"
    },
    "IPA": {
      "title": "IPA Chart",
      "href": "https://www.internationalphoneticassociation.org/content/full-ipa-chart",
      "publisher": "International Phonetic Association",
      "date": "2005",
      "id": "ipa"
    },
    "ISO24751-3": {
      "title": " ISO/IEC 24751-3:2008 Information technology -- Individualized adaptability and accessibility in e-learning, education and training -- Part 3: &quot;Access for all&quot; digital resource description",
      "href": "http://www.iso.org/iso/catalogue_detail?csnumber=43604",
      "date": "2008-10-01"
    },
    "ISOSchematron": {
      "title": "ISO/IEC 19757-3: Rule-based validation â€” Schematron",
      "href": "http://standards.iso.org/ittf/PubliclyAvailableStandards/c040833_ISO_IEC_19757-3_2006(E).zip",
      "date": "2006-06-01"
    },
    "MARC21": {
      "title": "MARC 21 XML",
      "href": "https://www.loc.gov/standards/marcxml/"
    },
    "NVDL": {
      "title": "ISO/IEC 19757-4: NVDL (Namespace-based Validation Dispatching Language)",
      "href": "http://standards.iso.org/ittf/PubliclyAvailableStandards/c038615_ISO_IEC_19757-4_2006(E).zip",
      "date": "2006-06-01"
    },
    "OCF-201": {
      "title": "EPUB Open Container Format (OCF) 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OCF_2.0.1_draft.doc",
      "date": "04 September 2010",
      "publisher": "IDPF"
    },
    "OCF-30": {
      "authors": [
        "James Pritchett",
        "Markus Gylling"
      ],
      "title": "EPUB Open Container Format (OCF) 3.0",
      "href": "http://idpf.org/epub/30/spec/epub30-ocf-20111011.html",
      "date": "11 October 2011",
      "publisher": "IDPF"
    },
    "OCF-301": {
      "authors": [
        "James Pritchett",
        "Markus Gylling"
      ],
      "title": "EPUB Open Container Format (OCF) 3.0.1",
      "href": "http://idpf.org/epub/301/spec/epub-ocf-20140626.html",
      "date": "26 June 2014",
      "publisher": "IDPF"
    },
    "OCF-31": {
      "authors": [
        "James Pritchett",
        "Markus Gylling"
      ],
      "title": "Open Container Format (OCF) 3.1",
      "href": "http://idpf.org/epub/31/spec/epub-ocf-20170105.html",
      "date": "05 January 2017",
      "publisher": "IDPF"
    },
    "OCF-32": {
      "authors": [
        "Garth Conboy"
      ],
      "title": "Open Container Format (OCF) 3.2",
      "href": "https://www.w3.org/publishing/epub32/epub-ocf.html",
      "date": "08 May 2019",
      "publisher": "EPUB 3 Community Group"
    },
    "ODF": {
      "title": "Open Document Format for Office Applications (OpenDocument) v1.0",
      "href": "https://www.oasis-open.org/committees/download.php/12572/OpenDocument-v1.0-os.pdf",
      "date": "1 May 2005"
    },
    "ONIX": {
      "title": "ONIX for Books 3.0",
      "href": "https://www.editeur.org/8/ONIX/"
    },
    "OPF-201": {
      "title": "Open Packaging Format 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm",
      "date": "04 September 2010",
      "publisher": "IDPF"
    },
    "OPS-201": {
      "title": "Open Publication Structure 2.0.1",
      "href": "http://www.idpf.org/epub/20/spec/OPS_2.0.1_draft.htm",
      "date": "04 September 2010",
      "publisher": "IDPF"
    },
    "RFC": {
      "title": "Request for Comments",
      "href": "https://www.ietf.org/standards/rfcs/",
      "id": "rfc"
    },
    "RoleExtensions": {
      "title": "EPUB Collection Element Role Extensions",
      "href": "http://www.idpf.org/epub/extensions/roles"
    },
    "RoleRegistry": {
      "title": "EPUB Collection Roles Registry",
      "href": "http://www.idpf.org/epub/registries/roles"
    },
    "SHA-1": {
      "title": "Federal Information Processing Standards Publication 180-3: Secure Hash Standard (SHS)",
      "href": "http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf",
      "date": "October 2008"
    },
    "SVG": {
      "title": "SVG",
      "href": "https://www.w3.org/TR/SVG/",
      "publisher": "W3C",
      "id": "svg"
    },
    "SWF": {
      "title": "SWF File Format Specification Version 19",
      "href": "https://www.adobe.com/content/dam/acom/en/devnet/pdf/swf-file-format-spec.pdf",
      "date": "2012"
    },
    "TR15": {
      "title": "Unicode Normalization Forms",
      "href": "http://www.unicode.org/reports/tr15/"
    },
    "TrueType": {
      "title": "Apple TrueType Reference Manual",
      "href": "https://developer.apple.com/fonts/TrueType-Reference-Manual/",
      "publisher": "Apple",
      "date": "2002",
      "id": "truetype"
    },
    "TypesRegistry": {
      "title": "EPUB Publication Types Registry",
      "href": "http://www.idpf.org/epub/vocab/package/types"
    },
    "US-ASCII": {
      "title": "&quot;Coded Character Set - 7-bit American Standard Code for Information Interchange&quot;, ANSI X3.4, 1986."
    },
    "WCAG2": {
      "title": "Web Content Accessibility Guidelines (WCAG) 2",
      "href": "https://www.w3.org/TR/WCAG2/",
      "publisher": "W3C"
    },
    "WebP-Container": {
      "title": "WebP Container Specification",
      "href": "https://developers.google.com/speed/webp/docs/riff_container"
    },
    "WebP-LB": {
      "title": "WebP Lossless Bitstream Specification",
      "href": "https://developers.google.com/speed/webp/docs/webp_lossless_bitstream_specification"
    },
    "W3CProcess": {
      "title": "W3C Process Document",
      "href": "https://www.w3.org/Consortium/Process/",
      "id": "w3cprocess"
    },
    "XPTRSH": {
      "title": "XPointer Shorthand Notation",
      "href": "https://www.w3.org/TR/2003/REC-xptr-framework-20030325/",
      "date": "25 March 2003"
    }
  },
  "preProcess": [
    null,
    null
  ],
  "postProcess": [
    null
  ],
  "publishDate": "2021-04-06",
  "publishISODate": "2021-04-06T00:00:00.000Z",
  "generatedSubtitle": "Working Draft 06 April 2021"
}</script>
		<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD" />
	</head>
	<body class="h-entry" data-cite="WebIDL"><div class="head">
			<a class="logo" href="https://www.w3.org/"><img alt="W3C" width="72" height="48"
					src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" /></a>
			<h1 id="title" class="title">EPUB Reading Systems 3.3</h1>

			<h2> W3C Working Draft <time class="dt-published" datetime="2021-04-06">06 April 2021</time>
			</h2>
			<dl>
				<dt>This version:</dt>
				<dd>
					<a class="u-url" href="https://www.w3.org/TR/2021/WD-epub-rs-33-20210406/"
						>https://www.w3.org/TR/2021/WD-epub-rs-33-20210406/</a>
				</dd>
				<dt>Latest published version:</dt>
				<dd>
					<a href="https://www.w3.org/TR/epub-rs-33/">https://www.w3.org/TR/epub-rs-33/</a>
				</dd>
				<dt>Latest editor's draft:</dt>
				<dd><a href="https://w3c.github.io/epub-specs/epub33/rs/"
						>https://w3c.github.io/epub-specs/epub33/rs/</a></dd>



				<dt>Previous version:</dt>
				<dd><a href="https://www.w3.org/TR/2021/WD-epub-rs-33-20210224/"
						>https://www.w3.org/TR/2021/WD-epub-rs-33-20210224/</a></dd>

				<dt>Editors:</dt>
				<dd class="p-author h-card vcard" data-editor-id="65283"><span class="p-name fn">Dave Cramer</span></dd>
				<dd class="p-author h-card vcard" data-editor-id="51655"><span class="p-name fn">Matt Garrish</span> (<a
						class="p-org org h-org h-card" href="https://www.daisy.org">DAISY Consortium</a>) </dd>
				<dd class="p-author h-card vcard" data-editor-id="7382"><a class="u-url url p-name fn"
						href="https://www.w3.org/People/Ivan/">Ivan Herman</a><a class="p-name orcid"
						href="https://orcid.org/0000-0003-0782-2704"><svg width="16" height="16"
							xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
							<style type="text/css">
								.st1 {
									fill: #fff;
								}</style>
							<path d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z"
								fill="#a6ce39"/>
							<path class="st1"
								d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"
							/>
						</svg>
					</a> (<a class="p-org org h-org h-card" href="https://www.w3.org">W3C</a>) </dd>
				<dt> Former editors: </dt>
				<dd class="p-author h-card vcard" data-editor-id="92141"><span class="p-name fn">Garth Conboy</span> (<a
						class="p-org org h-org h-card" href="https://www.google.com">Google</a>) </dd>
				<dd class="p-author h-card vcard" data-editor-id="35713"><span class="p-name fn">Marisa DeMeglio</span>
						(<a class="p-org org h-org h-card" href="https://www.daisy.org">DAISY Consortium</a>) </dd>
				<dd class="p-author h-card vcard" data-editor-id="45653"><span class="p-name fn">Daniel Weck</span> (<a
						class="p-org org h-org h-card" href="https://www.daisy.org">DAISY Consortium</a>) </dd>

				<dt>Participate:</dt>
				<dd>
					<a href="https://github.com/w3c/epub-specs/">GitHub w3c/epub-specs</a>
				</dd>
				<dd>
					<a href="https://github.com/w3c/epub-specs/issues/">File a bug</a>
				</dd>
				<dd>
					<a href="https://github.com/w3c/epub-specs/commits/main">Commit history</a>
				</dd>
				<dd>
					<a href="https://github.com/w3c/epub-specs/pulls/">Pull requests</a>
				</dd>
			</dl>



			<p class="copyright">
				<a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> Â© 1999-2021 <a
					href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>Â®</sup> (<a
					href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology"
				>MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr
						title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a
					href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a
					href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
					href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
					rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"
					>permissive document license</a> rules apply. </p>
			<hr title="Separator for header" />
		</div>
		<section id="abstract" class="introductory">
			<h2>Abstract</h2>
			<p>EPUBÂ® 3 defines a distribution and interchange format for digital publications and documents. The EPUB
				format provides a means of representing, packaging, and encoding structured and semantically enhanced
				Web content â€” including HTML, CSS, SVG and other resources â€” for distribution in a single-file
				container.</p>
			<p>This specification defines the conformance requirements for EPUBÂ® 3 Reading Systems â€” the user agents
				that render EPUB Publications.</p>
		</section>
		<section id="sotd" class="introductory">
			<h2>Status of This Document</h2>
			<p><em>This section describes the status of this document at the time of its publication. Other documents
					may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
					publications and the latest revision of this technical report can be found in the <a
						href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
						reports index</a> at https://www.w3.org/TR/.</em></p>
			<p> This document was published by the <a href="https://www.w3.org/publishing/groups/epub-wg/">EPUB 3
					Working Group</a> as a Working Draft. This document is intended to become a <abbr
					title="World Wide Web Consortium">W3C</abbr> Recommendation. </p>
			<p>
				<a href="https://github.com/w3c/epub-specs/issues/">GitHub Issues</a> are preferred for discussion of
				this specification. Alternatively, you can send comments to our mailing list. Please send them to <a
					href="mailto:public-epub-wg@w3.org">public-epub-wg@w3.org</a> (<a
					href="mailto:public-epub-wg-request@w3.org?subject=subscribe">subscribe</a>, <a
					href="https://lists.w3.org/Archives/Public/public-epub-wg/">archives</a>). </p>
			<p> Publication as a Working Draft does not imply endorsement by the <abbr title="World Wide Web Consortium"
					>W3C</abbr> Membership. </p>
			<p>This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is
				inappropriate to cite this document as other than work in progress. </p>
			<p></p>
			<p> This document was produced by a group operating under the <a
					href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium"
						>W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a
					rel="disclosure" href="https://www.w3.org/2004/01/pp-impl/125377/status">public list of any patent
					disclosures</a> made in connection with the deliverables of the group; that page also includes
				instructions for disclosing a patent. An individual who has actual knowledge of a patent which the
				individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential"
					>Essential Claim(s)</a> must disclose the information in accordance with <a
					href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr
						title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. </p>
			<p> This document is governed by the <a id="w3c_process_revision"
					href="https://www.w3.org/2020/Process-20200915/">15 September 2020 <abbr
						title="World Wide Web Consortium">W3C</abbr> Process Document</a>. </p>
		</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc">
				<li class="tocline"><a class="tocxref" href="#sec-introduction"><bdi class="secno">1.
						</bdi>Introduction</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-intro-overview"><bdi class="secno">1.1
								</bdi>Overview</a></li>
						<li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1.2
								</bdi>Conformance</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-intro-relations"><bdi class="secno">1.3
								</bdi>Relationship to Other Specifications</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#rel"><bdi class="secno">1.3.1
										</bdi>Relationship to HTML</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-overview-relations-svg"><bdi
											class="secno">1.3.2 </bdi>Relationship to SVG</a></li>
							</ol></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-pub-resources"><bdi class="secno">2. </bdi>Publication
						Resource Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-foreign-res"><bdi class="secno"
									>2.1 </bdi>Foreign Resources</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-remote-res"><bdi class="secno"
									>2.2 </bdi>Remote Resources</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-data-urls"><bdi class="secno">2.3
								</bdi>Data URLs</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-cmt"><bdi class="secno">2.4
								</bdi>Core Media Types</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-xml"><bdi class="secno">2.5
								</bdi>XML Processing</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-package-doc"><bdi class="secno">3. </bdi>Package
						Document Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-presentation"><bdi class="secno">3.1
								</bdi>Presentation Logic</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-relative-iris"><bdi class="secno">3.2
								</bdi>Resolving Relative IRIs</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-base-dir"><bdi class="secno">3.3
								</bdi>Base Direction</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-pub-identifiers"><bdi class="secno"
									>3.4 </bdi>Unique Identifier</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-metadata"><bdi class="secno">3.5
								</bdi>Metadata</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-manifest"><bdi class="secno">3.6
								</bdi>Manifest</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-spine"><bdi class="secno">3.7
								</bdi>Spine</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pkg-doc-collections"><bdi class="secno">3.8
								</bdi>Collections</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-contentdocs"><bdi class="secno">4. </bdi>Content
						Document Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-xhtml"><bdi class="secno">4.1 </bdi>XHTML
								Content Documents</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#sec-xhtml-extensions"><bdi class="secno"
											>4.1.1 </bdi>HTML Extensions</a><ol class="toc">
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-aria"><bdi class="secno"
													>4.1.1.1 </bdi>ARIA</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-structural-semantics"
													><bdi class="secno">4.1.1.2 </bdi>Structural Semantics</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-rdfa"><bdi class="secno"
													>4.1.1.3 </bdi>RDFa</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-microdata"><bdi
													class="secno">4.1.1.4 </bdi>Microdata</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-ssml-attrib"><bdi
													class="secno">4.1.1.5 </bdi>SSML Attributes</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-content-switch"><bdi
													class="secno">4.1.1.6 </bdi>Content Switching (Deprecated)</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-epub-trigger"><bdi
													class="secno">4.1.1.7 </bdi>The <code>epub:trigger</code> Element
												(Deprecated)</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-custom-attributes"><bdi
													class="secno">4.1.1.8 </bdi>Custom Attributes</a></li>
									</ol></li>
								<li class="tocline"><a class="tocxref" href="#sec-xhtml-deviations"><bdi class="secno"
											>4.1.2 </bdi>HTML Deviations and Constraints</a><ol class="toc">
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-mathml"><bdi
													class="secno">4.1.2.1 </bdi>MathML</a></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-svg"><bdi class="secno"
													>4.1.2.2 </bdi>Embedded SVG</a><ol class="toc">
												<li class="tocline"><a class="tocxref" href="#sec-xhtml-svg-css"><bdi
															class="secno">4.1.2.2.1 </bdi>Embedded SVG and CSS</a></li>
											</ol></li>
										<li class="tocline"><a class="tocxref" href="#sec-xhtml-forms"><bdi
													class="secno">4.1.2.3 </bdi>Form Submission</a></li>
									</ol></li>
							</ol></li>
						<li class="tocline"><a class="tocxref" href="#sec-svg"><bdi class="secno">4.2 </bdi>SVG Content
								Documents</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-css"><bdi class="secno">4.3 </bdi>Cascading
								Style Sheets (CSS)</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-scripted-content"><bdi class="secno">4.4
								</bdi>Scripting</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-pls"><bdi class="secno">4.5
								</bdi>Pronunciation Lexicons</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-nav"><bdi class="secno">5. </bdi>Navigation Document
						Processing</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-fixed-layouts"><bdi class="secno">6.
						</bdi>Fixed-Layout Documents Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-fxl-props"><bdi class="secno">6.1
								</bdi>Fixed-Layout Properties</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#layout"><bdi class="secno">6.1.1 </bdi>The
											<code>rendition:layout</code> Property</a></li>
								<li class="tocline"><a class="tocxref" href="#orientation"><bdi class="secno">6.1.2
										</bdi>The <code>rendition:orientation</code> Property</a></li>
								<li class="tocline"><a class="tocxref" href="#spread"><bdi class="secno">6.1.3 </bdi>The
											<code>rendition:spread</code> Property</a></li>
								<li class="tocline"><a class="tocxref" href="#page-spread"><bdi class="secno">6.1.4
										</bdi>The <code>rendition:page-spread-*</code> Properties</a></li>
							</ol></li>
						<li class="tocline"><a class="tocxref" href="#sec-fxl-dimensions"><bdi class="secno">6.2
								</bdi>Initial Containing Block Dimensions</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-fxl-viewport"><bdi class="secno">6.3
								</bdi>Viewport Rendering</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-ocf"><bdi class="secno">7. </bdi>Open Container Format
						Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-container-abstract"><bdi class="secno">7.1
								</bdi>OCF Abstract Container</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#sec-container-iri"><bdi class="secno"
											>7.1.1 </bdi>Relative IRIs for Referencing Other Components</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-container-filenames"><bdi
											class="secno">7.1.2 </bdi>File Names</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-container-metainf"><bdi class="secno"
											>7.1.3 </bdi><code>META-INF</code> Directory</a></li>
							</ol></li>
						<li class="tocline"><a class="tocxref" href="#sec-container-zip"><bdi class="secno">7.2
								</bdi>OCF ZIP Container</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-container-res-obfus"><bdi class="secno">7.3
								</bdi>Resource Obfuscation</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-media-overlays"><bdi class="secno">8. </bdi>Media
						Overlays Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-behaviors-loading"><bdi class="secno">8.1
								</bdi>Loading the Media Overlay</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-behaviors-playback"><bdi class="secno">8.2
								</bdi>Basic Playback</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#sec-rsconf-timing-synch"><bdi
											class="secno">8.2.1 </bdi>Timing and Synchronization</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-rsconf-rendering-audio"><bdi
											class="secno">8.2.2 </bdi>Rendering Audio</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-rsconf-rendering-text"><bdi
											class="secno">8.2.3 </bdi>Rendering EPUB Content Document Elements</a></li>
							</ol></li>
						<li class="tocline"><a class="tocxref" href="#sec-behaviors-interaction"><bdi class="secno">8.3
								</bdi>Interacting with the EPUB Content Document</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#sec-rsconf-navigation"><bdi class="secno"
											>8.3.1 </bdi>Navigation</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-embedded-media"><bdi class="secno"
											>8.3.2 </bdi>Embedded Audio and Video</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-text-to-speech"><bdi class="secno"
											>8.3.3 </bdi>Text-to-Speech</a></li>
							</ol></li>
						<li class="tocline"><a class="tocxref" href="#sec-behaviors-skip-escape"><bdi class="secno">8.4
								</bdi>Skippability and Escapability</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#sec-skippability"><bdi class="secno">8.4.1
										</bdi>Skippability</a></li>
								<li class="tocline"><a class="tocxref" href="#sec-escapability"><bdi class="secno">8.4.2
										</bdi>Escapability</a></li>
							</ol></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-structural-semantics"><bdi class="secno">9.
						</bdi>Processing Structural Semantics</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-vocab-assoc"><bdi class="secno">10. </bdi>Vocabulary
						Association Mechanisms</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-package-metadata-rendering"><bdi class="secno">11.
						</bdi>Package Rendering Metadata Processing</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#flow"><bdi class="secno">11.1 </bdi>The
									<code>rendition:flow</code> Property</a></li>
						<li class="tocline"><a class="tocxref" href="#align-x-center"><bdi class="secno">11.2 </bdi>The
									<code>rendition:align-x-center</code> Property</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-backward"><bdi class="secno">12.
						</bdi>Backward Compatibility</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-forward"><bdi class="secno">13.
						</bdi>Forward Compatibility</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-epub-rs-conf-a11y"><bdi class="secno">14.
						</bdi>Accessibility</a></li>
				<li class="tocline"><a class="tocxref" href="#sec-security-privacy"><bdi class="secno">15.
						</bdi>Security and Privacy</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#sec-scripted-content-security"><bdi class="secno"
									>15.1 </bdi>Scripting Considerations</a></li>
						<li class="tocline"><a class="tocxref" href="#sec-scripted-content-events"><bdi class="secno"
									>15.2 </bdi>Event Model Considerations</a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#app-epubReadingSystem"><bdi class="secno">A.
						</bdi>JavaScript <span>epubReadingSystem</span> Object</a><ol class="toc">
						<li class="tocline"><a class="tocxref" href="#app-ers-idl"><bdi class="secno">A.1
								</bdi>Interface Definition</a></li>
						<li class="tocline"><a class="tocxref" href="#app-ers-desc"><bdi class="secno">A.2
								</bdi>Description</a></li>
						<li class="tocline"><a class="tocxref" href="#app-ers-properties"><bdi class="secno">A.3
								</bdi>Properties</a></li>
						<li class="tocline"><a class="tocxref" href="#app-ers-methods"><bdi class="secno">A.4
								</bdi>Methods</a><ol class="toc">
								<li class="tocline"><a class="tocxref" href="#app-ers-hasFeature"><bdi class="secno"
											>A.4.1 </bdi>hasFeature</a><ol class="toc">
										<li class="tocline"><a class="tocxref" href="#app-ers-hasFeature-desc"><bdi
													class="secno">A.4.1.1 </bdi>Description</a></li>
										<li class="tocline"><a class="tocxref" href="#app-ers-hasFeature-features"><bdi
													class="secno">A.4.1.2 </bdi>Features</a></li>
									</ol></li>
							</ol></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#change-log"><bdi class="secno">B. </bdi>Change Log</a><ol
						class="toc">
						<li class="tocline"><a class="tocxref" href="#changes-latest"><bdi class="secno">B.1
								</bdi>Substantive Changes since the <span class="formerLink">Previous Working
									Draft</span></a></li>
						<li class="tocline"><a class="tocxref" href="#changes-older"><bdi class="secno">B.2
								</bdi>Substantive Changes since <span class="formerLink">EPUB 3.2</span></a></li>
					</ol></li>
				<li class="tocline"><a class="tocxref" href="#ack"><bdi class="secno">C. </bdi>Acknowledgements</a></li>
				<li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">D. </bdi>References</a><ol
						class="toc">
						<li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">D.1
								</bdi>Normative references</a></li>
						<li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">D.2
								</bdi>Informative references</a></li>
					</ol></li>
			</ol></nav>
		<section id="sec-introduction">
			<h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction<a class="self-link" aria-label="Â§"
					href="#sec-introduction"></a></h2>

			<section id="sec-intro-overview">
				<h3 id="x1-1-overview"><bdi class="secno">1.1 </bdi>Overview<a class="self-link" aria-label="Â§"
						href="#sec-intro-overview"></a></h3>

				<p>The EPUB 3 standard is separated into two distinct concerns: the authoring of <a
						href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB Publications</a> is defined in
					the <a href="https://www.w3.org/TR/epub-33/">core specification</a> [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>], while this
					specification details the rendering requirements for them in EPUB Reading Systems.</p>

				<p>An EPUB Reading System can take many forms. It might have a visual display area for rendering the
					content to users, for example, or it might only provide audio playback of the content. As a result,
					there is no single set of rules that all Reading Systems have to follow. Rather, the rendering
					requirements are broken down based on the Reading System's capabilities and the features its
					supports.</p>

				<p>Moreover, a great deal of flexibility is provided to developers to create unique user interfaces,
					such as their bookshelves. As a result, metadata processing requirements are often quite minimal,
					for example.</p>

				<p>So, although this specification identifies the formal requirements for Reading Systems, it is not
					possible to read this document in isolation. Developers will also need to familiarize themselves
					with the full content structure of an EPUB Publication to understand the complete range of
					information that is available.</p>

				<div class="note" role="note" id="issue-container-generatedID">
					<div role="heading" class="note-title marker" id="h-note" aria-level="4">
						<span>Note</span>
					</div>
					<div class="">
						<p>A conforming Reading System is not necessarily a single dedicated program or device but might
							exist as a distributed system.</p>
					</div>
				</div>
			</section>

			<section id="conformance">
				<h3 id="x1-2-conformance"><bdi class="secno">1.2 </bdi>Conformance<a class="self-link" aria-label="Â§"
						href="#conformance"></a></h3>
				<p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes
					in this specification are non-normative. Everything else in this specification is normative.</p>
				<p> The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST
						NOT</em>, <em class="rfc2119">NOT REQUIRED</em>, <em class="rfc2119">OPTIONAL</em>, <em
						class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119"
						>SHOULD NOT</em> in this document are to be interpreted as described in <a
						href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a> [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-rfc2119"
							title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>]
							[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174"
							title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>] when,
					and only when, they appear in all capitals, as shown here. </p>
			</section>

			<section id="sec-intro-relations" class="informative">
				<h3 id="x1-3-relationship-to-other-specifications"><bdi class="secno">1.3 </bdi>Relationship to Other
						Specifications<a class="self-link" aria-label="Â§" href="#sec-intro-relations"></a></h3>
				<p><em>This section is non-normative.</em></p>

				<section id="rel">
					<h4 id="x1-3-1-relationship-to-html"><bdi class="secno">1.3.1 </bdi>Relationship to HTML<a
							class="self-link" aria-label="Â§" href="#rel"></a></h4>

					<p>The [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard"
								>HTML</a></cite>] standard is continuously evolving â€” there are no longer versioned
						releases of it. That standard, in turn, references various technologies that continue to evolve,
						such as MathML, SVG, CSS, and JavaScript.</p>

					<p>Reading System developers will need to keep track of the changes to HTML, and the technologies it
						references, and ensure that their systems are kept up to date.</p>

					<p>This specification does not require EPUB Reading Systems to support scripting, HTML forms or the
						HTML DOM. Reading Systems conformant with this specification are only expected to be able to
						process a conforming <a href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB
							Content Document</a>. As <a href="#sec-scripted-content">support for scripting and HTML
							forms</a> is not compulsory, a conformant Reading System might not be a fully-conformant
						HTML user agent.</p>
				</section>


				<section id="sec-overview-relations-svg">
					<h4 id="x1-3-2-relationship-to-svg"><bdi class="secno">1.3.2 </bdi>Relationship to SVG<a
							class="self-link" aria-label="Â§" href="#sec-overview-relations-svg"></a></h4>

					<p>This specification does not reference a specific version of [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-svg" title="SVG">SVG</a></cite>], but instead uses an
						undated reference. Whenever there is any ambiguity in this reference, the latest recommended
						specification is the authoritative reference.</p>

					<p>This approach ensures that EPUB will always keep pace with changes to the SVG standard. Reading
						System developers will need to keep track of changes to the SVG standard and ensure that their
						systems are kept up to date.</p>
				</section>
			</section>
		</section>
		<section id="sec-pub-resources">
			<h2 id="x2-publication-resource-processing"><bdi class="secno">2. </bdi>Publication Resource Processing<a
					class="self-link" aria-label="Â§" href="#sec-pub-resources"></a></h2>

			<p id="confreq-rs-epub-pub-res" class="support">Reading Systems <em class="rfc2119">MUST</em> process <a
					href="https://www.w3.org/TR/epub-33/#sec-package-doc">Publication Resources</a> [<cite><a
						class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
				>EPUB-33</a></cite>].</p>

			<section id="sec-epub-rs-conf-foreign-res">
				<h3 id="x2-1-foreign-resources"><bdi class="secno">2.1 </bdi>Foreign Resources<a class="self-link"
						aria-label="Â§" href="#sec-epub-rs-conf-foreign-res"></a></h3>

				<p id="confreq-rs-foreign">Reading Systems <em class="rfc2119">MAY</em> support an arbitrary set of <a
						href="https://www.w3.org/TR/epub-33/#dfn-foreign-resource">Foreign Resource</a> types, and <em
						class="rfc2119">MUST</em> process fallbacks for unsupported Foreign Resources as defined in <a
						href="https://www.w3.org/TR/epub-33/#sec-foreign-restrictions">Foreign Resources</a> [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>] if not.</p>
			</section>

			<section id="sec-epub-rs-conf-remote-res">
				<h3 id="x2-2-remote-resources"><bdi class="secno">2.2 </bdi>Remote Resources<a class="self-link"
						aria-label="Â§" href="#sec-epub-rs-conf-remote-res"></a></h3>

				<p id="confreq-rs-remote">Reading Systems <em class="rfc2119">SHOULD</em> support <a
						href="https://www.w3.org/TR/epub-33/#dfn-remote-resource">remote resources</a>, as defined in <a
						href="https://www.w3.org/TR/epub-33/#sec-resource-locations">Resource Locations</a> [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>
			</section>

			<section id="sec-epub-rs-conf-data-urls">
				<h3 id="x2-3-data-urls"><bdi class="secno">2.3 </bdi>Data URLs<a class="self-link" aria-label="Â§"
						href="#sec-epub-rs-conf-data-urls"></a></h3>

				<p id="confreq-rs-data-urls">Reading Systems <em class="rfc2119">MUST</em> prevent data URLs [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-rfc2397"
							title="The &quot;data&quot; URL scheme">RFC2397</a></cite>] from opening in <a
						href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level
						browsing contexts</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
							title="HTML Standard">HTML</a></cite>], except when initiated through a Reading System
					affordance such as a context menu. If a Reading System does not use a top-level browsing context for
						<a href="https://www.w3.org/TR/epub-33/#dfn-top-level-content-document">Top-level Content
						Documents</a>, it <em class="rfc2119">MUST</em> also prevent data URLs from opening as though
					they are Top-level Content Documents.</p>
				<div class="issue" id="issue-container-number-1592">
					<div role="heading" class="issue-title marker" id="h-issue" aria-level="4">
						<a href="https://github.com/w3c/epub-specs/issues/1592"><span class="issue-number">Issue
								1592</span></a>
						<span class="issue-label"
							aria-label="This issue is labelled as Cat-Security, Spec-ReadingSystems, and tag-tracker.">:
							Find the best terminology to restrict the usage of data urls <a class="respec-gh-label"
								href="https://github.com/w3c/epub-specs/issues/?q=is%3Aissue+is%3Aopen+label%3A%22Cat-Security%22"
								style="background-color: rgb(229, 220, 251); color: rgb(0, 0, 0);">Cat-Security</a><a
								class="respec-gh-label"
								href="https://github.com/w3c/epub-specs/issues/?q=is%3Aissue+is%3Aopen+label%3A%22Spec-ReadingSystems%22"
								style="background-color: rgb(199, 222, 248); color: rgb(0, 0, 0);"
								>Spec-ReadingSystems</a><a class="respec-gh-label"
								href="https://github.com/w3c/epub-specs/issues/?q=is%3Aissue+is%3Aopen+label%3A%22tag-tracker%22"
								style="background-color: rgb(127, 255, 0); color: rgb(255, 255, 255);"
							>tag-tracker</a></span>
					</div>
					<p>There is no final agreement in the WG on how to precisely formulate the restrictions on the usage
						of data-url-s. The <a href="https://w3c.github.io/epub-specs/epub33/rs/#confreq-rs-data-urls"
							rel="nofollow">current formulation</a> relies on the <a
							href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
							rel="nofollow">top-level browsing contexts</a> term but that may not be adequate (e.g., if
						the top level document is an SVG file).</p>
					<p>The generic goal is to disallow (for, e.g., security reasons) using, e.g., an
							<code>&lt;a&gt;</code> element referring to a data URL, while still making it possible to,
						use a data url in, say, an <code>&lt;img&gt;</code> element. Browsers implement similar
						restrictions, but the WG would need a generic, browser-independent terminology to include in the
						EPUB Reading System specification.</p>
				</div>
			</section>

			<section id="sec-epub-rs-conf-cmt">
				<h3 id="x2-4-core-media-types"><bdi class="secno">2.4 </bdi>Core Media Types<a class="self-link"
						aria-label="Â§" href="#sec-epub-rs-conf-cmt"></a></h3>

				<p id="confreq-rs-epub3-images">If a Reading System has a <a
						href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a>, it <em class="rfc2119"
						>MUST</em> support the <a href="https://www.w3.org/TR/epub-33/#cmt-grp-image">image Core Media
						Type Resources</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>].</p>

				<p id="confreq-rs-epub3-mp3-aac">If it has the capability to render pre-recorded audio, it <em
						class="rfc2119">MUST</em> support the <a href="https://www.w3.org/TR/epub-33/#cmt-grp-audio"
						>audio Core Media Type Resources</a> [<cite><a class="bibref" data-link-type="biblio"
							href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] and <em class="rfc2119">SHOULD</em>
					support Media Overlays [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>].</p>

				<div class="note" role="note" id="note-video-codecs">
					<div role="heading" class="note-title marker" id="h-note-0" aria-level="4">
						<span>Note</span>
					</div>
					<p class="">It is recommended that Reading Systems support at least one of the H.264 [<cite><a
								class="bibref" data-link-type="biblio" href="#bib-h264"
								title="H.264 : Advanced video coding for generic audiovisual services">H264</a></cite>]
						and VP8 [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6386"
								title="VP8 Data Format and Decoding Guide">RFC6386</a></cite>] video codecs, but this is
						not a conformance requirement â€” a Reading System may support other video codecs, or none at all.
						Reading System developers need to take into consideration factors such as breadth of adoption,
						video playback quality, and technology usage royalty requirements when making the choice to
						implement video in either format, or both.</p>
				</div>
			</section>

			<section id="sec-epub-rs-conf-xml">
				<h3 id="x2-5-xml-processing"><bdi class="secno">2.5 </bdi>XML Processing<a class="self-link"
						aria-label="Â§" href="#sec-epub-rs-conf-xml"></a></h3>

				<p>A Reading System <em class="rfc2119">MUST</em> be all of the following:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-rs-xml-nval"><span class="link-marker"><a href="#confreq-rs-xml-nval"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>a <a href="https://www.w3.org/TR/2008/REC-xml-20081126/#proc-types">conformant
								non-validating processor</a> [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-xml" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)"
								>XML</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-rs-xml-ns"><span class="link-marker"><a href="#confreq-rs-xml-ns"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>a <a href="https://www.w3.org/TR/2009/REC-XML-NAMES-20091208/#ProcessorConformance"
								>conformant processor</a> as defined in [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-xml-names" title="Namespaces in XML 1.0 (Third Edition)"
								>XML-NAMES</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-rs-xml-base"><span class="link-marker"><a href="#confreq-rs-xml-base"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>a conformant application as defined by [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-xmlbase" title="XML Base (Second Edition)"
									>XMLBase</a></cite>].</p>
					</li>
				</ul>

				<p id="confreq-rs-xml-extid">In addition, when processing XML documents, it <em class="rfc2119">MUST
						NOT</em> resolve <a href="https://www.w3.org/TR/2008/REC-xml-20081126/#NT-ExternalID">external
						identifiers</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-xml"
							title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">XML</a></cite>].</p>
			</section>
		</section>
		<section id="sec-package-doc">
			<h2 id="x3-package-document-processing"><bdi class="secno">3. </bdi>Package Document Processing<a
					class="self-link" aria-label="Â§" href="#sec-package-doc"></a></h2>

			<p id="confreq-rs-epub-pub" class="support">Reading Systems <em class="rfc2119">MUST</em> process the <a
					href="https://www.w3.org/TR/epub-33/#sec-package-doc">Package Document</a> [<cite><a class="bibref"
						data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

			<section id="sec-pkg-doc-presentation">
				<h3 id="x3-1-presentation-logic"><bdi class="secno">3.1 </bdi>Presentation Logic<a class="self-link"
						aria-label="Â§" href="#sec-pkg-doc-presentation"></a></h3>

				<p id="confreq-rendition-rs-package">Reading Systems <em class="rfc2119">MUST</em> honor all
					presentation logic expressed through the <a href="https://www.w3.org/TR/epub-33/#sec-package-def"
						>Package Document</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>] (e.g., the reading order, fallback chains, page
					progression direction and fixed layouts).</p>
			</section>

			<section id="sec-pkg-doc-relative-iris">
				<h3 id="x3-2-resolving-relative-iris"><bdi class="secno">3.2 </bdi>Resolving Relative IRIs<a
						class="self-link" aria-label="Â§" href="#sec-pkg-doc-relative-iris"></a></h3>

				<p>To obtain an absolute IRI reference from a relative IRI reference [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-rfc3987"
							title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>] in the Package
					Document, Reading Systems <em class="rfc2119">MUST</em> use the Base IRI [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-rfc3986"
							title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] of the Package
					Document.</p>

				<p>The Base IRI of the Package Document is the combination of the Base IRI of the <a
						href="https://www.w3.org/TR/epub-33/#dfn-epub-container">EPUB Container</a> together with the
					path to Package Document (relative to the <a
						href="https://www.w3.org/TR/epub-33/#dfn-root-directory">Root Directory</a>) when an EPUB
					Publication is zipped.</p>

				<p>This specification does not require a specific IRI scheme for referencing the path to the Package
					Document within the EPUB Container.</p>
			</section>

			<section id="sec-pkg-doc-base-dir">
				<h3 id="x3-3-base-direction"><bdi class="secno">3.3 </bdi>Base Direction<a class="self-link"
						aria-label="Â§" href="#sec-pkg-doc-base-dir"></a></h3>

				<p>If the <code>dir</code> attribute is set and indicates a base direction of <code>ltr</code> or
						<code>rtl</code>, Reading Systems <em class="rfc2119">MUST</em> override the bidi algorithm per
						<a href="https://www.unicode.org/reports/tr9/tr9-42.html#Higher-Level_Protocols">the
						higher-level protocols</a> defined in [<cite><a class="bibref" data-link-type="biblio"
							href="#bib-bidi" title="Unicode Bidirectional Algorithm">BIDI</a></cite>], setting the
					paragraph embedding level to 0 if the base direction is <code>ltr</code>, or 1 if the base direction
					is <code>rtl</code>.</p>

				<p>Otherwise the base direction is <code>auto</code>, in which case Reading Systems <em class="rfc2119"
						>MUST</em> determine the text's direction by applying the Unicode Bidi Algorithm, beginning with
						<a href="https://www.unicode.org/reports/tr9/tr9-42.html#P2">Rule P2</a> of [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-bidi"
							title="Unicode Bidirectional Algorithm">BIDI</a></cite>].</p>
			</section>

			<section id="sec-pkg-doc-pub-identifiers">
				<h3 id="x3-4-unique-identifier"><bdi class="secno">3.4 </bdi>Unique Identifier<a class="self-link"
						aria-label="Â§" href="#sec-pkg-doc-pub-identifiers"></a></h3>

				<p>Reading Systems <em class="rfc2119">SHOULD NOT</em> depend on the <code>unique-identifier</code>
					attribute being unique to one and only one EPUB Publication. Determining whether two EPUB
					Publications with the same Unique Identifier represent different versions of the same publication,
					or different publications, might require inspecting other metadata, such as the titles or
					authors.</p>
			</section>

			<section id="sec-pkg-doc-metadata">
				<h3 id="x3-5-metadata"><bdi class="secno">3.5 </bdi>Metadata<a class="self-link" aria-label="Â§"
						href="#sec-pkg-doc-metadata"></a></h3>

				<dl class="conformance-list">
					<dt id="conf-meta-ws">White Space</dt>
					<dd>
						<p>Reading Systems <em class="rfc2119">MUST</em>
							<a href="https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace">strip and
								collapse ASCII whitespace</a> [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-infra" title="Infra Standard">Infra</a></cite>] from Dublin Core
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-dc11"
									title="Dublin Core Metadata Element Set, Version 1.1">DC11</a></cite>] and <a
								href="https://www.w3.org/TR/epub-33/#sec-meta-elem"><code>meta</code></a> element <a
								href="https://www.w3.org/TR/epub-33/#dfn-value">values</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>]
							before processing.</p>
					</dd>

					<dt id="dc-identifier">The <code>identifier</code> element</dt>
					<dd>
						<p>To determine whether an <code>identifier</code> conforms to an established system or has been
							granted by an issuing authority, Reading Systems <em class="rfc2119">SHOULD</em> check for
							an <a href="https://www.w3.org/TR/epub-33/#identifier-type"><code>identifier-type</code>
								property</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>].</p>
					</dd>

					<dt id="dc-title">The <code>title</code> element</dt>
					<dd>
						<p id="title-order">Reading Systems <em class="rfc2119">MUST</em> recognize the first
								<code>title</code> element in document order as the main title of the EPUB Publication
							and present it to users before other title elements.</p>
						<p>This specification does not define how to process additional <code>title</code> elements.</p>
					</dd>

					<dt id="sec-opf-dclanguage">The <code>language</code> element</dt>
					<dd>
						<p>The language(s) of the <a href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB
								Publication</a> specified in <code>language</code> elements are advisory. Reading
							Systems <em class="rfc2119">MUST</em> use the language information associated with a
							resource to determine its language.</p>
					</dd>

					<dt id="dc-creator">The <code>creator</code> element</dt>
					<dd>
						<p>When determining display priority, Reading Systems <em class="rfc2119">MUST</em> use the
							document order of <code>creator</code> elements in the <code>metadata</code> section, where
							the first <code>creator</code> element encountered is the primary creator. If a Reading
							System exposes creator metadata to the user, it <em class="rfc2119">SHOULD</em> include all
							the creators listed in the <code>metadata</code> section whenever possible (e.g., when not
							constrained by display considerations).</p>
					</dd>

					<dt id="meta">The <code>meta</code> element</dt>
					<dd>
						<p>If a Reading System does not recognize the <code>scheme</code> attribute value, it <em
								class="rfc2119">SHOULD</em> treat the value of the element as a string.</p>
						<p>Reading Systems <em class="rfc2119">SHOULD</em> ignore all <code>meta</code> elements whose
								<code>property</code> attributes define expressions they do not recognize. A Reading
							System <em class="rfc2119">MUST NOT</em> fail when encountering unknown expressions.</p>
					</dd>

					<dt id="conf-metadata-link">The <code>link</code> element</dt>
					<dd>
						<p>Retrieval of Remote Resources is <em class="rfc2119">OPTIONAL</em>.</p>
						<p>The language identified in an <code>hreflang</code> attribute is not authoritative. Language
							information defined in a linked resource determines its language.</p>
						<p>Reading System do not have to use or present linked resources, even if they recognize the
							relationship defined in the <code>rel</code> attribute.</p>
						<p id="sec-linked-records">In the case of a <a href="https://www.w3.org/TR/epub-33/#record"
								>linked metadata record</a> [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>], Reading Systems <em
								class="rfc2119">MUST NOT</em> skip processing the metadata expressed in the Package
							Document and only use the information expressed in the record. Reading Systems <em
								class="rfc2119">MAY</em> compile metadata from multiple linked records; they do not have
							to select only one record.</p>
						<p>When it comes to resolving discrepancies and conflicts between metadata expressed in the
							Package Document and in linked metadata records, Reading Systems <em class="rfc2119"
								>MUST</em> use the document order of <code>link</code> elements in the Package Document
							to establish precedence (i.e., metadata in the first linked record encountered has the
							highest precedence and metadata in the Package Document the lowest, regardless of whether
							the <code>link</code> elements occur before, within or after the package metadata
							elements).</p>
						<p>Reading Systems <em class="rfc2119">MUST</em> ignore any instructions contained in linked
							resources related to the layout and rendering of the EPUB Publication.</p>
					</dd>

					<dt>Proprietary Metadata</dt>
					<dd>
						<p id="confreq-rs-epub3-fxl-conflicts">It <em class="rfc2119">MUST</em> ignore proprietary
							metadata properties that pertain to layout expressions if they conflict behaviorally with
							the property semantics defined in <a href="#sec-fxl-props" class="sec-ref">Â§&#160;<bdi
									class="secno">6.1 </bdi>Fixed-Layout Properties</a>.</p>
					</dd>
				</dl>
			</section>

			<section id="sec-pkg-doc-manifest">
				<h3 id="x3-6-manifest"><bdi class="secno">3.6 </bdi>Manifest<a class="self-link" aria-label="Â§"
						href="#sec-pkg-doc-manifest"></a></h3>

				<p>When an <code>href</code> attribute contains a relative IRI, Reading Systems <em class="rfc2119"
						>MUST</em> use the IRI of the Package Document as the base when resolving to an absolute
					IRI.</p>

				<p>Reading Systems <em class="rfc2119">MAY</em> optimize the rendering depending on the properties set
					in the <code>properties</code> attribute (e.g., disable a rendering process or use a fallback).
					Reading Systems <em class="rfc2119">MUST</em> ignore values of the <code>properties</code> attribute
					they do not recognize.</p>

				<p id="confreq-rendition-rs-manifest">It <em class="rfc2119">SHOULD NOT</em> use non-<a
						href="https://www.w3.org/TR/epub-33/#dfn-publication-resource">Publication Resources</a> in the
					rendering of an EPUB Publication due to the inherent limitations and risks involved (e.g., lack of
					information about the resource and how to process it, security risks from remotely-hosted sources,
					lack of fallbacks, etc.).</p>

				<p>A Reading System that does not support the Media Type of a given Publication Resource <em
						class="rfc2119">MUST</em> traverse the fallback chain until it has identified at least one
					supported Publication Resource to use in place of the unsupported resource. If the Reading System
					supports multiple Publication Resources in the fallback chain, it <em class="rfc2119">MAY</em>
					select the resource to use based on specific <a
						href="https://www.w3.org/TR/epub-33/#attrdef-item-properties">properties</a> [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>] of that resource, otherwise it <em class="rfc2119">SHOULD</em> honor the
					EPUB Creator's preferred fallback order. If a Reading System does not support any resource in the
					fallback chain, it <em class="rfc2119">MUST</em> alert the reader that content could not be
					displayed.</p>

				<p>When <a href="https://www.w3.org/TR/epub-33/#sec-foreign-restrictions-manifest">manifest
						fallbacks</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>] are provided for <a
						href="https://www.w3.org/TR/epub-33/#dfn-top-level-content-document">Top-level Content
						Documents</a>, Reading Systems <em class="rfc2119">MAY</em> choose from the available options in
					order to find the optimal version to render in a given context (e.g., by inspecting the properties
					attribute for each).</p>
			</section>

			<section id="sec-pkg-doc-spine">
				<h3 id="x3-7-spine"><bdi class="secno">3.7 </bdi>Spine<a class="self-link" aria-label="Â§"
						href="#sec-pkg-doc-spine"></a></h3>

				<p>Reading Systems <em class="rfc2119">MUST</em> provide a means of rendering the EPUB Publication in
					the order defined in the <code>spine</code>, which includes: 1) recognizing the first primary
						<code>itemref</code> as the beginning of the default reading order; and, 2) rendering successive
					primary items in the order given in the <code>spine</code>.</p>

				<p>When a user traverses the default reading order defined in the <a
						href="https://www.w3.org/TR/epub-33/#sec-spine-elem">spine</a> [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>], a Reading
					System <em class="rfc2119">MAY</em> automatically skip <code>itemref</code> elements marked as
					non-linear (excluding when a user specifically activates a hyperlink to such items). Reading Systems
						<em class="rfc2119">MAY</em> also provide the option for users to select whether non-linear
					content is skipped by default or not.</p>

				<p>When the <code>default</code> value of the <code>page-progression-direction</code> attribute is
					specified, the Reading System can choose the rendering direction. The <code>default</code> value <em
						class="rfc2119">MUST</em> be assumed when the attribute is not specified. In this case, the
					reading system <em class="rfc2119">SHOULD</em> choose a default
						<code>page-progression-direction</code> value based on the first <code>language</code>
					element.</p>

				<p>Reading Systems <em class="rfc2119">MUST</em> ignore the page progression direction defined in <a
						href="#layout"><code>pre-paginated</code></a> XHTML Content Documents. The
						<code>page-progression-direction</code> attribute defines the flow direction from one
					fixed-layout page to the next.</p>

				<p>Reading Systems <em class="rfc2119">MUST</em> ignore all metadata properties expressed in spine
						<code>itemref</code>
					<code>properties</code> attribute that they do not recognize.</p>
			</section>

			<section id="sec-pkg-doc-collections">
				<h3 id="x3-8-collections"><bdi class="secno">3.8 </bdi>Collections<a class="self-link" aria-label="Â§"
						href="#sec-pkg-doc-collections"></a></h3>

				<p>In the context of this specification, support for collections in Reading Systems is <em
						class="rfc2119">OPTIONAL</em>. Reading Systems <em class="rfc2119">MUST</em> ignore
						<code>collection</code> elements that define unrecognized roles.</p>
			</section>
		</section>
		<section id="sec-contentdocs">
			<h2 id="x4-content-document-processing"><bdi class="secno">4. </bdi>Content Document Processing<a
					class="self-link" aria-label="Â§" href="#sec-contentdocs"></a></h2>

			<section id="sec-xhtml">
				<h3 id="x4-1-xhtml-content-documents"><bdi class="secno">4.1 </bdi>XHTML Content Documents<a
						class="self-link" aria-label="Â§" href="#sec-xhtml"></a></h3>

				<p id="confreq-rs-epub3-xhtml" class="support">Reading Systems <em class="rfc2119">MUST</em> process <a
						href="https://www.w3.org/TR/epub-33/#sec-xhtml">XHTML Content Documents</a> [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>

				<p id="confreq-html-rs-behavior">Unless explicitly defined in this section as overridden, Reading
					Systems <em class="rfc2119">MUST</em> process XHTML Content Documents using semantics defined by the
							[<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard"
							>HTML</a></cite>] specification and honor any applicable user agent conformance constraints
					expressed therein.</p>

				<section id="sec-xhtml-extensions">
					<h4 id="x4-1-1-html-extensions"><bdi class="secno">4.1.1 </bdi>HTML Extensions<a class="self-link"
							aria-label="Â§" href="#sec-xhtml-extensions"></a></h4>

					<section id="sec-xhtml-aria">
						<h5 id="x4-1-1-1-aria"><bdi class="secno">4.1.1.1 </bdi>ARIA<a class="self-link" aria-label="Â§"
								href="#sec-xhtml-aria"></a></h5>

						<p id="confreq-html-rs-a11y">Reading Systems <em class="rfc2119">SHOULD</em> recognize embedded
							ARIA markup and support exposure of any given ARIA roles, states and properties to platform
							accessibility APIs [<cite><a class="bibref" data-link-type="biblio" href="#bib-wai-aria"
									title="Accessible Rich Internet Applications (WAI-ARIA) 1.0"
							>WAI-ARIA</a></cite>].</p>
					</section>

					<section id="sec-xhtml-structural-semantics">
						<h5 id="x4-1-1-2-structural-semantics"><bdi class="secno">4.1.1.2 </bdi>Structural Semantics<a
								class="self-link" aria-label="Â§" href="#sec-xhtml-structural-semantics"></a></h5>

						<p>In addition to the requirements in <a href="#sec-structural-semantics" class="sec-ref"
									>Â§&#160;<bdi class="secno">9. </bdi>Processing Structural Semantics</a>, a Reading
							System has to process the <code>epub:type</code> attribute as follows in XHTML Content
							Documents:</p>

						<ul class="conformance-list">
							<li>
								<p id="confreq-rs-epubtype-head"><span class="link-marker"><a
											href="#confreq-rs-epubtype-head" class="hidden-reveal"
											><span>&#160;</span></a>
									</span>It <em class="rfc2119">MUST</em> ignore semantics expressed on the [<cite><a
											class="bibref" data-link-type="biblio" href="#bib-html"
											title="HTML Standard">HTML</a></cite>] <a
										href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element"
											><code>head</code></a> element or its descendants.</p>
							</li>
						</ul>
					</section>

					<section id="sec-xhtml-rdfa">
						<h5 id="x4-1-1-3-rdfa"><bdi class="secno">4.1.1.3 </bdi>RDFa<a class="self-link" aria-label="Â§"
								href="#sec-xhtml-rdfa"></a></h5>

						<p>Reading System support for the <a
								href="https://www.w3.org/TR/2015/REC-rdfa-core-20150317/#s_model">attribute processing
								model</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdfa-core"
									title="RDFa Core 1.1 - Third Edition">RDFA-CORE</a></cite>] is <em class="rfc2119"
								>OPTIONAL</em>.</p>
					</section>

					<section id="sec-xhtml-microdata">
						<h5 id="x4-1-1-4-microdata"><bdi class="secno">4.1.1.4 </bdi>Microdata<a class="self-link"
								aria-label="Â§" href="#sec-xhtml-microdata"></a></h5>

						<p>Reading System support for the <a href="https://www.w3.org/TR/microdata/#encoding-microdata"
								>attribute processing model</a> is <em class="rfc2119">OPTIONAL</em>, as is the <a
								href="https://www.w3.org/TR/microdata/#json">conversion to JSON</a> [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-microdata" title="HTML Microdata"
									>Microdata</a></cite>].</p>
					</section>

					<section id="sec-xhtml-ssml-attrib">
						<h5 id="x4-1-1-5-ssml-attributes"><bdi class="secno">4.1.1.5 </bdi>SSML Attributes<a
								class="self-link" aria-label="Â§" href="#sec-xhtml-ssml-attrib"></a></h5>

						<p id="confreq-rs-epub3-ssml">Reading Systems with <a
								href="https://www.w3.org/TR/epub-33/#dfn-text-to-speech">Text-to-Speech</a> (TTS)
							capabilities <em class="rfc2119">SHOULD</em> support <a
								href="https://www.w3.org/TR/epub-33/#sec-xhtml-ssml-attrib">SSML attributes</a>
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>].</p>

						<dl class="conformance-list">
							<dt id="sec-cd-ssml-ph-attrib">The <code>ssml:ph</code> attribute</dt>
							<dd>
								<p>Reading Systems that support the SSML Attributes and <a
										href="https://www.w3.org/TR/epub-33/#sec-pls"><abbr
											title="Pronunciation Lexicon Specification">PLS</abbr> documents</a>
											[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
											title="EPUB 3.3">EPUB-33</a></cite>] <em class="rfc2119">MUST</em> honor the
									defined <a href="#confreq-pls-rs-casc">precedence rules</a> for these two
									constructs.</p>
							</dd>

							<dt id="sec-cd-ssml-alphabet-attrib">The <code>ssml:alphabet</code> attribute</dt>
							<dd>
								<p>Reading Systems that support the <a href="#sec-xhtml-ssml-attrib">SSML Attributes</a>
									feature of this specification <em class="rfc2119">SHOULD</em> support the IPA
									alphabet [<cite><a class="bibref" data-link-type="biblio" href="#bib-ipa"
											title="IPA Chart">IPA</a></cite>], as expressed by the value
										"<code>ipa</code>".</p>
							</dd>
						</dl>
					</section>

					<section id="sec-xhtml-content-switch">
						<h5 id="x4-1-1-6-content-switching-deprecated"><bdi class="secno">4.1.1.6 </bdi>Content
							Switching (Deprecated)<a class="self-link" aria-label="Â§" href="#sec-xhtml-content-switch"
							></a></h5>

						<p>Use of the <code>switch</code> element is <a href="https://www.w3.org/TR/epub-33/#deprecated"
								>deprecated</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>]. Refer to its definition in [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-epubcontentdocs-301"
									title="EPUB Content Documents 3.0.1">EPUBContentDocs-301</a></cite>] for
							implementation information.</p>
					</section>

					<section id="sec-xhtml-epub-trigger">
						<h5 id="x4-1-1-7-the-epub-trigger-element-deprecated"><bdi class="secno">4.1.1.7 </bdi>The
								<code>epub:trigger</code> Element (Deprecated)<a class="self-link" aria-label="Â§"
								href="#sec-xhtml-epub-trigger"></a></h5>

						<p>Use of the <code>trigger</code> element is <a
								href="https://www.w3.org/TR/epub-33/#deprecated">deprecated</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].
							Refer to its definition in [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-epubcontentdocs-301" title="EPUB Content Documents 3.0.1"
									>EPUBContentDocs-301</a></cite>] for implementation information.</p>
					</section>

					<section id="sec-xhtml-custom-attributes">
						<h5 id="x4-1-1-8-custom-attributes"><bdi class="secno">4.1.1.8 </bdi>Custom Attributes<a
								class="self-link" aria-label="Â§" href="#sec-xhtml-custom-attributes"></a></h5>

						<p>Vendors <em class="rfc2119">MAY</em> introduce functionality not defined in this
							specification to enhance the rendering of <a
								href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB Publications</a>.</p>

						<p>To facilitate this experimentation, vendors <em class="rfc2119">MAY</em> define custom
							attributes for use in <a href="https://www.w3.org/TR/epub-33/#dfn-xhtml-content-document"
								>XHTML Content Documents</a> provided they are from a foreign namespace, which is
							defined as a namespace [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-xml-names" title="Namespaces in XML 1.0 (Third Edition)"
								>XML-NAMES</a></cite>] that does not include either of the following domains in its
							URI's authority component [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax"
									>RFC3986</a></cite>]:</p>

						<ul>
							<li>
								<p>
									<code>w3.org</code>
								</p>
							</li>
							<li>
								<p>
									<code>idpf.org</code>
								</p>
							</li>
						</ul>

						<p>Custom attributes, and the behaviors associated with them, <em class="rfc2119">MUST NOT</em>
							alter the integrity of an EPUB Publication.</p>

						<div class="note" role="note" id="issue-container-generatedID-0">
							<div role="heading" class="note-title marker" id="h-note-1" aria-level="6">
								<span>Note</span>
							</div>
							<div class="">
								<p>To facilitate interoperability of custom attributes across Reading Systems, vendors
									are strongly encouraged to document any extensions they implement in [<cite><a
											class="bibref" data-link-type="biblio" href="#bib-attributeextensions"
											title="EPUB Custom Attribute Extensions for Content Documents"
											>AttributeExtensions</a></cite>].</p>
							</div>
						</div>
					</section>
				</section>

				<section id="sec-xhtml-deviations">
					<h4 id="x4-1-2-html-deviations-and-constraints"><bdi class="secno">4.1.2 </bdi>HTML Deviations and
							Constraints<a class="self-link" aria-label="Â§" href="#sec-xhtml-deviations"></a></h4>

					<section id="sec-xhtml-mathml">
						<h5 id="x4-1-2-1-mathml"><bdi class="secno">4.1.2.1 </bdi>MathML<a class="self-link"
								aria-label="Â§" href="#sec-xhtml-mathml"></a></h5>

						<p>A Reading System has to support MathML embedded in XHTML Content Documents as follows:</p>

						<ul class="conformance-list">
							<li>
								<p id="confreq-mathml-rs-behavior"><span class="link-marker"><a
											href="#confreq-mathml-rs-behavior" class="hidden-reveal"
											><span>&#160;</span></a>
									</span>It <em class="rfc2119">MUST</em> be an input-compliant renderer for <a
										href="https://www.w3.org/TR/MathML3/chapter3.html">Presentation MathML</a>, as
									defined in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-mathml3"
											title="Mathematical Markup Language (MathML) Version 3.0 2nd Edition"
											>MATHML3</a></cite>] specification.</p>
							</li>
							<li>
								<p id="confreq-mathml-rs-anno"><span class="link-marker"><a
											href="#confreq-mathml-rs-anno" class="hidden-reveal"><span>&#160;</span></a>
									</span>It <em class="rfc2119">MAY</em> support rendering of <a
										href="https://www.w3.org/TR/MathML3/chapter4.html">Content MathML</a> found in
										<code>annotation-xml</code> elements.</p>
							</li>
							<li>
								<p id="confreq-mathml-rs-render"><span class="link-marker"><a
											href="#confreq-mathml-rs-render" class="hidden-reveal"
											><span>&#160;</span></a>
									</span>If it has a <a href="https://www.w3.org/TR/epub-33/#dfn-viewport"
										>Viewport</a>, it <em class="rfc2119">MUST</em> support visual rendering of
									Presentation MathML.</p>
							</li>
						</ul>
						<div class="note" role="note" id="issue-container-generatedID-1">
							<div role="heading" class="note-title marker" id="h-note-2" aria-level="6">
								<span>Note</span>
							</div>
							<p class="">Reading Systems may choose to use third-party libraries such as MathJax to
								provide MathML rendering. </p>
						</div>
					</section>

					<section id="sec-xhtml-svg">
						<h5 id="x4-1-2-2-embedded-svg"><bdi class="secno">4.1.2.2 </bdi>Embedded SVG<a class="self-link"
								aria-label="Â§" href="#sec-xhtml-svg"></a></h5>

						<p>Reading Systems <em class="rfc2119">MUST</em> process SVG embedded in XHTML Content Documents
							as defined in <a href="#sec-svg" class="sec-ref">Â§&#160;<bdi class="secno">4.2 </bdi>SVG
								Content Documents</a>.</p>

						<section id="sec-xhtml-svg-css">
							<h6 id="x4-1-2-2-1-embedded-svg-and-css"><bdi class="secno">4.1.2.2.1 </bdi>Embedded SVG and
									CSS<a class="self-link" aria-label="Â§" href="#sec-xhtml-svg-css"></a></h6>

							<p id="confreq-svg-rs-css-embed-ref">For the purposes of styling SVG embedded in XHTML
								Content Documents <em>by reference</em>, Reading Systems <em class="rfc2119">MUST
									NOT</em> apply CSS style rules of the containing document to the referenced SVG
								document.</p>

							<p id="confreq-svg-rs-css-embed-inc">For the purposes of styling SVG embedded in XHTML
								Content Documents <em>by inclusion</em>, Reading Systems <em class="rfc2119">MUST</em>
								apply applicable CSS rules of the containing document to the included SVG elements.</p>

							<div class="note" role="note" id="issue-container-generatedID-2">
								<div role="heading" class="note-title marker" id="h-note-3" aria-level="7">
									<span>Note</span>
								</div>
								<div class="">
									<p>SVG included <em>by reference</em> is processed as a separate document, and can
										include its own CSS style rules just like an <a
											href="https://www.w3.org/TR/epub-33/#dfn-svg-content-document">SVG Content
											Document</a> would. Note that this is consistent with situations where an
												[<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
												title="HTML Standard">HTML</a></cite>] <a
											href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-object-element"
												><code>object</code></a> element references an external [<cite><a
												class="bibref" data-link-type="biblio" href="#bib-html"
												title="HTML Standard">HTML</a></cite>] element.</p>
								</div>
							</div>
						</section>
					</section>

					<section id="sec-xhtml-forms">
						<h5 id="x4-1-2-3-form-submission"><bdi class="secno">4.1.2.3 </bdi>Form Submission<a
								class="self-link" aria-label="Â§" href="#sec-xhtml-forms"></a></h5>

						<p>Reading System support for the submission of [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-html" title="HTML Standard">HTML</a></cite>] forms is <em class="rfc2119"
								>OPTIONAL</em>. A Reading System might, for example, prevent form submissions by
							limiting access to networking.</p>
					</section>
				</section>
			</section>

			<section id="sec-svg">
				<h3 id="x4-2-svg-content-documents"><bdi class="secno">4.2 </bdi>SVG Content Documents<a
						class="self-link" aria-label="Â§" href="#sec-svg"></a></h3>

				<p id="confreq-rs-epub3-svg" class="support">Reading Systems <em class="rfc2119">MUST</em> process <a
						href="https://www.w3.org/TR/epub-33/#sec-svg">SVG Content Documents</a> [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

				<p>A Reading System has to process SVG Content Documents and <a href="#sec-xhtml-svg">SVG embedded in
						XHTML Content Documents</a> as follows:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-svg-rs-behavior"><span class="link-marker"><a href="#confreq-svg-rs-behavior"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Unless explicitly defined by this specification as overridden, it <em class="rfc2119"
								>MUST</em> process SVG Content Documents using semantics defined by the [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-svg" title="SVG">SVG</a></cite>]
							specification and honor any applicable user agent conformance constraints expressed
							therein.</p>
					</li>
					<li>
						<p id="confreq-svg-rs-scrpt"><span class="link-marker"><a href="#confreq-svg-rs-scrpt"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> meet the Reading System conformance criteria defined
							in <a href="#sec-scripted-content" class="sec-ref">Â§&#160;<bdi class="secno">4.4
								</bdi>Scripting</a>.</p>
					</li>
					<li>
						<p id="confreq-svg-rs-css"><span class="link-marker"><a href="#confreq-svg-rs-css"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>If it has a <a href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a>, it
								<em class="rfc2119">MUST</em> support the visual rendering of SVG using CSS as defined
							in <a href="https://www.w3.org/TR/SVG/styling.html">Styling</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-svg" title="SVG">SVG</a></cite>], and it <em
								class="rfc2119">SHOULD</em> support all properties defined in the <a
								href="https://www.w3.org/TR/SVG/propidx.html">Property Index</a> [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-svg" title="SVG">SVG</a></cite>].
							In the case of embedded SVG, it <em class="rfc2119">MUST</em> also conform to the
							constraints defined in <a href="#sec-xhtml-svg-css" class="sec-ref">Â§&#160;<bdi
									class="secno">4.1.2.2.1 </bdi>Embedded SVG and CSS</a>.</p>
					</li>
					<li>
						<p id="confreq-svg-rs-text"><span class="link-marker"><a href="#confreq-svg-rs-text"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">SHOULD</em> support user selection and searching of text
							within SVG elements.</p>
					</li>
					<li>
						<p id="confreq-svg-rs-reqdExt"><span class="link-marker"><a href="#confreq-svg-rs-reqdExt"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> recognize the value
								"<code>http://www.idpf.org/2007/ops</code>" of the <code>requiredExtensions</code>
							attribute as representing the occurrence of XHTML Content Document fragments (e.g., when the
							attribute is included on the <code>foreignObject</code> element or children of the
								<code>switch</code> element).</p>
					</li>
				</ul>
			</section>

			<section id="sec-css">
				<h3 id="x4-3-cascading-style-sheets-css"><bdi class="secno">4.3 </bdi>Cascading Style Sheets (CSS)<a
						class="self-link" aria-label="Â§" href="#sec-css"></a></h3>

				<p id="confreq-rs-epub3-css" class="support">If a Reading System has a <a
						href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a>, it <em class="rfc2119"
						>MUST</em> support the <a href="https://www.w3.org/TR/epub-33/#sec-css">visual rendering of
						XHTML Content Documents via CSS</a> [<cite><a class="bibref" data-link-type="biblio"
							href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

				<p>A Reading System that supports CSS has to process it as follows:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-css-rs-support"><span class="link-marker"><a href="#confreq-css-rs-support"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> support the official definition of CSS as described
							in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-csssnapshot"
									title="CSS Snapshot">CSSSnapshot</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-css-rs-modules"><span class="link-marker"><a href="#confreq-css-rs-modules"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">SHOULD</em> support all applicable modules in [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-csssnapshot" title="CSS Snapshot"
									>CSSSnapshot</a></cite>] that have reached at least <a
								href="https://www.w3.org/Consortium/Process/#RecsCR">Candidate Recommendation</a> status
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-w3cprocess"
									title="W3C Process Document">W3CProcess</a></cite>] (and are widely
							implemented).</p>
					</li>
					<li>
						<p id="confreq-css-rs-fonts"><span class="link-marker"><a href="#confreq-css-rs-fonts"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> support [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-truetype" title="Apple TrueType Reference Manual"
									>TrueType</a></cite>], [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-opentype" title="OpenType specification">OpenType</a></cite>], [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-woff" title="WOFF File Format 1.0"
									>WOFF</a></cite>] and [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-woff2" title="WOFF File Format 2.0">WOFF2</a></cite>] font resources
							referenced from <code>@font-face</code> rules.</p>
					</li>
					<li>
						<p id="confreq-css-rs-prefixed"><span class="link-marker"><a href="#confreq-css-rs-prefixed"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> support all prefixed properties defined in <a
								href="https://www.w3.org/TR/epub-33/#sec-css-prefixed">CSS Style Sheets â€” Prefixed
								Properties</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-css-rs-html-default"><span class="link-marker"><a
									href="#confreq-css-rs-html-default" class="hidden-reveal"><span>&#160;</span></a>
							</span>In addition to supporting CSS properties as defined above, its user agent style sheet
								<em class="rfc2119">SHOULD</em> support the [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
								href="https://html.spec.whatwg.org/multipage/rendering.html#rendering">suggested default
								rendering</a>.</p>
					</li>
					<li>
						<p id="confreq-css-creator-styles"><span class="link-marker"><a
									href="#confreq-css-creator-styles" class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">SHOULD</em> apply <a
								href="https://www.w3.org/TR/epub-33/#dfn-epub-creator">EPUB Creator</a> style sheets as
							written to <a href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content
								Documents</a>.</p>
					</li>
					<li>
						<p id="confreq-css-overrides"><span class="link-marker"><a href="#confreq-css-overrides"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">SHOULD NOT</em> override the EPUB Creator's style sheets, but
								<em class="rfc2119">SHOULD</em> do so in a way that preserves the Cascade when
							necessary: through a user agent style sheet, the <a
								href="https://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/css.html#CSS-OverrideAndComputed"
									><code>getOverrideStyle</code> method</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-dom-level-2-style"
									title="Document Object Model (DOM) Level 2 Style Specification"
									>DOM-Level-2-Style</a></cite>], or [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
								href="https://html.spec.whatwg.org/multipage/dom.html#the-style-attribute"
									><code>style</code> attributes</a>.</p>
					</li>
					<li>
						<p id="confreq-css-user-styles"><span class="link-marker"><a href="#confreq-css-user-styles"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">SHOULD</em> allow users to override the EPUB Creator's style
							sheets as desired.</p>
					</li>
				</ul>

				<p>Reading System developers are strongly encouraged to implement CSS support at the level of major
					browsers and to publicly document their user agent style sheets and how they interact with EPUB
					Creator's style sheets.</p>

				<p id="confreq-rs-epub3-speech">Reading Systems with <a
						href="https://www.w3.org/TR/epub-33/#dfn-text-to-speech">Text-to-Speech</a> (TTS) capabilities
						<em class="rfc2119">SHOULD</em> support [<cite><a class="bibref" data-link-type="biblio"
							href="#bib-css3-speech" title="CSS Speech Module">CSS3-Speech</a></cite>].</p>
			</section>

			<section id="sec-scripted-content">
				<h3 id="x4-4-scripting"><bdi class="secno">4.4 </bdi>Scripting<a class="self-link" aria-label="Â§"
						href="#sec-scripted-content"></a></h3>

				<p id="confreq-rs-scripted" class="support">Reading Systems <em class="rfc2119">SHOULD</em> support <a
						href="https://www.w3.org/TR/epub-33/#sec-scripted-content">scripting</a> [<cite><a
							class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>

				<p>Reading System support for scripting depends on the context in which it is used:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-rs-scripted-reflow-support"><span class="link-marker"><a
									href="#confreq-rs-scripted-reflow-support" class="hidden-reveal"
									><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">SHOULD</em> support <a
								href="https://www.w3.org/TR/epub-33/#sec-scripted-container-constrained"
								>container-constrained scripting</a> [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] in reflowable EPUB Content
							Documents.</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-fxl-support"><span class="link-marker"><a
									href="#confreq-rs-scripted-fxl-support" class="hidden-reveal"
									><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">SHOULD</em> support <a
								href="https://www.w3.org/TR/epub-33/#sec-scripted-spine">spine-level scripting</a>
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>] in <a
								href="https://www.w3.org/TR/epub-33/#sec-fixed-layouts">fixed-layout documents</a>
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-scrolled"><span class="link-marker"><a
									href="#confreq-rs-scripted-scrolled" class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">SHOULD</em> support spine-level scripting in
							reflowable EPUB Content Documents that use the <a
								href="https://www.w3.org/TR/epub-33/#flow-scrolled-doc">"<code>scrolled-doc</code>"</a>
							or <a href="https://www.w3.org/TR/epub-33/#flow-scrolled-continuous"
									>"<code>scrolled-continuous</code>"</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>]
							presentation modes defined by <a href="#flow">the <code>rendition:flow</code> property</a>.
							Similarly, if it supports spine-level scripting in reflowable EPUB Content Documents, it <em
								class="rfc2119">MUST</em> implement the "<code>scrolled-doc</code>" presentation mode
							and <em class="rfc2119">SHOULD</em> implement the "<code>scrolled-continuous</code>"
							presentation mode.</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-optional-support"><span class="link-marker"><a
									href="#confreq-rs-scripted-optional-support" class="hidden-reveal"
										><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MAY</em> support scripting in other contexts, but
							this specification does not address such scripting. As a result, the use of scripting in
							these contexts might not be consistent across Reading Systems.</p>
					</li>
				</ul>

				<p>If a Reading System supports scripting:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-rs-scripted-ua"><span class="link-marker"><a href="#confreq-rs-scripted-ua"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MAY</em> render <a
								href="https://www.w3.org/TR/epub-33/#dfn-scripted-content-document">Scripted Content
								Documents</a> as an interactive, scripted user agent according to [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard"
									>HTML</a></cite>].</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-container"><span class="link-marker"><a
									href="#confreq-rs-scripted-container" class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST NOT</em> allow a container-constrained script to modify
							the DOM of the parent Content Document or other contents in the EPUB Publication and <em
								class="rfc2119">MUST NOT</em> allow it to manipulate the size of its containing
							rectangle. (Note: Even if a script is not container-constrained, the Reading System <em
								class="rfc2119">MAY</em> impose restrictions on modifications (see also the <a
								href="#feature-dom-manipulation">dom-manipulation feature</a>).)</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-limit"><span class="link-marker"><a href="#confreq-rs-scripted-limit"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MAY</em> place additional limitations on the capabilities
							provided to scripts during execution (e.g., limiting networking).</p>
					</li>
					<li>
						<p id="confreq-rs-scripted-readingsystem-object"><span class="link-marker"><a
									href="#confreq-rs-scripted-readingsystem-object" class="hidden-reveal"
										><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> implement the JavaScript <code>navigator</code>
							extension object <code>epubReadingSystem</code> defined in <a href="#app-epubReadingSystem"
								class="sec-ref">Â§&#160;<bdi class="secno">A. </bdi>JavaScript
									<span>epubReadingSystem</span> Object</a>. It also <em class="rfc2119">MUST</em>
							support the <code>dom-manipulation</code> and <code>layout-change</code> features defined in
								<a href="#app-ers-hasFeature-features" class="sec-ref">Â§&#160;<bdi class="secno">A.4.1.2
								</bdi>Features</a> in container-constrained scripting contexts.</p>
					</li>
				</ul>

				<p id="confreq-rs-scripted-flbk">If a Reading System that does not support scripting, it <em
						class="rfc2119">MUST</em> process fallbacks for scripted content as defined in <a
						href="https://www.w3.org/TR/epub-33/#confreq-cd-scripted-flbk">Fallbacks for Scripted Content
						Documents</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>].</p>
			</section>

			<section id="sec-pls">
				<h3 id="x4-5-pronunciation-lexicons"><bdi class="secno">4.5 </bdi>Pronunciation Lexicons<a
						class="self-link" aria-label="Â§" href="#sec-pls"></a></h3>

				<p id="sec-pls-conf-rs" class="support">Reading Systems with Text-to-Speech (TTS) capabilities <em
						class="rfc2119">SHOULD</em> support <a href="https://www.w3.org/TR/epub-33/#sec-pls"><abbr
							title="Pronunciation Lexicon Specification">PLS</abbr> lexicons</a> [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

				<p>A Reading System that supports <abbr title="Pronunciation Lexicon Specification">PLS</abbr> lexicons
					has to process them as follows:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-pls-rs-sptts"><span class="link-marker"><a href="#confreq-pls-rs-sptts"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems with <a href="https://www.w3.org/TR/epub-33/#dfn-text-to-speech"
								>Text-to-Speech</a> (TTS) capabilities <em class="rfc2119">SHOULD</em> support [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-pronunciation-lexicon"
									title="Pronunciation Lexicon Specification (PLS) Version 1.0"
									>PRONUNCIATION-LEXICON</a></cite>].</p>
						<p id="confreq-pls-rs-proc"><span class="link-marker"><a href="#confreq-pls-rs-proc"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> process <abbr
								title="Pronunciation Lexicon Specification">PLS</abbr> documents as defined in [<cite><a
									class="bibref" data-link-type="biblio" href="#bib-pronunciation-lexicon"
									title="Pronunciation Lexicon Specification (PLS) Version 1.0"
									>PRONUNCIATION-LEXICON</a></cite>].</p>
						<p id="confreq-pls-rs-scope"><span class="link-marker"><a href="#confreq-pls-rs-scope"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It <em class="rfc2119">MUST</em> apply the supplied pronunciation instructions to all
							text nodes in the current XHTML Content Document whose <a
								href="https://html.spec.whatwg.org/multipage/dom.html#the-lang-and-xml:lang-attributes"
								>language</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
									title="HTML Standard">HTML</a></cite>] matches <a
								href="https://www.w3.org/TR/2008/REC-pronunciation-lexicon-20081014/#S4.1">the language
								for which the pronunciation lexicon is relevant</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-pronunciation-lexicon"
									title="Pronunciation Lexicon Specification (PLS) Version 1.0"
									>PRONUNCIATION-LEXICON</a></cite>]. The algorithm for matching language tags is
							defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-bcp47"
									title="Tags for Identifying Languages">BCP47</a></cite>].</p>
						<p id="confreq-pls-rs-multi"><span class="link-marker"><a href="#confreq-pls-rs-multi"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>When a pronunciation rule is specified more than once for a given string target in a
							given language, it <em class="rfc2119">MUST</em> give precedence to the last occurrence of
							the rule in such a way that any previously-defined pronunciation rule gets overridden.</p>
						<p id="confreq-pls-rs-casc"><span class="link-marker"><a href="#confreq-pls-rs-casc"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>If it also supports <a href="#sec-xhtml-ssml-attrib">SSML Attributes</a>, it <em
								class="rfc2119">MUST</em> let any pronunciation instructions provided via the <a
								href="#sec-cd-ssml-ph-attrib"><code>ssml:ph</code></a> attribute take precedence in
							cases where a <code>grapheme</code> element [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-pronunciation-lexicon"
									title="Pronunciation Lexicon Specification (PLS) Version 1.0"
									>PRONUNCIATION-LEXICON</a></cite>] matches a text node of an element that carries
							the <code>ssml:ph</code> attribute [<cite><a class="bibref" data-link-type="biblio"
									href="#bib-ssml" title="Speech Synthesis Markup Language (SSML) Version 1.1"
									>SSML</a></cite>].</p>
					</li>
				</ul>
			</section>
		</section>
		<section id="sec-nav">
			<h2 id="x5-navigation-document-processing"><bdi class="secno">5. </bdi>Navigation Document Processing<a
					class="self-link" aria-label="Â§" href="#sec-nav"></a></h2>

			<p id="sec-nav-rs-conf" class="support">Reading Systems <em class="rfc2119">MUST</em> process <a
					href="https://www.w3.org/TR/epub-33/#sec-nav">EPUB Navigation Documents</a> [<cite><a class="bibref"
						data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

			<p>A Reading System has to process EPUB Navigation Documents as follows:</p>

			<ul class="conformance-list">
				<li>
					<p id="confreq-nav-toc-access"><span class="link-marker"><a href="#confreq-nav-toc-access"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MUST</em> provide users access to the links in the <a
							href="https://www.w3.org/TR/epub-33/#sec-nav-toc"><code>toc nav</code> element</a> [<cite><a
								class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
							>EPUB-33</a></cite>].</p>
				</li>
				<li>
					<p id="confreq-nav-pagelist-access"><span class="link-marker"><a href="#confreq-nav-pagelist-access"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">SHOULD</em> provide a method to navigate to the listed page breaks
						when a <a href="https://www.w3.org/TR/epub-33/#sec-nav-pagelist"><code>page-list nav</code>
							element</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>] is present.</p>
				</li>
				<li>
					<p id="confreq-nav-landmarks-access"><span class="link-marker"><a
								href="#confreq-nav-landmarks-access" class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MAY</em> provide users access to the links in the <a
							href="https://www.w3.org/TR/epub-33/#sec-nav-landmarks"><code>landmarks nav</code>
							element</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>] and <em class="rfc2119">MAY</em> use the links to
						enable functionality in the application.</p>
				</li>
				<li>
					<p id="confreq-nav-other-access"><span class="link-marker"><a href="#confreq-nav-other-access"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MAY</em> provide access to <code>nav</code> elements that do not
						specify an <code>epub:type</code> attribute or that <a
							href="https://www.w3.org/TR/epub-33/#sec-nav-def-types-other">declare an unknown value</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>].</p>
				</li>
				<li>
					<p id="confreq-nav-activation"><span class="link-marker"><a href="#confreq-nav-activation"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>When a link to a <a href="https://www.w3.org/TR/epub-33/#dfn-publication-resource"
							>Publication Resource</a> is activated, it <em class="rfc2119">MUST</em> relocate the
						current reading position to the destination identified by that link.</p>
				</li>
				<li>
					<p id="confreq-nav-spine"><span class="link-marker"><a href="#confreq-nav-spine"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MUST</em> honor the above requirements irrespective of whether the
						EPUB Navigation Document is part of the <a href="https://www.w3.org/TR/epub-33/#sec-spine-elem"
							>spine</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>].</p>
				</li>
				<li>
					<p id="confreq-nav-ol-style"><span class="link-marker"><a href="#confreq-nav-ol-style"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MUST NOT</em> show list item numbering on <code>nav</code>
						elements when presenting them outside of the spine, regardless of support for CSS, as the
						default display style of list items is equivalent to the <a
							href="https://www.w3.org/TR/CSS2/generate.html#propdef-list-style"><code>list-style:
								none</code> property</a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-csssnapshot" title="CSS Snapshot">CSSSnapshot</a></cite>].).</p>
				</li>
			</ul>
		</section>
		<section id="sec-fixed-layouts">
			<h2 id="x6-fixed-layout-documents-processing"><bdi class="secno">6. </bdi>Fixed-Layout Documents
					Processing<a class="self-link" aria-label="Â§" href="#sec-fixed-layouts"></a></h2>

			<p id="confreq-rs-epub3-fxl" class="support">Reading Systems <em class="rfc2119">MUST</em> support the
				rendering of <a href="https://www.w3.org/TR/epub-33/#sec-fixed-layouts">Fixed-Layout Documents</a>
						[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>

			<section id="sec-fxl-props">
				<h3 id="x6-1-fixed-layout-properties"><bdi class="secno">6.1 </bdi>Fixed-Layout Properties<a
						class="self-link" aria-label="Â§" href="#sec-fxl-props"></a></h3>

				<section id="layout">
					<h4 id="x6-1-1-the-rendition-layout-property"><bdi class="secno">6.1.1 </bdi>The
							<code>rendition:layout</code> Property<a class="self-link" aria-label="Â§" href="#layout"
						></a></h4>

					<p>The default global value is <code>reflowable</code> if no <code>meta</code> element carrying this
						property occurs in the <a href="https://www.w3.org/TR/epub-33/#elemdef-opf-metadata"
								><code>metadata</code> section</a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

					<p>When the <code>rendition:layout</code> property is set to <code>pre-paginated</code>, Reading
						Systems <em class="rfc2119">MUST NOT</em> include space between the adjacent content slots when
						rendering <a href="https://www.w3.org/TR/epub-33/#dfn-synthetic-spread">Synthetic
						Spreads</a>.</p>

					<p>The <code>rendition:layout</code> property values have the following processing requirements:</p>

					<dl class="variablelist">
						<dt id="def-layout-reflowable">reflowable</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">MAY</em> apply dynamic pagination when rendering.</p>
						</dd>
						<dt id="def-layout-pre-paginated">pre-paginated</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">MUST</em> produce exactly one page per spine <a
									href="https://www.w3.org/TR/epub-33/#elemdef-spine-itemref"><code>itemref</code></a>
										[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
										title="EPUB 3.3">EPUB-33</a></cite>] when rendering.</p>
						</dd>
					</dl>
				</section>

				<section id="orientation">
					<h4 id="x6-1-2-the-rendition-orientation-property"><bdi class="secno">6.1.2 </bdi>The
							<code>rendition:orientation</code> Property<a class="self-link" aria-label="Â§"
							href="#orientation"></a></h4>

					<p>The default global value is <code>auto</code> if no <code>meta</code> element carrying this
						property occurs in the <code>metadata</code> section.</p>

					<p>Reading Systems that support multiple orientations <em class="rfc2119">SHOULD</em> convey the
						intended orientation to the user unless the given value is <code>auto</code>. The means by which
						the intent is conveyed is implementation specific.</p>
				</section>

				<section id="spread">
					<h4 id="x6-1-3-the-rendition-spread-property"><bdi class="secno">6.1.3 </bdi>The
							<code>rendition:spread</code> Property<a class="self-link" aria-label="Â§" href="#spread"
						></a></h4>

					<p>The default global value is <code>auto</code> if no <code>meta</code> element carrying this
						property occurs in the <code>metadata</code> section.</p>

					<p>The <code>rendition:spread</code> property values have the following processing requirements:</p>

					<dl class="variablelist">
						<dt>none</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">MUST NOT</em> incorporate spine items in a Synthetic
								Spread.</p>
						</dd>
						<dt>landscape</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">SHOULD</em> render a Synthetic Spread for spine items
								only when the device is in landscape orientation.</p>
						</dd>
						<dt>portrait (deprecated)</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">SHOULD</em> treat the value "<code>portrait</code>"
								as a synonym of "<code>both</code>" and create spreads regardless of orientation.</p>
						</dd>
						<dt>both</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">SHOULD</em> render a Synthetic Spread regardless of
								device orientation.</p>
						</dd>
						<dt>auto</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">MAY</em> use Synthetic Spreads in specific or all
								device orientations as part of a <a
									href="https://www.w3.org/TR/epub-33/#dfn-content-display-area">Content Display
									Area</a> utilization optimization process.</p>
						</dd>
					</dl>
				</section>

				<section id="page-spread">
					<h4 id="x6-1-4-the-rendition-page-spread-properties"><bdi class="secno">6.1.4 </bdi>The
							<code>rendition:page-spread-*</code> Properties<a class="self-link" aria-label="Â§"
							href="#page-spread"></a></h4>

					<p>The <code>rendition:page-spread-left</code> property indicates that the given spine item <em
							class="rfc2119">SHOULD</em> be rendered in the left-hand slot in the spread, and
							<code>rendition:page-spread-right</code> that it <em class="rfc2119">SHOULD</em> be rendered
						in the right-hand slot. The <code>rendition:page-spread-center</code> property indicates that
						the synthetic spread mode <em class="rfc2119">SHOULD</em> be overridden and a single viewport
						rendered and positioned at the center of the screen.</p>

					<p>The <code>rendition:page-spread-left</code>, <code>rendition:page-spread-right</code>, and
							<code>rendition:page-spread-center</code> properties apply to both pre-paginated and
						reflowable content, and they only apply when the Reading System is creating Synthetic
						Spreads.</p>

					<p>The <code>rendition:page-spread-*</code> properties take precedence over whatever value of the <a
							href="https://www.w3.org/TR/CSS2/page.html#propdef-page-break-before"
								><code>page-break-before</code> property</a> [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-csssnapshot" title="CSS Snapshot"
							>CSSSnapshot</a></cite>] has been set for an <a
							href="https://www.w3.org/TR/epub-33/#dfn-xhtml-content-document">XHTML Content
						Document</a>.</p>

					<div class="note" role="note" id="issue-container-generatedID-3">
						<div role="heading" class="note-title marker" id="h-note-4" aria-level="5">
							<span>Note</span>
						</div>
						<div class="">
							<p>The presence of <code>rendition:page-spread-center</code> does not change the viewport
								dimensions. It does not indicate that a viewport with the size of the whole spread has
								to be created. This is important so that the scale factor stays consistent between
								regular and center-spread pages.</p>
						</div>
					</div>

					<p>When a <a href="#def-layout-reflowable">reflowable</a> spine item follows a <a
							href="#def-layout-pre-paginated">pre-paginated</a> one, the reflowable one <em
							class="rfc2119">SHOULD</em> start on the next page (as defined by the <a
							href="https://www.w3.org/TR/epub-33/#attrdef-spine-page-progression-direction"
								><code>page-progression-direction</code></a> [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>]) when
						it lacks a <code>rendition:page-spread-*</code> property value. If the reflowable spine item has
						a <code>rendition:page-spread-*</code> specification, it <em class="rfc2119">MUST</em> be
						honored (e.g., by inserting a blank page).</p>

					<p>Similarly, when a pre-paginated spine item follows a reflowable one, the pre-paginated one <em
							class="rfc2119">SHOULD</em> start on the next page (as defined by the
							<code>page-progression-direction</code>) when it lacks a
							<code>rendition:page-spread-*</code> property value. If the pre-paginated spine item has a
							<code>rendition:page-spread-*</code> specification, it <em class="rfc2119">MUST</em> be
						honored (e.g., by inserting a blank page).</p>

					<p>When a Reading System encounters two spine items that represent a true spread (i.e., two adjacent
						spine items with the <code>rendition:page-spread-left</code> and
							<code>rendition:page-spread-right</code> properties), it <em class="rfc2119">SHOULD</em>
						create the spread with no space between the adjacent pages.</p>
				</section>
			</section>

			<section id="sec-fxl-dimensions">
				<h3 id="x6-2-initial-containing-block-dimensions"><bdi class="secno">6.2 </bdi>Initial Containing Block
						Dimensions<a class="self-link" aria-label="Â§" href="#sec-fxl-dimensions"></a></h3>

				<dl>
					<dt>XHTML</dt>
					<dd>
						<p>Reading Systems <em class="rfc2119">MUST</em> use the width and height expressions as defined
							in <a href="https://www.w3.org/TR/epub-33/#sec-fxl-icb-html">Expressing in HTML</a>
									[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>] to render <a
								href="https://www.w3.org/TR/epub-33/#dfn-xhtml-content-document">XHTML Content
								Documents</a>.</p>
						<p>Reading Systems <em class="rfc2119">MUST</em> clip XHTML content to the initial containing
							block (ICB) dimensions declared in the <code>viewport</code>
							<code>meta</code> tag â€” content positioned outside of the initial containing block will not
							be visible. When the ICB aspect ratio does not match the aspect ratio of the Reading System
								<a href="https://www.w3.org/TR/epub-33/#dfn-content-display-area">Content Display
								Area</a>, Reading Systems <em class="rfc2119">MAY</em> position the ICB inside the area
							to accommodate the user interface; in other words, added letter-boxing space <em
								class="rfc2119">MAY</em> appear on either side (or both) of the content.</p>
					</dd>

					<dt>SVG</dt>
					<dd>
						<p id="confreq-fxl-rs-svg">Reading Systems <em class="rfc2119">MUST</em> use the dimensions as
							defined in <a href="https://www.w3.org/TR/epub-33/#sec-fxl-icb-svg">Expressing the ICB in
								SVG</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>] to render <a
								href="https://www.w3.org/TR/epub-33/#dfn-svg-content-document">SVG Content
							Documents</a>.</p>
					</dd>
				</dl>
			</section>

			<section id="sec-fxl-viewport">
				<h3 id="x6-3-viewport-rendering"><bdi class="secno">6.3 </bdi>Viewport Rendering<a class="self-link"
						aria-label="Â§" href="#sec-fxl-viewport"></a></h3>

				<p>When rendering <a href="https://www.w3.org/TR/epub-33/#dfn-fixed-layout-document">Fixed-Layout
						Documents</a>, the default intent is that the <a
						href="https://www.w3.org/TR/epub-33/#dfn-content-display-area">Content Display Area</a>
					<em class="rfc2119">SHOULD</em> occupy as much of the available <a
						href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a> area as possible. Reading
					Systems <em class="rfc2119">SHOULD NOT</em> inject additional content such as border, margins,
					headers, or footers into the Viewport.</p>

				<div class="note" role="note" id="issue-container-generatedID-4">
					<div role="heading" class="note-title marker" id="h-note-5" aria-level="4">
						<span>Note</span>
					</div>
					<div class="">
						<p>This specification does not define how the <a
								href="https://www.w3.org/TR/CSS2/visudet.html#containing-block-details">initial
								containing block</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-css2"
									title="CSS 2">CSS2</a></cite>] is placed within the Reading System <a
								href="https://www.w3.org/TR/epub-33/#dfn-content-display-area">Content Display
							Area</a>.</p>
					</div>
				</div>

				<div class="note" role="note" id="issue-container-generatedID-5">
					<div role="heading" class="note-title marker" id="h-note-6" aria-level="4">
						<span>Note</span>
					</div>
					<div class="">
						<p>The exposure of Reading System control widgets to the user is implementation-specific and not
							included in the above behavioral expectations.</p>
					</div>
				</div>
			</section>
		</section>
		<section id="sec-ocf">
			<h2 id="x7-open-container-format-processing"><bdi class="secno">7. </bdi>Open Container Format Processing<a
					class="self-link" aria-label="Â§" href="#sec-ocf"></a></h2>

			<p id="confreq-rs-epub3-ocf" class="support">Reading Systems <em class="rfc2119">MUST</em> process the <a
					href="https://www.w3.org/TR/epub-33/#sec-ocf">EPUB Container</a> [<cite><a class="bibref"
						data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

			<div class="note" role="note" id="issue-container-generatedID-6">
				<div role="heading" class="note-title marker" id="h-note-7" aria-level="3">
					<span>Note</span>
				</div>
				<div class="">
					<p>It is not required that an application that processes OCF Containers be a full-fledged Reading
						System (e.g., an application might only extract the content of a container or check the validity
						of the packaged content). In these cases, the rendering requirements for Reading Systems defined
						in this section can be ignored.</p>
				</div>
			</div>

			<section id="sec-container-abstract">
				<h3 id="x7-1-ocf-abstract-container"><bdi class="secno">7.1 </bdi>OCF Abstract Container<a
						class="self-link" aria-label="Â§" href="#sec-container-abstract"></a></h3>

				<section id="sec-container-iri">
					<h4 id="x7-1-1-relative-iris-for-referencing-other-components"><bdi class="secno">7.1.1
						</bdi>Relative IRIs for Referencing Other Components<a class="self-link" aria-label="Â§"
							href="#sec-container-iri"></a></h4>

					<p>For relative IRI references, Reading Systems <em class="rfc2119">MUST</em> determine the Base IRI
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986"
								title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] according
						to the relevant language specifications for the given file formats. For example, CSS defines how
						relative IRI references work in the context of CSS style sheets and property declarations
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-csssnapshot"
								title="CSS Snapshot">CSSSnapshot</a></cite>].</p>

					<div class="note" role="note" id="issue-container-generatedID-7">
						<div role="heading" class="note-title marker" id="h-note-8" aria-level="5">
							<span>Note</span>
						</div>
						<div class="">
							<p>Some language specifications reference Requests For Comments [<cite><a class="bibref"
										data-link-type="biblio" href="#bib-rfc" title="Request for Comments"
									>RFC</a></cite>] that preceded [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-rfc3987" title="Internationalized Resource Identifiers (IRIs)"
										>RFC3987</a></cite>], in which case the earlier RFC applies for content in that
								particular language.</p>
						</div>
					</div>

					<p>Unlike most language specifications, Reading Systems <em class="rfc2119">MUST</em> use the <a
							href="https://www.w3.org/TR/epub-33/#dfn-root-directory">Root Directory</a> of the OCF
						Abstract Container as the default Base IRI as the Base IRI for all files within the
							<code>META-INF</code> directory.</p>
				</section>

				<section id="sec-container-filenames">
					<h4 id="x7-1-2-file-names"><bdi class="secno">7.1.2 </bdi>File Names<a class="self-link"
							aria-label="Â§" href="#sec-container-filenames"></a></h4>

					<p>This specification does not specify how a Reading System that is unable to represent OCF File and
						Path Names would compensate for this incompatibility.</p>
				</section>

				<section id="sec-container-metainf">
					<h4 id="x7-1-3-meta-inf-directory"><bdi class="secno">7.1.3 </bdi><code>META-INF</code> Directory<a
							class="self-link" aria-label="Â§" href="#sec-container-metainf"></a></h4>

					<dl class="conformance-list">
						<dt id="sec-container-metainf-container.xml">Container File (<code>container.xml</code>)</dt>
						<dd>
							<p id="container-default-rendition">A Reading System <em class="rfc2119">MUST</em>, by
								default, use the Package Document referenced from first <code>rootfile</code> element to
								render the EPUB Publication. If the Reading System recognizes a means of selecting from
								the other available options, it <em class="rfc2119">MAY</em> choose a more appropriate
								Package Document.</p>
						</dd>

						<dt id="sec-container-metainf-inc">Other Files</dt>
						<dd>
							<p>Reading Systems <em class="rfc2119">MUST NOT</em> fail when encountering configuration
								files in the <code class="filename">META-INF</code> directory not listed in <a
									href="https://www.w3.org/TR/epub-33/#sec-container-metainf-files">Reserved Files</a>
										[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
										title="EPUB 3.3">EPUB-33</a></cite>].</p>
						</dd>
					</dl>
				</section>
			</section>

			<section id="sec-container-zip">
				<h3 id="x7-2-ocf-zip-container"><bdi class="secno">7.2 </bdi>OCF ZIP Container<a class="self-link"
						aria-label="Â§" href="#sec-container-zip"></a></h3>

				<ul class="conformance-list">
					<li>
						<p id="confreq-zip-mult"><span class="link-marker"><a href="#confreq-zip-mult"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat any OCF files that specify that
							the ZIP file is split across multiple storage media as being in error.</p>
					</li>
					<li>
						<p id="confreq-zip-comp"><span class="link-marker"><a href="#confreq-zip-comp"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat any OCF Containers that use
							compression techniques other than Deflate as being in error.</p>
					</li>
					<li>
						<p id="confreq-zip-64"><span class="link-marker"><a href="#confreq-zip-64" class="hidden-reveal"
										><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> support the ZIP64 extensions defined as
							"Version 1".</p>
					</li>
					<li>
						<p id="confreq-zip-enc"><span class="link-marker"><a href="#confreq-zip-enc"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat OCF ZIP Containers that use ZIP
							encryption features as being in error.</p>
					</li>
					<li>
						<p id="confreq-zip-preserve"><span class="link-marker"><a href="#confreq-zip-preserve"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>It is not a requirement that Reading Systems preserve information from an OCF ZIP
							Container through load and save operations that are not defined within the OCF Abstract
							Container; in particular, a Reading System does not have to preserve CRC values, comment
							fields or fields that hold file system information corresponding to a particular operating
							system (e.g., <em class="firstterm">External file attributes</em> and <em class="firstterm"
								>Extra field</em>).</p>
					</li>
				</ul>

				<p>The following constraints apply to specific fields in the OCF ZIP Container archive:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-zip-fld-version"><span class="link-marker"><a href="#confreq-zip-fld-version"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat <code>version needed to
								extract</code> field values other than <code>10</code>, <code>20</code> or
								<code>45</code> in the local file header table as being in error.</p>
					</li>
					<li>
						<p id="confreq-zip-fld-comp"><span class="link-marker"><a href="#confreq-zip-fld-comp"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat <code>compression</code> method
							field values other than <code>0</code> or <code>8</code> in the local file header table as
							being in error.</p>
					</li>
					<li>
						<p id="confreq-zip-fld-er"><span class="link-marker"><a href="#confreq-zip-fld-er"
									class="hidden-reveal"><span>&#160;</span></a>
							</span>Reading Systems <em class="rfc2119">MUST</em> treat OCF ZIP Containers with an
								<code>Archive decryption header</code> or an <code>Archive extra data record</code> as
							being in error.</p>
					</li>
				</ul>
			</section>
			<section id="sec-container-res-obfus">
				<h3 id="x7-3-resource-obfuscation"><bdi class="secno">7.3 </bdi>Resource Obfuscation<a class="self-link"
						aria-label="Â§" href="#sec-container-res-obfus"></a></h3>

				<p id="confreq-ocf-fobfus">Reading Systems <em class="rfc2119">MUST</em> support deobfuscation of
					resources as defined in <a href="https://www.w3.org/TR/epub-33/#sec-resource-obfuscation"
							><em>Resource Obfuscation</em></a> [<cite><a class="bibref" data-link-type="biblio"
							href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>
			</section>
		</section>
		<section id="sec-media-overlays">
			<h2 id="x8-media-overlays-processing"><bdi class="secno">8. </bdi>Media Overlays Processing<a
					class="self-link" aria-label="Â§" href="#sec-media-overlays"></a></h2>

			<p id="confreq-rs-epub3-mo" class="support">Reading Systems <em class="rfc2119">MAY</em> support <a
					href="https://www.w3.org/TR/epub-33/#sec-media-overlays">Media Overlays</a> [<cite><a class="bibref"
						data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>].</p>

			<p>If a Reading System does not support Media Overlays, it <em class="rfc2119">MUST</em> ignore both the
					<code>media-overlay</code> attribute on <a href="https://www.w3.org/TR/epub-33/#dfn-manifest"
					>Manifest</a>
				<a href="https://www.w3.org/TR/epub-33/#elemdef-package-item"><code>item</code> elements</a> [<cite><a
						class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>]
				and the manifest <code>item</code> elements where the <code>media-type</code> attribute value equals
					<code>application/smil+xml</code>.</p>

			<section id="sec-behaviors-loading">
				<h3 id="x8-1-loading-the-media-overlay"><bdi class="secno">8.1 </bdi>Loading the Media Overlay<a
						class="self-link" aria-label="Â§" href="#sec-behaviors-loading"></a></h3>

				<p>When a Reading System loads a <a href="https://www.w3.org/TR/epub-33/#dfn-package-document">Package
						Document</a>, it <em class="rfc2119">MUST</em> refer to the <a
						href="https://www.w3.org/TR/epub-33/#dfn-manifest">Manifest</a>
					<a href="https://www.w3.org/TR/epub-33/#elemdef-package-item"><code>item</code> elements'</a>
							[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
							>EPUB-33</a></cite>] <code>media-overlay</code> attributes to discover the corresponding
					Media Overlays for <a href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content
						Documents</a>.</p>

				<p id="confreq-rs-xhtml-svg">Reading Systems <em class="rfc2119">MUST</em> support playback for <a
						href="https://www.w3.org/TR/epub-33/#dfn-xhtml-content-document">XHTML Content Documents</a>,
					and <em class="rfc2119">MAY</em> support <a
						href="https://www.w3.org/TR/epub-33/#dfn-svg-content-document">SVG Content Documents</a>.</p>

				<p>Playback <em class="rfc2119">MUST</em> start at the Media Overlay element which corresponds to the
					desired EPUB Content Document starting point. Note that the start of an EPUB Content Document <em
						class="rfc2119">MAY</em> correspond to an element at the start or in the middle of a Media
					Overlay. When the Media Overlay Document has finished playing, the Reading System <em
						class="rfc2119">SHOULD</em> load the next EPUB Content Document (as specified in the Package
					Document <a href="https://www.w3.org/TR/epub-33/#dfn-spine">spine</a>) and also load its
					corresponding Media Overlay Document, provided that one is given.</p>
			</section>

			<section id="sec-behaviors-playback">
				<h3 id="x8-2-basic-playback"><bdi class="secno">8.2 </bdi>Basic Playback<a class="self-link"
						aria-label="Â§" href="#sec-behaviors-playback"></a></h3>

				<section id="sec-rsconf-timing-synch">
					<h4 id="x8-2-1-timing-and-synchronization"><bdi class="secno">8.2.1 </bdi>Timing and
							Synchronization<a class="self-link" aria-label="Â§" href="#sec-rsconf-timing-synch"></a></h4>

					<p>Reading Systems <em class="rfc2119">MUST</em> render immediate children of the <a
							href="https://www.w3.org/TR/epub-33/#elemdef-smil-body"><code>body</code> element</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>] in a sequence. A <a
							href="https://www.w3.org/TR/epub-33/#elemdef-smil-seq"><code>seq</code> element's</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>] children <em class="rfc2119">MUST</em> be rendered in sequence, and
						playback completes when the last child has finished playing. A <a
							href="https://www.w3.org/TR/epub-33/#elemdef-smil-par"><code>par</code> element's</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>] children <em class="rfc2119">MUST</em> be rendered in parallel
						(with each starting at the same time), and playback completes when all the children have
						finished playing. When the <code>body</code> element's last child has finished playing, playback
						of the Media Overlay Document is done.</p>
				</section>

				<section id="sec-rsconf-rendering-audio">
					<h4 id="x8-2-2-rendering-audio"><bdi class="secno">8.2.2 </bdi>Rendering Audio<a class="self-link"
							aria-label="Â§" href="#sec-rsconf-rendering-audio"></a></h4>

					<p>When presented with a Media Overlay <a href="https://www.w3.org/TR/epub-33/#elemdef-smil-audio"
								><code>audio</code> element</a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>], Reading Systems <em
							class="rfc2119">MUST</em> play the audio resource referenced by the <code>src</code>
						attribute, starting at the clip offset time given by the <a
							href="https://www.w3.org/TR/epub-33/#attrdef-smil-clipBegin"><code>clipBegin</code>
							attribute</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>] and ending at the clip offset time given by the <a
							href="https://www.w3.org/TR/epub-33/#attrdef-smil-clipEnd"><code>clipEnd</code>
							attribute</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>]. The following rules <em class="rfc2119">MUST</em>
						be observed:</p>

					<ul>
						<li>
							<p>If <code>clipBegin</code> is not specified, its value is assumed to be
								"<code>0</code>".</p>
						</li>
						<li>
							<p>If <code>clipEnd</code> is not specified, its value is assumed to be the full duration of
								the physical media.</p>
						</li>
						<li>
							<p>If <code>clipEnd</code> exceeds the full duration of the physical media, then its value
								is assumed to be the full duration of the physical media.</p>
						</li>
					</ul>

					<p>User-controllable audio playback options <em class="rfc2119">SHOULD</em> include timescale
						modification, in which the playback rate is altered without distorting the pitch. The suggested
						range is half-speed to double-speed.</p>

				</section>

				<section id="sec-rsconf-rendering-text">
					<h4 id="x8-2-3-rendering-epub-content-document-elements"><bdi class="secno">8.2.3 </bdi>Rendering
						EPUB Content Document Elements<a class="self-link" aria-label="Â§"
							href="#sec-rsconf-rendering-text"></a></h4>

					<p>When presented with a Media Overlay <a href="https://www.w3.org/TR/epub-33/#elemdef-smil-text"
								><code>text</code> element</a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>], Reading Systems <em
							class="rfc2119">SHOULD</em> ensure the EPUB Content Document element referenced by the
							<code>src</code> attribute is visible in the <a
							href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a>. During Media Overlays
						playback, Reading Systems with a Viewport <em class="rfc2119">SHOULD</em> add the class names
						given by the metadata properties <a href="https://www.w3.org/TR/epub-33/#active-class"
								><code>active-class</code></a> and <a
							href="https://www.w3.org/TR/epub-33/#playback-active-class"
								><code>playback-active-class</code></a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] to the appropriate elements in
						the EPUB Content Document. Conversely, the class names <em class="rfc2119">SHOULD</em> be
						removed when the playback state changes, as described in <a
							href="https://www.w3.org/TR/epub-33/#sec-docs-assoc-style">Associating Style Information</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>].</p>

					<p>The <code>active-class</code> and <code>playback-active-class</code> metadata properties are <em
							class="rfc2119">OPTIONAL</em>, and if omitted, Reading System behavior is
						implementation-specific.</p>
				</section>
			</section>

			<section id="sec-behaviors-interaction">
				<h3 id="x8-3-interacting-with-the-epub-content-document"><bdi class="secno">8.3 </bdi>Interacting with
					the EPUB Content Document<a class="self-link" aria-label="Â§" href="#sec-behaviors-interaction"
					></a></h3>

				<section id="sec-rsconf-navigation">
					<h4 id="x8-3-1-navigation"><bdi class="secno">8.3.1 </bdi>Navigation<a class="self-link"
							aria-label="Â§" href="#sec-rsconf-navigation"></a></h4>

					<p>Because the Media Overlay is closely linked to the <a
							href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content Document</a>,
						it is very easy for Reading Systems to locate a position in the EPUB Content Document based on
						the current position in the Media Overlay playback. If the user pauses synchronized playback and
						navigates to a different part of the <a
							href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB Publication</a>,
						synchronized playback <em class="rfc2119">MUST</em> resume at that point. For example, if a
						specific page number in the EPUB Content Document is the desired location, then this same point
						is located in the Media Overlay and playback started there.</p>

					<p>This same approach allows for synchronizing the Media Overlay playback with user selection of a
						navigation point in the <a href="https://www.w3.org/TR/epub-33/#dfn-epub-navigation-document"
							>EPUB Navigation Document</a>. The Reading System loads the Media Overlay for that file and
						finds the correct point for starting playback based on the ID [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-xml"
								title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">XML</a></cite>] of the
						navigation point target.</p>

					<div class="note" role="note" id="issue-container-generatedID-8">
						<div role="heading" class="note-title marker" id="h-note-9" aria-level="5">
							<span>Note</span>
						</div>
						<div class="">
							<p>A Media Overlay Document can be associated directly with a Navigation Document in order
								to provide synchronized playback of its contents, regardless of whether the <a
									href="https://www.w3.org/TR/epub-33/#dfn-xhtml-content-document">XHTML Content
									Document</a> in which it resides is included in the <a
									href="https://www.w3.org/TR/epub-33/#dfn-spine">spine</a>. See <a
									href="https://www.w3.org/TR/epub-33/#sec-nav-doc"><em>EPUB Navigation
									Document</em></a> [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] for more
								information.</p>
						</div>
					</div>

					<div class="note" role="note" id="note-table-reading-mode">
						<div role="heading" class="note-title marker" id="h-note-10" aria-level="5">
							<span>Note</span>
						</div>
						<div class="">
							<p>Media Overlay Document elements can be associated with EPUB Content Document structures
								such as tables. Reading Systems need to ensure that Media Overlay playback remains
								synchronized with user navigation of table rows and cells. The Reading System might also
								play the corresponding table header preceding the contents of the cell.</p>
						</div>
					</div>

				</section>

				<section id="sec-embedded-media">
					<h4 id="x8-3-2-embedded-audio-and-video"><bdi class="secno">8.3.2 </bdi>Embedded Audio and Video<a
							class="self-link" aria-label="Â§" href="#sec-embedded-media"></a></h4>

					<p> An <a href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content Document</a>
						with which a Media Overlay is associated <em class="rfc2119">MAY</em> itself contain embedded
						video and audio media, which <em class="rfc2119">MAY</em> be pointed to by Media Overlay
						elements. Unlike text and images, video and audio media have an intrinsic duration.
						Consequently, when a Reading System renders the synchronization described by a Media Overlay,
						the default playback behavior of audio and video media embedded within the associated EPUB
						Content Document <em class="rfc2119">MUST</em> be overridden.</p>

					<p>Note that the rules below apply only to <em>referenced</em> [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
							href="https://html.spec.whatwg.org/multipage/media.html#the-video-element"
								><code>video</code></a> or <a
							href="https://html.spec.whatwg.org/multipage/media.html#the-audio-element"
								><code>audio</code></a> elements within the associated EPUB Content Document. That is to
						say, the rules apply to only those elements pointed to by <a
							href="https://www.w3.org/TR/epub-33/#elemdef-smil-text"><code>text</code> elements</a>
								[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
								>EPUB-33</a></cite>] within the Media Overlay (i.e., via the <code>src</code>
						attribute). Embedded media that is not referenced by Media Overlay elements is not subject to
						these rules.</p>

					<ul>
						<li>
							<p>All referenced audio and video media embedded within an EPUB Content Document <em
									class="rfc2119">MUST</em> have their public playback interface deactivated
								(typically: play/pause control, time slider, volume level, etc.). This behavior is
								necessary to avoid interference between the scheduled playback sequence defined by the
								Media Overlay, and the arbitrary playback behavior due to user interaction or script
								execution. As a result, when the Reading System is in playback mode, it <em
									class="rfc2119">SHOULD</em>:</p>
							<ul>
								<li>
									<p>Hide the individual video/audio UI controls from the page, which overrides the
										default behavior defined by the [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
											href="https://html.spec.whatwg.org/multipage/media.html#attr-media-controls"
												><code>controls</code> attribute</a>.</p>
								</li>
								<li>
									<p>Prevent scripts embedded within the EPUB Content Document from invoking the
										JavaScript audio/video playback API (i.e., authored as part of the default
										behavior). It is <em class="rfc2119">RECOMMENDED</em> that content producers
										avoid publishing embedded scripts dedicated to controlling the playback of
										embedded audio/video media. The published Media Overlay can then retain full
										control of the synchronized presentation without any risk of interference from
										script-enabled custom behaviors.</p>
								</li>
							</ul>
						</li>
						<li>
							<p>All referenced audio and video media embedded within an EPUB Content Document <em
									class="rfc2119">MUST</em> be initialized to their "stopped" state, and be ready to
								be played from the zero-position within their content stream (possibly displaying the
								image specified using the [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
									href="https://html.spec.whatwg.org/multipage/media.html#the-video-element"
										><code>poster</code></a> attribute). This requirement overrides the default
								behavior defined by the [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-html" title="HTML Standard">HTML</a></cite>] <a
									href="https://html.spec.whatwg.org/multipage/media.html#the-video-element"
										><code>autoplay</code></a> attribute.</p>
						</li>
						<li>
							<p>When an EPUB Content Document element becomes active, the CSS Style Sheet visual
								highlighting rules apply regardless of the content type referred to by that element's
									<code>src</code> attribute (e.g., the CSS class name defined by the <a
									href="https://www.w3.org/TR/epub-33/#active-class"><code>active-class</code>
									metadata property</a> [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] <em class="rfc2119"
									>SHOULD</em> be applied to visible video and audio player controls within the host
								EPUB Content Document).</p>
						</li>
						<li>
							<p>In addition to the default behavior of Media Overlay activation for textual fragments and
								images, audio and video playback <em class="rfc2119">MUST</em> be started and stopped
								according to the duration implied by the authored Media Overlay synchronization (as per
								the standard [<cite><a class="bibref" data-link-type="biblio" href="#bib-smil3"
										title="Synchronized Multimedia Integration Language (SMIL 3.0)"
								>SMIL3</a></cite>] timing model). There are two possible scenarios:</p>
							<ul>
								<li>
									<p>When a Media Overlay <code>text</code> element has no <a
											href="https://www.w3.org/TR/epub-33/#elemdef-smil-audio"
											><code>audio</code></a> [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] sibling within
										its <a href="https://www.w3.org/TR/epub-33/#elemdef-smil-par"
											><code>par</code></a> [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] parent
										container, the referenced EPUB Content Document audio or video media <em
											class="rfc2119">MUST</em> play until it ends, at which point the
											<code>text</code> element's lifespan terminates. In this case, the implicit
										duration of the <code>text</code> element (and by inference, of the parent
											<code>par</code> container) is that of the referenced audio or video
										clip.</p>
								</li>
								<li>
									<p>When a Media Overlay <code>text</code> element has an <code>audio</code> sibling
										within its <code>par</code> parent container, the playback duration of the
										referenced EPUB Content Document audio or video media <em class="rfc2119"
											>MUST</em> be constrained by the duration of the <code>audio</code> sibling.
										In this case, the actual duration of the parent <code>par</code> container is
										that of the child audio clip, regardless of the duration of the video or audio
										media pointed to by the <code>text</code> element. This behavior can result in
										embedded video or audio media ending playback prematurely (before reaching its
										full duration), or ending before the playback of the parallel Media Overlay
											<code>audio</code> is finished (in which case the last-played video frame
											<em class="rfc2119">SHOULD</em> remain visible until the parent
											<code>par</code> container finally ends). This behavior is equivalent of the
										Media Overlay <code>audio</code> element implicitly carrying the behavior of the
												[<cite><a class="bibref" data-link-type="biblio" href="#bib-smil3"
												title="Synchronized Multimedia Integration Language (SMIL 3.0)"
												>SMIL3</a></cite>] <a
											href="https://www.w3.org/TR/SMIL/smil-timing.html#adef-endsync"
												><code>endsync</code></a> attribute.</p>
									<p>Furthermore, Reading Systems <em class="rfc2119">SHOULD</em> expose user controls
										for the volume levels of each independent audio track (i.e., from the
											<code>audio</code> element of the Media Overlay, and from the embedded audio
										or video media within the EPUB Content Document), so that audio output can be
										adjusted to match listeners' requirements. Note that having overlapping audio
										tracks is typically an authoring-time concern: content producers usually add a
										layer of audio information over a video track for description purposes. It is
											<em class="rfc2119">RECOMMENDED</em> that overlapping audio situations are
										carefully examined and dealt with at production stage, as Reading Systems are
											<em class="rfc2119">NOT REQUIRED</em> to handle simultaneous volume levels
										in any specific way.</p>
								</li>
							</ul>
						</li>
						<li>
							<p>When a <code>text</code> element becomes inactive in the Media Overlay, and when it
								points to embedded video or audio media, that referenced media <em class="rfc2119"
									>MUST</em> be reset to its initial "stopped" state, ready to be played from the
								zero-position within their content stream (possibly displaying the poster image
								specified using the [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
										title="HTML Standard">HTML</a></cite>] markup).</p>
						</li>
					</ul>

				</section>

				<section id="sec-text-to-speech">
					<h4 id="x8-3-3-text-to-speech"><bdi class="secno">8.3.3 </bdi>Text-to-Speech<a class="self-link"
							aria-label="Â§" href="#sec-text-to-speech"></a></h4>

					<p>When a Media Overlay <a href="https://www.w3.org/TR/epub-33/#elemdef-smil-text"><code>text</code>
							element</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>] with no <a
							href="https://www.w3.org/TR/epub-33/#elemdef-smil-audio"><code>audio</code></a> [<cite><a
								class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
							>EPUB-33</a></cite>] sibling element references text within the target <a
							href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content Document</a>,
						Reading Systems capable of <a href="https://www.w3.org/TR/epub-33/#dfn-text-to-speech"
							>Text-to-Speech</a> (TTS) <em class="rfc2119">SHOULD</em> render the referenced text using
						TTS.</p>

					<p>As per Reading System conformance requirements, the speech-related information provided in the
						target EPUB Content Document <em class="rfc2119">SHOULD</em> be used to play the audio stream as
						part of the Media Overlay rendering. (See <a href="#sec-xhtml-ssml-attrib">SSML</a>, <a
							href="#sec-pls">Pronunciation Lexicons</a>, and <a href="#confreq-rs-epub3-speech">CSS3
							Speech</a> support requirements.)</p>

					<p>The Media Overlay <code>text</code> element's lifespan corresponds to the rendering time of the
						associated speech synthesis. The implicit duration of the <code>text</code> element (and by
						inference, of the parent <code>par</code> element) is therefore determined by the execution of
						the Text-to-Speech engine, and cannot be known at authoring time (factors like speech rate,
						pauses and other prosody parameters influence the audio output).</p>

				</section>
			</section>

			<section id="sec-behaviors-skip-escape">
				<h3 id="x8-4-skippability-and-escapability"><bdi class="secno">8.4 </bdi>Skippability and Escapability<a
						class="self-link" aria-label="Â§" href="#sec-behaviors-skip-escape"></a></h3>

				<section id="sec-skippability">
					<h4 id="x8-4-1-skippability"><bdi class="secno">8.4.1 </bdi>Skippability<a class="self-link"
							aria-label="Â§" href="#sec-skippability"></a></h4>

					<p>Reading Systems <em class="rfc2119">SHOULD</em> use the semantic information provided by Media
						Overlay elements' <a href="#sec-structural-semantics"><code>epub:type</code> attribute</a> to
						determine when to offer users the option of skippable features.</p>
				</section>

				<section id="sec-escapability">
					<h4 id="x8-4-2-escapability"><bdi class="secno">8.4.2 </bdi>Escapability<a class="self-link"
							aria-label="Â§" href="#sec-escapability"></a></h4>

					<p>Reading Systems <em class="rfc2119">SHOULD</em> allow escaping of nested structures. Reading
						Systems <em class="rfc2119">MUST</em> determine the start of nested structures by the value of
						the <a href="#sec-structural-semantics"><code>epub:type</code> attribute</a> and <em
							class="rfc2119">SHOULD</em> offer users the option to skip playback of that structure and
						resume with whatever content comes after it.</p>
				</section>
			</section>
		</section>
		<section id="sec-structural-semantics">
			<h2 id="x9-processing-structural-semantics"><bdi class="secno">9. </bdi>Processing Structural Semantics<a
					class="self-link" aria-label="Â§" href="#sec-structural-semantics"></a></h2>

			<p id="confreq-rs-epub-epub-type" class="support">Reading Systems <em class="rfc2119">MAY</em> support <a
					href="https://www.w3.org/TR/epub-33/#app-structural-semantics">structural semantics</a> [<cite><a
						class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>]
				in <a href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content Documents</a>.</p>

			<p>A Reading System that supports structural semantics has to process the <code>epub:type</code> attribute
				as follows:</p>

			<ul class="conformance-list">
				<li>
					<p id="confreq-rs-epubtype-beh"><span class="link-marker"><a href="#confreq-rs-epubtype-beh"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MAY</em> associate behaviors with none, some or all of the terms
						defined in the <a href="https://www.w3.org/TR/epub-33/#sec-epub-type-attribute">default
							vocabulary</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
								title="EPUB 3.3">EPUB-33</a></cite>].</p>
				</li>
				<li>
					<p id="confreq-rs-epubtype-oth"><span class="link-marker"><a href="#confreq-rs-epubtype-oth"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MAY</em> associate behaviors with terms from other
						vocabularies.</p>
				</li>
				<li>
					<p id="confreq-rs-epubtype-ign"><span class="link-marker"><a href="#confreq-rs-epubtype-ign"
								class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MUST</em> ignore terms that it does not recognize.</p>
				</li>
				<li>
					<p id="confreq-rs-epubtype-conflict"><span class="link-marker"><a
								href="#confreq-rs-epubtype-conflict" class="hidden-reveal"><span>&#160;</span></a>
						</span>It <em class="rfc2119">MUST</em>
						<a href="#confreq-rs-epubtype-prec">ignore structural semantics</a> that conflict with the
						carrying element.</p>
				</li>
			</ul>

			<p id="confreq-rs-epubtype-prec">When Reading System behavior associated with a given <code>epub:type</code>
				value conflicts with an element's native behavior, the behavior associated with the element <em
					class="rfc2119">MUST</em> be given precedence.</p>
		</section>
		<section id="sec-vocab-assoc">
			<h2 id="x10-vocabulary-association-mechanisms"><bdi class="secno">10. </bdi>Vocabulary Association
					Mechanisms<a class="self-link" aria-label="Â§" href="#sec-vocab-assoc"></a></h2>

			<p id="confreq-res-epub-vocab-assoc" class="support">Reading Systems <em class="rfc2119">MUST</em> support
					<a href="https://www.w3.org/TR/epub-33/#sec-vocab-assoc">vocabulary association mechanisms</a>
						[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>

			<dl class="conformance-list">
				<dt id="sec-metadata-reserved-prefixes">Reserved Prefixes</dt>
				<dd>
					<p>Reading Systems <em class="rfc2119">MUST</em> resolve all reserved prefixes used in Package
						Documents using their predefined URIs unless a local <a href="#sec-prefix-attr">prefix</a> is
						declared. Reading Systems <em class="rfc2119">MUST</em> use locally overridden prefixes in the
							<code>prefix</code> attribute when encountered.</p>
					<p>As changes to the reserved prefixes and updates to Reading Systems are not always going happen in
						synchrony, Reading Systems <em class="rfc2119">MUST NOT</em> fail when encountering unrecognized
						prefixes (i.e., not reserved and not declared using the <code>prefix</code> attribute).</p>
				</dd>

				<dt id="sec-prefix-attr">The <code>prefix</code> attribute</dt>
				<dd>
					<p>If the <code>prefix</code> attribute includes a declaration for a <a
							href="#sec-metadata-reserved-prefixes">predefined prefix</a>, Reading Systems <em
							class="rfc2119">MUST</em> use the URI mapping defined in the <code>prefix</code> attribute,
						regardless of whether of it maps to the same URI as the predefined prefix.</p>
				</dd>

				<dt id="sec-property-datatype">The <code>property</code> Data Type</dt>
				<dd>
					<p>A Reading System <em class="rfc2119">MUST</em> use the following rules to create an IRI [<cite><a
								class="bibref" data-link-type="biblio" href="#bib-rfc3987"
								title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>] from a
						property:</p>
					<ul>
						<li>
							<p>If the property consists only of a reference, the IRI is obtained by concatenating the
								IRI stem associated with the <a href="https://www.w3.org/TR/epub-33/#sec-default-vocab"
									>default vocabulary</a> [<cite><a class="bibref" data-link-type="biblio"
										href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] to the reference.</p>
						</li>
						<li>
							<p>If the property consists of a prefix and reference, the IRI is obtained by concatenating
								the IRI stem associated with the prefix to the reference. If no matching prefix has been
								defined, the property is invalid and <em class="rfc2119">MUST</em> be ignored.</p>
						</li>
					</ul>
					<p>The resulting IRI <em class="rfc2119">MUST</em> be valid to [<cite><a class="bibref"
								data-link-type="biblio" href="#bib-rfc3987"
								title="Internationalized Resource Identifiers (IRIs)">RFC3987</a></cite>]. Reading
						Systems do not have to resolve this IRI, however.</p>
				</dd>
			</dl>
		</section>
		<section id="sec-package-metadata-rendering">
			<h2 id="x11-package-rendering-metadata-processing"><bdi class="secno">11. </bdi>Package Rendering Metadata
					Processing<a class="self-link" aria-label="Â§" href="#sec-package-metadata-rendering"></a></h2>

			<p id="confreq-rs-epub3-presentational-meta" class="support">Reading Systems <em class="rfc2119">SHOULD</em>
				process the <a href="https://www.w3.org/TR/epub-33/#sec-rendering-general">general package rendering
					properties</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
						>EPUB-33</a></cite>].</p>

			<section id="flow">
				<h3 id="x11-1-the-rendition-flow-property"><bdi class="secno">11.1 </bdi>The <code>rendition:flow</code>
						Property<a class="self-link" aria-label="Â§" href="#flow"></a></h3>

				<p>If a Reading System supports the specified rendering, it <em class="rfc2119">SHOULD</em> use that
					method to handle overflow content, but <em class="rfc2119">MAY</em> provide the option for users to
					override the requested rendering.</p>

				<p>The default global value is <code>auto</code> if no <code>meta</code> element carrying this property
					occurs in the <a href="https://www.w3.org/TR/epub-33/#elemdef-opf-metadata"><code>metadata</code>
						section</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>]. Reading Systems <em class="rfc2119">MAY</em> support
					only this default value.</p>

				<p>If a Reading Systems supports the <a href="#layout"><code>rendition:layout</code></a> property, it
						<em class="rfc2119">MUST</em> ignore the <code>rendition:flow</code> property when it has been
					set on a spine item that also specifies the <a href="#layout"><code>rendition:layout</code></a>
					value <code>pre-paginated</code>.</p>

				<p>The <code>rendition:flow</code> property values have the following processing requirements:</p>

				<dl class="variablelist">
					<dt id="paginated">paginated</dt>
					<dd>
						<p>The Reading System <em class="rfc2119">SHOULD</em> dynamically paginate all overflow
							content.</p>
					</dd>
					<dt id="scrolled-continuous">scrolled-continuous</dt>
					<dd>
						<p>The Reading System <em class="rfc2119">SHOULD</em> render all Content Documents such that
							overflow content is scrollable, and the EPUB Publication <em class="rfc2119">SHOULD</em> be
							presented as one continuous scroll from spine item to spine item (except where <a
								href="https://www.w3.org/TR/epub-33/#layout-property-flow-overrides">locally
								overridden</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
									title="EPUB 3.3">EPUB-33</a></cite>]).</p>
					</dd>
					<dt id="scrolled-doc">scrolled-doc</dt>
					<dd>
						<p>The Reading System <em class="rfc2119">SHOULD</em> render all Content Documents such that
							overflow content is scrollable, and each spine item <em class="rfc2119">SHOULD</em> be
							presented as a separate scrollable document.</p>
					</dd>
					<dt id="auto">auto</dt>
					<dd>
						<p>The Reading System <em class="rfc2119">MAY</em> render overflow content using its default
							method or a user preference, whichever is applicable.</p>
					</dd>
				</dl>

				<p>For the <code>rendition:flow-scrolled-continuous</code> property, the scroll direction is defined
					relative to the block flow direction of the root element of the XHTML Content Document referenced by
					the <a href="https://www.w3.org/TR/epub-33/#elemdef-spine-itemref"><code>itemref</code> element</a>
							[<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
							>EPUB-33</a></cite>]. The scroll direction is vertical if the block flow direction is
					downward (top-to-bottom). It is horizontal if the block flow direction of the root element is
					rightward (left-to-right) or leftward (right-to-left).</p>
			</section>

			<section id="align-x-center">
				<h3 id="x11-2-the-rendition-align-x-center-property"><bdi class="secno">11.2 </bdi>The
						<code>rendition:align-x-center</code> Property<a class="self-link" aria-label="Â§"
						href="#align-x-center"></a></h3>

				<p>When the <a href="#align-x-center"><code>rendition:align-x-center</code> property</a> is set on a
					spine item, Reading Systems <em class="rfc2119">SHOULD</em> render the content centered horizontally
					within the <a href="https://www.w3.org/TR/epub-33/#dfn-viewport">Viewport</a> or spread, as
					applicable. This property does not affect the rendering of the spine item, only the placement of the
					resulting content box.</p>

				<p>For reflowable content, Reading Systems that support this property <em class="rfc2119">MUST</em>
					center each virtual page.</p>

				<p>This version of this specification does not define a default rendering behavior when this property is
					not supported or specified. Reading Systems <em class="rfc2119">MAY</em> render spine items by their
					own design.</p>
			</section>
		</section>
		<section id="sec-epub-rs-conf-backward">
			<h2 id="x12-backward-compatibility"><bdi class="secno">12. </bdi>Backward Compatibility<a class="self-link"
					aria-label="Â§" href="#sec-epub-rs-conf-backward"></a></h2>

			<p id="confreq-rs-backward-epub">Reading Systems <em class="rfc2119">MUST</em> attempt to process an EPUB
				Publication whose Package Document <code>version</code> attribute is less than "<code>3.0</code>".</p>

			<p id="confreq-rs-backward-conf">EPUB Publications with older version numbers will not always render exactly
				as intended unless processed according to their respective specifications. Reading Systems <em
					class="rfc2119">SHOULD</em> support such EPUB Publications as defined by those specifications.</p>
		</section>
		<section id="sec-epub-rs-conf-forward">
			<h2 id="x13-forward-compatibility"><bdi class="secno">13. </bdi>Forward Compatibility<a class="self-link"
					aria-label="Â§" href="#sec-epub-rs-conf-forward"></a></h2>

			<p id="confreq-rs-forward-epubn">Reading Systems <em class="rfc2119">SHOULD</em> attempt to process an EPUB
				Publication whose Package Document <code>version</code> attribute is greater than
				"<code>3.0</code>".</p>
		</section>
		<section id="sec-epub-rs-conf-a11y">
			<h2 id="x14-accessibility"><bdi class="secno">14. </bdi>Accessibility<a class="self-link" aria-label="Â§"
					href="#sec-epub-rs-conf-a11y"></a></h2>

			<p id="confreq-rs-a11y">Reading Systems <em class="rfc2119">SHOULD</em> meet the accessibility requirements
				for Reading Systems in [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-a11y-10"
						title="EPUB Accessibility 1.0">EPUB-A11Y-10</a></cite>].</p>
		</section>
		<section id="sec-security-privacy">
			<h2 id="x15-security-and-privacy"><bdi class="secno">15. </bdi>Security and Privacy<a class="self-link"
					aria-label="Â§" href="#sec-security-privacy"></a></h2>

			<div class="note" id="issue-container-generatedID-9">
				<div role="heading" class="ednote-title marker" id="h-ednote" aria-level="3">
					<span>Editor's note</span>
				</div>
				<div class="">
					<p>This section currently combines an overview of security and privacy considerations with issues
						previously cited in the specification.</p>
					<p>The Working Group intends to develop this section throughout the revision to further expand on
						the issues and provide it with a more structured narrative.</p>
				</div>
			</div>

			<p>The particularity of an <a href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB
					Publication</a> is its structure. The EPUB format provides a means of representing, packaging, and
				encoding structured and semantically enhanced Web content&#160;â€”&#160;including HTML, CSS, SVG, and
				other resources&#160;â€”&#160;for distribution in a single-file container. This specification does not
					<em>add</em> any new features, APIs, etc. This also means that, essentially, the security and
				privacy issues are reliant on the features of those formats. In particular:</p>

			<ul>
				<li>EPUB 3 allows references to remotely hosted resources from within <a
						href="https://www.w3.org/TR/epub-33/#dfn-epub-content-document">EPUB Content Documents</a>, but
					also from the <a href="https://www.w3.org/TR/epub-33/#dfn-package-document">Package Document</a>
					(e.g., in a <a href="https://www.w3.org/TR/epub-33/#sec-item-elem"><code>item</code></a> element
					which allows both local and remote references). This is not unlike any external reference from an
					average Web site that potentially exposes users to malicious content, and the general Web security
					principles should be taken into account (e.g., cross-origin resource sharing).</li>
				<li>The <a href="https://www.w3.org/TR/epub-33/#sec-package-doc">Package Document</a> allows personally
					identifiable information about an EPUB Publication's creator(s) (e.g., names, identifying URLs) to
					be included, so authoring tools could expose unexpected information if explicit author approval of
					metadata is not required.</li>
			</ul>

			<p>Additionally, the security considerations that apply to XML&#160;[<cite><a class="bibref"
						data-link-type="biblio" href="#bib-xml"
						title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">XML</a></cite>] and
						ZIP&#160;[<cite><a class="bibref" data-link-type="biblio" href="#bib-zip"
						title=".ZIP File Format Specification">ZIP</a></cite>] files also apply to the <a
					href="https://www.w3.org/TR/epub-33/#sec-package-doc">Package Document</a> and the <a
					href="https://www.w3.org/TR/epub-33/#sec-ocf">Open Container Format</a>, respectively. See the
				"Security Consideration" sections of the Media Type registrations for the <a
					href="https://www.w3.org/TR/epub-33/#app-media-type-app-oebps-package"
						><code>application/oebps-package+xml</code></a> and the <a
					href="https://www.w3.org/TR/epub-33/#app-media-type-app-oebps-package"
						><code>application/epub+zip</code></a> formats for further details. </p>

			<section id="sec-scripted-content-security">
				<h3 id="x15-1-scripting-considerations"><bdi class="secno">15.1 </bdi>Scripting Considerations<a
						class="self-link" aria-label="Â§" href="#sec-scripted-content-security"></a></h3>

				<p><a href="https://www.w3.org/TR/epub-33/#dfn-epub-creator">EPUB Creators</a> and Reading System
					developers must be aware of the security issues that arise when scripted content is executed by a
					Reading System. As the underlying scripting model employed by Reading Systems and browsers is the
					same, the same kinds of issues encountered in Web contexts have to be taken into consideration.</p>

				<p>Each Reading System has to establish if the scripts in a particular document are to be trusted or
					not. It is advised that all scripts be treated as untrusted (and potentially malicious), and that
					all vectors of attack be examined and protected against. In particular, the following need to be
					considered:</p>

				<ul>
					<li>
						<p>an attack against the runtime environment (e.g., stealing files from a user's hard
							drive);</p>
					</li>
					<li>
						<p>an attack against the Reading System itself (e.g., stealing a list of a user's books or
							causing unexpected behavior);</p>
					</li>
					<li>
						<p>an attack of one Content Document against another (e.g., stealing data that originated in a
							different document);</p>
					</li>
					<li>
						<p>an attack of an unencrypted script against an encrypted portion of a document (e.g., an
							injected malicious script extracting protected content);</p>
					</li>
					<li>
						<p>an attack against the local network (e.g., stealing data from a server behind a
							firewall).</p>
					</li>
				</ul>

				<p>The following recommendations are provided as a guide to handling untrusted scripts:</p>

				<ul>
					<li>
						<p>Reading Systems must behave as if a unique <a href="https://url.spec.whatwg.org/#origin"
								>origin</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-url"
									title="URL Standard">URL</a></cite>] were allocated to each <a
								href="https://www.w3.org/TR/epub-33/#dfn-epub-publication">EPUB Publication</a>.
							Adopting this approach will isolate publications from each other, thereby limiting access to
							cookies, DOM storage, etc.</p>
						<div class="note" role="note" id="issue-container-generatedID-10">
							<div role="heading" class="note-title marker" id="h-note-11" aria-level="4">
								<span>Note</span>
							</div>
							<div class="">
								<p>Although domain isolation is the most effective way to secure EPUB Publications in
									Web-based Reading Systems, it is not always a realistic option. Web-based Reading
									Systems must still maintain isolation in such cases, which may require limiting
									access to scripting APIs that allow client-side data storage and access.</p>
							</div>
						</div>
						<p>Reading Systems that enable scripting and network access should also include methods to
							notify the user that network activity is occurring and/or that allow them to disable it.</p>
					</li>
					<li>
						<p>If a Reading System allows persistent data to be stored, that data must be treated as
							sensitive. Scripts may save persistent data through cookies and DOM storage but Reading
							Systems may block such attempts. Reading Systems that do allow data to be stored must ensure
							that it is not made available to other unrelated documents (e.g., ones that could have been
							spoofed). In particular, checking for a matching document identifier (or similar metadata)
							is not a valid method to control access to persistent data.</p>
						<p>Reading Systems that allow local storage should also provide methods for users to inspect,
							disable, and delete that data. The data needs to be destroyed if the corresponding EPUB
							Publication is deleted.</p>
					</li>
				</ul>

				<p>Note that compliance with these recommendations does not guarantee protection from the possible
					attacks listed above; developers have to examine each potential vulnerability within the context of
					their Reading System.</p>
			</section>

			<section id="sec-scripted-content-events">
				<h3 id="x15-2-event-model-considerations"><bdi class="secno">15.2 </bdi>Event Model Considerations<a
						class="self-link" aria-label="Â§" href="#sec-scripted-content-events"></a></h3>

				<p>Reading Systems need to follow the DOM Event model as per [<cite><a class="bibref"
							data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] and pass UI
					events to the scripting environment before performing any default action associated with these
					events. Reading System implementers need to ensure that scripts cannot disable critical
					functionality (such as navigation) to constrain the extent to which a <a
						href="#sec-scripted-content-security">potentially malicious</a> script could impact their
					Reading Systems. As a result, although the scripting environment needs to be able to cancel the
					default action of any event, some events either might not be passed through or might not be
					cancelable.</p>
			</section>
		</section>
		<section id="app-epubReadingSystem" class="appendix">
			<h2 id="a-javascript-epubreadingsystem-object"><bdi class="secno">A. </bdi>JavaScript <dfn
					id="dfn-epubreadingsystem">epubReadingSystem</dfn> Object<a class="self-link" aria-label="Â§"
					href="#app-epubReadingSystem"></a></h2>

			<section id="app-ers-idl">
				<h3 id="a-1-interface-definition"><bdi class="secno">A.1 </bdi>Interface Definition<a class="self-link"
						aria-label="Â§" href="#app-ers-idl"></a></h3>

				<p>This specification extends the [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
							title="HTML Standard">HTML</a></cite>] <dfn id="dom-navigator" data-idl="interface"
						data-title="Navigator" data-dfn-for=""><code>Navigator</code></dfn> object as follows.</p>

				<pre class="idl def" id="webidl-1357718267"><span class="idlHeader"><a class="self-link" href="#webidl-1357718267">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-epubreadingsystem" data-title="EpubReadingSystem">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a>)</span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-epubreadingsystem" data-idl="interface" data-title="EpubReadingSystem" data-dfn-for="EpubReadingSystem" class="idlID"><code>EpubReadingSystem</code></dfn> {<span data-idl="" class="idlAttribute" id="idl-def-epubreadingsystem-name" data-title="name" data-dfn-for="EpubReadingSystem">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#LegacyUnforgeable">LegacyUnforgeable</a></span>] readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-epubreadingsystem-name" data-idl="attribute" data-title="name" data-dfn-for="EpubReadingSystem" data-type="DOMString" data-lt="name" data-local-lt="EpubReadingSystem.name" class="idlName"><code>name</code></dfn>;</span><span data-idl="" class="idlAttribute" id="idl-def-epubreadingsystem-version" data-title="version" data-dfn-for="EpubReadingSystem">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#LegacyUnforgeable">LegacyUnforgeable</a></span>] readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-epubreadingsystem-version" data-idl="attribute" data-title="version" data-dfn-for="EpubReadingSystem" data-type="DOMString" data-lt="version" data-local-lt="EpubReadingSystem.version" class="idlName"><code>version</code></dfn>;</span><span data-idl="" class="idlMethod" id="idl-def-epubreadingsystem-hasfeature-feature-version" data-title="hasFeature" data-dfn-for="EpubReadingSystem"><span class="idlType">
    <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <dfn data-export="" data-dfn-type="method" id="dom-epubreadingsystem-hasfeature" data-idl="operation" data-title="hasFeature" data-dfn-for="EpubReadingSystem" data-type="boolean" data-lt="hasFeature()|hasFeature(feature)|hasFeature(feature, version)" data-local-lt="EpubReadingSystem.hasFeature|EpubReadingSystem.hasFeature()|hasFeature" class="idlName"><code>hasFeature</code></dfn>(<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">feature</span>, optional<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">version</span>);</span>
};</span><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">

partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-navigator" id="ref-for-dom-navigator-1"><code>Navigator</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-epubreadingsystem" data-title="epubReadingSystem" data-dfn-for="Navigator">
    [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#LegacyUnforgeable">LegacyUnforgeable</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a href="#dfn-epubreadingsystem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-epubreadingsystem-1">EpubReadingSystem</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-navigator-epubreadingsystem" id="ref-for-dom-navigator-epubreadingsystem-1"><code>epubReadingSystem</code></a>;</span>
};</span></code></pre>
				<p>[<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL"
					>WEBIDL</a></cite>] notation.</p>

				<div class="note" role="note" id="issue-container-generatedID-11">
					<div role="heading" class="note-title marker" id="h-note-12" aria-level="4">
						<span>Note</span>
					</div>
					<div class="">
						<p>This specification does not define an <code>epubReadingSystem</code> property extension for
							the <a href="https://www.w3.org/TR/2015/WD-workers-20150924/#the-workernavigator-object"
									><code>WorkerNavigator</code> object</a> [<cite><a class="bibref"
									data-link-type="biblio" href="#bib-webworkers" title="Web Workers"
								>WebWorkers</a></cite>]. Reading Systems therefore do not have to expose the
								<code>epubReadingSystem</code> object in the scripting context of Workers, and EPUB
							Creators cannot rely on its presence.</p>
					</div>
				</div>
			</section>

			<section id="app-ers-desc">
				<h3 id="a-2-description"><bdi class="secno">A.2 </bdi>Description<a class="self-link" aria-label="Â§"
						href="#app-ers-desc"></a></h3>

				<p>The <code><dfn data-export="" data-dfn-type="attribute" id="dom-navigator-epubreadingsystem"
							data-idl="attribute" data-title="Navigator.epubReadingSystem" data-dfn-for="Navigator"
							data-type="EpubReadingSystem" data-lt="epubReadingSystem"
							data-local-lt="Navigator.epubReadingSystem">Navigator.epubReadingSystem</dfn></code> object
					provides an interface through which a <a
						href="https://www.w3.org/TR/epub-33/#dfn-scripted-content-document">Scripted Content
						Document</a> can query information about a user's Reading System.</p>

				<p>The object exposes <a href="#app-ers-properties">properties</a> of the Reading System (its name and
					version), and provides the <a href="#app-ers-hasFeature"><code>hasFeature</code> method</a> which
					can be invoked to determine the features it supports.</p>

				<aside class="example" id="example-1">
					<div class="marker">
						<a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
					</div>
					<p>Example JavaScript function that displays the name of the current Reading System.</p>

					<pre aria-busy="false"><code class="hljs javascript">alert(<span class="hljs-string">"Reading System name: "</span> + navigator.epubReadingSystem.name);</code></pre>
				</aside>

				<p>Reading Systems <em class="rfc2119">MUST</em> expose the <code>epubReadingSystem</code> object on the
						<code>navigator</code> object of all loaded Scripted Content Documents, including any nested <a
						href="https://www.w3.org/TR/epub-33/#sec-scripted-container-constrained">container-constrained
						scripting contexts</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-epub-33"
							title="EPUB 3.3">EPUB-33</a></cite>]. Reading Systems <em class="rfc2119">MUST</em> ensure
					that the <code>epubReadingSystem</code> object is available no later than when the <a
						href="https://html.spec.whatwg.org/multipage/parsing.html#the-end"><code>DOMContentLoaded</code>
						event is triggered</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
							title="HTML Standard">HTML</a></cite>].</p>

				<div class="note" role="note" id="issue-container-generatedID-12">
					<div role="heading" class="note-title marker" id="h-note-13" aria-level="4">
						<span>Note</span>
					</div>
					<div class="">
						<p>Reading systems implementations might create cloned instances of the
								<code>epubReadingSystem</code> object in Scripted Content Documents for technical
							feasibility reasons. In such cases, the Reading System has to ensure that the objectâ€™s state
							â€” as reflected by the values of its properties and methods â€” is consistently maintained
							across all copied instances.</p>
					</div>
				</div>
			</section>

			<section id="app-ers-properties">
				<h3 id="a-3-properties"><bdi class="secno">A.3 </bdi>Properties<a class="self-link" aria-label="Â§"
						href="#app-ers-properties"></a></h3>

				<p>The following properties <em class="rfc2119">MUST</em> be made available for retrieving information
					about the Reading System.</p>

				<table data-dfn-for="epubReadingSystem">
					<thead>
						<tr>
							<th>Name</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td id="propdef-name">
								<code>
									<dfn id="dfn-name">name</dfn>
								</code>
							</td>
							<td>Returns a <code>String</code> value representing the name of the Reading System (e.g.,
									"<code>iBooks</code>", "<code>Kindle</code>").</td>
						</tr>
						<tr>
							<td id="propdef-version">
								<code>
									<dfn id="dfn-version">version</dfn>
								</code>
							</td>
							<td>Returns a <code>String</code> value representing the version of the Reading System
								(e.g., "<code>1.0</code>", "<code>2.1.1</code>").</td>
						</tr>
						<tr>
							<td id="propdef-layoutStyle">
								<code>
									<dfn id="dfn-layoutstyle">layoutStyle</dfn>
								</code>
							</td>
							<td>Use of the <code>layoutStyle</code> property is <a
									href="https://www.w3.org/TR/epub-33/#deprecated">deprecated</a> [<cite><a
										class="bibref" data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
										>EPUB-33</a></cite>]. Refer to its definition in [<cite><a class="bibref"
										data-link-type="biblio" href="#bib-epubcontentdocs-301"
										title="EPUB Content Documents 3.0.1">EPUBContentDocs-301</a></cite>] for usage
								information.</td>
						</tr>
					</tbody>
				</table>
			</section>

			<section id="app-ers-methods">
				<h3 id="a-4-methods"><bdi class="secno">A.4 </bdi>Methods<a class="self-link" aria-label="Â§"
						href="#app-ers-methods"></a></h3>

				<section id="app-ers-hasFeature">
					<h4 id="a-4-1-hasfeature"><bdi class="secno">A.4.1 </bdi>hasFeature<a class="self-link"
							aria-label="Â§" href="#app-ers-hasFeature"></a></h4>

					<section id="app-ers-hasFeature-desc">
						<h5 id="a-4-1-1-description"><bdi class="secno">A.4.1.1 </bdi>Description<a class="self-link"
								aria-label="Â§" href="#app-ers-hasFeature-desc"></a></h5>

						<p data-dfn-for="epubReadingSystem">The <code><dfn id="dfn-hasfeature">hasFeature</dfn></code>
							method returns a boolean value indicating whether any version of the specified feature is
							supported, or <code>undefined</code> if the specified feature is not recognized.</p>

						<p>The <em class="rfc2119">OPTIONAL</em>
							<code>version</code> parameter is included for querying custom features that could change in
							incompatible ways over time. The return value indicates support only for the specified
							version of the feature.</p>

						<p><a href="https://www.w3.org/TR/epub-33/#dfn-epub-creator">EPUB Creators</a>
							<em class="rfc2119">SHOULD NOT</em> include the <code>version</code> parameter when querying
								<a href="#app-ers-hasFeature-features">features defined in this specification</a> â€”
							these features are considered versionless. If a Reading System supports a feature defined in
							this specification, it <em class="rfc2119">MUST</em> ignore any supplied
								<code>version</code> parameter and return a <code>true</code> value.</p>

						<aside class="example" id="example-2">
							<div class="marker">
								<a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
							</div>
							<p>Example JavaScript function that displays whether the current Reading System supports
								scripted manipulation of the DOM.</p>

							<pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">var</span> feature = <span class="hljs-string">"dom-manipulation"</span>;

<span class="hljs-keyword">var</span> conformTest = navigator.epubReadingSystem.hasFeature(feature);

alert(<span class="hljs-string">"Feature "</span> + feature + <span class="hljs-string">" supported?: "</span> + conformTest);</code></pre>
						</aside>
					</section>

					<section id="app-ers-hasFeature-features">
						<h5 id="a-4-1-2-features"><bdi class="secno">A.4.1.2 </bdi>Features<a class="self-link"
								aria-label="Â§" href="#app-ers-hasFeature-features"></a></h5>

						<p>The following table lists the set of features that Reading Systems that support the
								<code>epubReadingSystem</code> object <em class="rfc2119">MUST</em> recognize (i.e.,
							provide a return value for). Support for these features is <em class="rfc2119"
							>OPTIONAL</em>.</p>

						<table>
							<thead>
								<tr>
									<th>Name</th>
									<th>Description</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td id="feature-dom-manipulation">
										<code>dom-manipulation</code>
									</td>
									<td>Scripts <em class="rfc2119">MAY</em> make structural changes to the documentâ€™s
										DOM (applies to <a href="https://www.w3.org/TR/epub-33/#sec-scripted-spine"
											>spine-level scripting</a> [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] only).</td>
								</tr>
								<tr>
									<td id="feature-layout-changes">
										<code>layout-changes</code>
									</td>
									<td>Scripts <em class="rfc2119">MAY</em> modify attributes and CSS styles that
										affect content layout (applies to <a
											href="https://www.w3.org/TR/epub-33/#sec-scripted-spine">spine-level
											scripting</a> [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] only).</td>
								</tr>
								<tr>
									<td id="feature-touch-events">
										<code>touch-events</code>
									</td>
									<td>The device supports touch events, and the Reading System passes touch events to
										the content.</td>
								</tr>
								<tr>
									<td id="feature-mouse-events">
										<code>mouse-events</code>
									</td>
									<td>The device supports mouse events, and the Reading System passes mouse events to
										the content.</td>
								</tr>
								<tr>
									<td id="feature-keyboard-events">
										<code>keyboard-events</code>
									</td>
									<td>The device supports keyboard events, and the Reading System passes keyboard
										events to the content.</td>
								</tr>
								<tr>
									<td id="feature-spine-scripting">
										<code>spine-scripting</code>
									</td>
									<td>Indicates whether the Reading System supports <a
											href="https://www.w3.org/TR/epub-33/#sec-scripted-spine">spine-level
											scripting</a> [<cite><a class="bibref" data-link-type="biblio"
												href="#bib-epub-33" title="EPUB 3.3">EPUB-33</a></cite>] (e.g., so a <a
											href="https://www.w3.org/TR/epub-33/#sec-scripted-container-constrained"
											>container-constrained script</a> [<cite><a class="bibref"
												data-link-type="biblio" href="#bib-epub-33" title="EPUB 3.3"
											>EPUB-33</a></cite>] can determine whether any actions that depend on
										scripting support in a <a
											href="https://www.w3.org/TR/epub-33/#dfn-top-level-content-document"
											>Top-level Content Document</a> have any chance of success before attempting
										them).</td>
								</tr>
							</tbody>
						</table>

						<p>Additional features <em class="rfc2119">MAY</em> be added by Reading System developers, but
							future versions of this specification might append to this list in ways that could conflict
							or be incompatible with any such custom additions.</p>
					</section>
				</section>
			</section>
		</section>
		<section id="change-log">
			<h2 id="b-change-log"><bdi class="secno">B. </bdi>Change Log<a class="self-link" aria-label="Â§"
					href="#change-log"></a></h2>

			<p>Note that this change log only identifies substantive changes â€” those that affect the conformance of
				Reading Systems or are similarly noteworthy.</p>

			<p>For a list of all issues addressed during the revision, refer to the <a
					href="https://github.com/w3c/epub-specs/issues?q=is%3Aissue+is%3Aclosed+label%3AEPUB33+label%3ASpec-RS+"
					>Working Group's issue tracker</a>.</p>

			<section id="changes-latest">
				<h3 id="b-1-substantive-changes-since-the-previous-working-draft"><bdi class="secno">B.1
					</bdi>Substantive Changes since the <a href="https://www.w3.org/TR/2021/WD-epub-rs-33-20210224/"
						>Previous Working Draft</a><a class="self-link" aria-label="Â§" href="#changes-latest"></a></h3>



				<ul>
					<li>01-Apr-2021: Added section clarifying how absolute IRIs are created from relative in the Package
						Document. See <a href="https://github.com/w3c/epub-specs/pull/1468">pull request 1468</a>.</li>
					<li>30-Mar-2021: Restructured the document to remove the rendundant conformance sections and
						requirements that were only used as locators when this specification was combined with the
						authoring requirements. See <a href="https://github.com/w3c/epub-specs/pull/1597">pull request
							1597</a> and <a href="https://github.com/w3c/epub-specs/pull/1609">pull request
						1609</a>.</li>
					<li>23-Mar-2021: Added requirement to prevent top-level navigation to data URLs. See <a
							href="https://github.com/w3c/epub-specs/issues/1564">issue 1564</a>.</li>
					<li>23-Mar-2021: Changed "suppressing" of non-linear content to "skipping" when traversing the spine
						to clarify that the intention is not to remove all access to such content. See <a
							href="https://github.com/w3c/epub-specs/issues/1480">issue 1480</a>.</li>
					<li>10-Mar-2021: Changed restriction against using resources not listed in the Package Document to a
						recommendation not to use. See <a href="https://github.com/w3c/epub-specs/issues/810">issue
							810</a>.</li>
					<li>09-March-2021: the statement on unique identifiers has been set to non-normative, following the
						discussion and <a
							href="https://www.w3.org/publishing/groups/epub-wg/Meetings/Minutes/2020-12-18-epub#resolution2"
							>Working Group resolution</a>. See <a href="https://github.com/w3c/epub-specs/issues/1310"
							>issue 1310</a>. </li>
					<li>8-Mar-2021: Remove unnecessary requirement to assume default value for rendering metadata. See
							<a href="https://github.com/w3c/epub-specs/issues/1313">issue 1313</a>.</li>
					<li>5-Mar-2021: Added requirement for reading systems to collapse whitespace in DCMES and meta
						elements per the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra"
								title="Infra Standard">Infra</a></cite>] specification definition. See <a
							href="https://github.com/w3c/epub-specs/issues/1295">issue 1295</a>.</li>
					<li>26-Feb-2021: Clarified the trimming of leading and trailing whitespace is to be done in
						accordance with the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra"
								title="Infra Standard">Infra</a></cite>] specification definition, and removed the
						exception that <code>meta</code> element properties may define their own whitespace handling
						rules. See <a href="https://github.com/w3c/epub-specs/issues/1295">issue 1295</a>.</li>
					<li>19-Feb-2021: Updated the <a href="#sec-scripted-content-security">scripting security
							considerations</a> so that the text recommends assigning a unique origin to each EPUB
						Publication for security rather than domain isolation at the Content Document level. See <a
							href="https://github.com/w3c/epub-specs/issues/1156">issue 1156</a>.</li>
				</ul>
			</section>

			<section id="changes-older">
				<h3 id="b-2-substantive-changes-since-epub-3-2"><bdi class="secno">B.2 </bdi>Substantive Changes since
						<a href="https://www.w3.org/publishing/epub/epub-spec.html">EPUB 3.2</a><a class="self-link"
						aria-label="Â§" href="#changes-older"></a></h3>
				<ul>
					<li>15-Feb-2021: Clarified the requirements for presenting nav elements in the navigation document.
						The toc nav is now the only required element, the page-list nav is recommended when present, and
						all others are optional. See <a href="https://github.com/w3c/epub-specs/issues/975">issue
							975</a>.</li>
					<li>10-Feb-2021: A very first draft for <a href="#sec-security-privacy" class="sec-ref">Â§&#160;<bdi
								class="secno">15. </bdi>Security and Privacy</a> has been added.</li>
					<li>4-Feb-2021: Added explicit requirement that reading systems not use the language in
							<code>dc:language</code> elements as the language of resources.</li>
					<li>2-Feb-2021: Added base direction determination rules for the <code>dir</code> attribute
						accounting for the addition of the new <code>auto</code> value. See <a
							href="https://github.com/w3c/epub-specs/issues/1491">issue 1491</a>.</li>
					<li>2-Feb-2021: Noted that language information in the new <code>hreflang</code> attribute on
							<code>link</code> elements is not authoritative. See <a
							href="https://github.com/w3c/epub-specs/issues/1488">issue 1488</a>.</li>
					<li>24-Dec-2020: The creation of a <a
							href="https://www.w3.org/publishing/epub32/epub-packages.html#sec-metadata-elem-identifiers-pid"
							>release identifier</a> [<cite><a class="bibref" data-link-type="biblio"
								href="#bib-epubpackages-32" title="EPUB Packages 3.2">EPUBPackages-32</a></cite>] is no
						longer defined. See <a href="https://github.com/w3c/epub-specs/issues/1440">issue 1440</a>.</li>
					<li>6-Nov-2020: Reading systems are now required to <a href="#confreq-rs-xml-extid">not resolve
							external identifiers</a> in doctype declarations. See <a
							href="https://github.com/w3c/epub-specs/issues/1338">issue 1338</a>.</li>
					<li>5-Nov-2020: Generalized the restriction on <a href="#sec-xhtml-custom-attributes">custom
							attribute namespace URIs</a> to exclude all of idpf.org and w3.org. See <a
							href="https://github.com/w3c/epub-specs/issues/1388">issue 1388</a>.</li>
					<li>30-Sept-2020: The structure of the EPUB core specifications has been simplified to ease
						understanding and access to information. This specification now consolidates the reading system
						requirements from the EPUB 3.2 specification together with the Packages, Content Documents, OCF
						and Media Overlays specifications. The EPUB 3.3 core specification now focuses only on authoring
						requirements.</li>
				</ul>
			</section>
		</section>
		<section id="ack" class="appendix informative">
			<h2 id="c-acknowledgements"><bdi class="secno">C. </bdi>Acknowledgements<a class="self-link" aria-label="Â§"
					href="#ack"></a></h2>
			<p><em>This section is non-normative.</em></p>
			<p>The editors would like to thank the members of the EPUB 3 Working Group for their contributions to this
				specification:</p>

			<ul class="ack">
				<li>Will AWAD (Newgen Knowledgeworks)</li>
				<li>Sofia Bautista (Legible Media Inc. )</li>
				<li>Laura Brady (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Expert)</li>
				<li>Leah Brochu (National Network for Equitable Library Service)</li>
				<li>Matthew C. Chan (House of Anansi Press)</li>
				<li>Yu-Wei Chang (Taiwan Digital Publishing Forum)</li>
				<li>Simon Collinson (Rakuten, Inc.)</li>
				<li>Garth Conboy (Google LLC)</li>
				<li>Juan Corona (Legible Media Inc. )</li>
				<li>Romain Deltour (DAISY Consortium)</li>
				<li>Marisa DeMeglio (DAISY Consortium)</li>
				<li>Brady Duga (Google LLC)</li>
				<li>Reinaldo Ferraz (NIC.br - Brazilian Network Information Center)</li>
				<li>Teenya Franklin (Pearson plc)</li>
				<li>Hadrien Gardeur (EDRLab)</li>
				<li>Tetsu Hoshino (Kodansha, Publishers, Ltd.)</li>
				<li>Norikazu Ishizu (Kadokawa Corporation)</li>
				<li>Norihito IYENAGA (Kodansha, Publishers, Ltd.)</li>
				<li>Ken Jones (Circular Software)</li>
				<li>Deborah Kaplan (<abbr title="World Wide Web Consortium">W3C</abbr> Invited Expert)</li>
				<li>Bill Kasdorf (Book Industry Study Group)</li>
				<li>George Kerscher (DAISY Consortium)</li>
				<li>Masakazu Kitahara (Voyager Japan, Inc.)</li>
				<li>Toshiaki Koike (Voyager Japan, Inc.)</li>
				<li>Ryo Kuroda (ACCESS CO., LTD.)</li>
				<li>Charles LaPierre (Benetech)</li>
				<li>Laurent Le Meur (EDRLab)</li>
				<li>Farrah Little (National Network for Equitable Library Service)</li>
				<li>Juliette McShane (Access2online Inc.)</li>
				<li>Cristina Mussinelli (Fondazione LIA)</li>
				<li>Yoichiro Nagao (Kodansha, Publishers, Ltd.)</li>
				<li>Yoshinori Ohmura (SHUEISHA Inc.)</li>
				<li>Gregorio Pellegrino (Fondazione LIA)</li>
				<li>Wendy Reid (Rakuten, Inc., chair)</li>
				<li>Leonard Rosenthol (Adobe)</li>
				<li>Shinobu Sato (Kadokawa Corporation)</li>
				<li>Ben Schroeter (Pearson plc)</li>
				<li>Daihei Shiohama (MEDIA DO Co., Ltd.)</li>
				<li>Tzviya Siegman (Wiley)</li>
				<li>Avneesh Singh (DAISY Consortium)</li>
				<li>MOTOI SUZUKI (SHUEISHA Inc.)</li>
				<li>Yutaka Suzuki (Kadokawa Corporation)</li>
				<li>Kyrce Swenson (Pearson plc)</li>
				<li>Shinya Takami (Kadokawa Corporation, chair)</li>
				<li>Mateus Teixeira (W. W. Norton &amp; Company)</li>
				<li>Yukio Tomikura (Kodansha, Publishers, Ltd.)</li>
				<li>Daniel Weck (DAISY Consortium)</li>
				<li>Zheng Xu (Rakuten, Inc.)</li>
				<li>Fuqiao Xue (<abbr title="World Wide Web Consortium">W3C</abbr>)</li>
				<li>Evan Yamanishi (W. W. Norton &amp; Company)</li>
				<li>Osamu Yoshiba (Kodansha, Publishers, Ltd.)</li>
				<li>Junichi Yoshii (Kodansha, Publishers, Ltd.)</li>
				<li>Naomi Yoshizawa (<abbr title="World Wide Web Consortium">W3C</abbr>)</li>
			</ul>

		</section>
		<section id="references" class="appendix">
			<h2 id="d-references"><bdi class="secno">D. </bdi>References<a class="self-link" aria-label="Â§"
					href="#references"></a></h2>
			<section id="normative-references">
				<h3 id="d-1-normative-references"><bdi class="secno">D.1 </bdi>Normative references<a class="self-link"
						aria-label="Â§" href="#normative-references"></a></h3>
				<dl class="bibliography">
					<dt id="bib-bcp47">[BCP47]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc5646"><cite>Tags for Identifying
								Languages</cite></a>. A. Phillips, Ed.; M. Davis, Ed.. IETF. September 2009. Best
						Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc5646"
							>https://datatracker.ietf.org/doc/html/rfc5646</a></dd>
					<dt id="bib-bidi">[BIDI]</dt>
					<dd><a href="https://www.unicode.org/reports/tr9/tr9-42.html"><cite>Unicode Bidirectional
								Algorithm</cite></a>. Mark Davis; Aharon Lanin; Andrew Glass. Unicode Consortium. 12
						February 2020. Unicode Standard Annex #9. URL: <a
							href="https://www.unicode.org/reports/tr9/tr9-42.html"
							>https://www.unicode.org/reports/tr9/tr9-42.html</a></dd>
					<dt id="bib-css3-speech">[CSS3-Speech]</dt>
					<dd><a href="https://www.w3.org/TR/css-speech-1/"><cite>CSS Speech Module</cite></a>. Daniel Weck.
						W3C. 10 March 2020. W3C Candidate Recommendation. URL: <a
							href="https://www.w3.org/TR/css-speech-1/">https://www.w3.org/TR/css-speech-1/</a></dd>
					<dt id="bib-csssnapshot">[CSSSnapshot]</dt>
					<dd><a href="https://www.w3.org/TR/CSS/"><cite>CSS Snapshot</cite></a>. URL: <a
							href="https://www.w3.org/TR/CSS/">https://www.w3.org/TR/CSS/</a></dd>
					<dt id="bib-dc11">[DC11]</dt>
					<dd><a href="http://dublincore.org/documents/dces/"><cite>Dublin Core Metadata Element Set, Version
								1.1</cite></a>. DCMI. 14 June 2012. DCMI Recommendation. URL: <a
							href="http://dublincore.org/documents/dces/">http://dublincore.org/documents/dces/</a></dd>
					<dt id="bib-dom-level-2-style">[DOM-Level-2-Style]</dt>
					<dd><a href="https://www.w3.org/TR/DOM-Level-2-Style/"><cite>Document Object Model (DOM) Level 2
								Style Specification</cite></a>. Chris Wilson; Philippe Le HÃ©garet. W3C. 3 November 2020.
						W3C Recommendation. URL: <a href="https://www.w3.org/TR/DOM-Level-2-Style/"
							>https://www.w3.org/TR/DOM-Level-2-Style/</a></dd>
					<dt id="bib-epub-33">[EPUB-33]</dt>
					<dd><a href="https://www.w3.org/TR/epub-33/"><cite>EPUB 3.3</cite></a>. Matt Garrish; Ivan Herman;
						Dave Cramer; Garth Conboy; Marisa DeMeglio; Daniel Weck. W3C. 24 February 2021. W3C Working
						Draft. URL: <a href="https://www.w3.org/TR/epub-33/">https://www.w3.org/TR/epub-33/</a></dd>
					<dt id="bib-epub-a11y-10">[EPUB-A11Y-10]</dt>
					<dd><a href="http://idpf.org/epub/a11y/accessibility-20170105.html"><cite>EPUB Accessibility
								1.0</cite></a>. Matt Garrish; George Kerscher; Charles LaPierre; Avneesh Singh. IDPF. 05
						January 2017. URL: <a href="http://idpf.org/epub/a11y/accessibility-20170105.html"
							>http://idpf.org/epub/a11y/accessibility-20170105.html</a></dd>
					<dt id="bib-epubcontentdocs-301">[EPUBContentDocs-301]</dt>
					<dd><a href="http://idpf.org/epub/301/spec/epub-contentdocs-20140626.html"><cite>EPUB Content
								Documents 3.0.1</cite></a>. Markus Gylling; William McCoy; Elika J. Etimad; Matt
						Garrish. IDPF. 26 June 2014. URL: <a
							href="http://idpf.org/epub/301/spec/epub-contentdocs-20140626.html"
							>http://idpf.org/epub/301/spec/epub-contentdocs-20140626.html</a></dd>
					<dt id="bib-epubpackages-32">[EPUBPackages-32]</dt>
					<dd><a href="https://www.w3.org/publishing/epub32/epub-packages.html"><cite>EPUB Packages
							3.2</cite></a>. Matt Garrish; Dave Cramer. EPUB 3 Community Group. 08 May 2019. URL: <a
							href="https://www.w3.org/publishing/epub32/epub-packages.html"
							>https://www.w3.org/publishing/epub32/epub-packages.html</a></dd>
					<dt id="bib-html">[HTML]</dt>
					<dd><a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van
						Kesteren; Domenic Denicola; Ian Hickson; Philip JÃ¤genstedt; Simon Pieters. WHATWG. Living
						Standard. URL: <a href="https://html.spec.whatwg.org/multipage/"
							>https://html.spec.whatwg.org/multipage/</a></dd>
					<dt id="bib-infra">[Infra]</dt>
					<dd><a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren;
						Domenic Denicola. WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/"
							>https://infra.spec.whatwg.org/</a></dd>
					<dt id="bib-ipa">[IPA]</dt>
					<dd><a href="https://www.internationalphoneticassociation.org/content/full-ipa-chart"><cite>IPA
								Chart</cite></a>. International Phonetic Association. 2005. URL: <a
							href="https://www.internationalphoneticassociation.org/content/full-ipa-chart"
							>https://www.internationalphoneticassociation.org/content/full-ipa-chart</a></dd>
					<dt id="bib-mathml3">[MATHML3]</dt>
					<dd><a href="https://www.w3.org/TR/MathML3/"><cite>Mathematical Markup Language (MathML) Version 3.0
								2nd Edition</cite></a>. David Carlisle; Patrick D F Ion; Robert R Miner. W3C. 10 April
						2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/MathML3/"
							>https://www.w3.org/TR/MathML3/</a></dd>
					<dt id="bib-microdata">[Microdata]</dt>
					<dd><a href="https://www.w3.org/TR/microdata/"><cite>HTML Microdata</cite></a>. Charles 'chaals'
						(McCathie) Nevile; Dan Brickley; Ian Hickson. W3C. 28 January 2021. W3C Note. URL: <a
							href="https://www.w3.org/TR/microdata/">https://www.w3.org/TR/microdata/</a></dd>
					<dt id="bib-opentype">[OpenType]</dt>
					<dd><a href="http://www.microsoft.com/typography/otspec/default.htm"><cite>OpenType
								specification</cite></a>. Microsoft. URL: <a
							href="http://www.microsoft.com/typography/otspec/default.htm"
							>http://www.microsoft.com/typography/otspec/default.htm</a></dd>
					<dt id="bib-pronunciation-lexicon">[PRONUNCIATION-LEXICON]</dt>
					<dd><a href="https://www.w3.org/TR/pronunciation-lexicon/"><cite>Pronunciation Lexicon Specification
								(PLS) Version 1.0</cite></a>. Paolo Baggia. W3C. 14 October 2008. W3C Recommendation.
						URL: <a href="https://www.w3.org/TR/pronunciation-lexicon/"
							>https://www.w3.org/TR/pronunciation-lexicon/</a></dd>
					<dt id="bib-rdfa-core">[RDFA-CORE]</dt>
					<dd><a href="https://www.w3.org/TR/rdfa-core/"><cite>RDFa Core 1.1 - Third Edition</cite></a>. Ben
						Adida; Mark Birbeck; Shane McCarron; Ivan Herman et al. W3C. 17 March 2015. W3C Recommendation.
						URL: <a href="https://www.w3.org/TR/rdfa-core/">https://www.w3.org/TR/rdfa-core/</a></dd>
					<dt id="bib-rfc2119">[RFC2119]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
								Indicate Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current
						Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119"
							>https://datatracker.ietf.org/doc/html/rfc2119</a></dd>
					<dt id="bib-rfc2397">[RFC2397]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc2397"><cite>The "data" URL scheme</cite></a>.
						L. Masinter. IETF. August 1998. Proposed Standard. URL: <a
							href="https://datatracker.ietf.org/doc/html/rfc2397"
							>https://datatracker.ietf.org/doc/html/rfc2397</a></dd>
					<dt id="bib-rfc3986">[RFC3986]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc3986"><cite>Uniform Resource Identifier (URI):
								Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter. IETF. January 2005.
						Internet Standard. URL: <a href="https://datatracker.ietf.org/doc/html/rfc3986"
							>https://datatracker.ietf.org/doc/html/rfc3986</a></dd>
					<dt id="bib-rfc3987">[RFC3987]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc3987"><cite>Internationalized Resource
								Identifiers (IRIs)</cite></a>. M. Duerst; M. Suignard. IETF. January 2005. Proposed
						Standard. URL: <a href="https://datatracker.ietf.org/doc/html/rfc3987"
							>https://datatracker.ietf.org/doc/html/rfc3987</a></dd>
					<dt id="bib-rfc8174">[RFC8174]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc8174"><cite>Ambiguity of Uppercase vs
								Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current
						Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc8174"
							>https://datatracker.ietf.org/doc/html/rfc8174</a></dd>
					<dt id="bib-smil3">[SMIL3]</dt>
					<dd><a href="https://www.w3.org/TR/SMIL3/"><cite>Synchronized Multimedia Integration Language (SMIL
								3.0)</cite></a>. Dick Bulterman. W3C. 1 December 2008. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/SMIL3/">https://www.w3.org/TR/SMIL3/</a></dd>
					<dt id="bib-ssml">[SSML]</dt>
					<dd><a href="https://www.w3.org/TR/speech-synthesis11/"><cite>Speech Synthesis Markup Language
								(SSML) Version 1.1</cite></a>. Daniel Burnett; Zhi Wei Shuang. W3C. 7 September 2010.
						W3C Recommendation. URL: <a href="https://www.w3.org/TR/speech-synthesis11/"
							>https://www.w3.org/TR/speech-synthesis11/</a></dd>
					<dt id="bib-svg">[SVG]</dt>
					<dd><a href="https://www.w3.org/TR/SVG/"><cite>SVG</cite></a>. W3C. URL: <a
							href="https://www.w3.org/TR/SVG/">https://www.w3.org/TR/SVG/</a></dd>
					<dt id="bib-truetype">[TrueType]</dt>
					<dd><a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/"><cite>Apple TrueType
								Reference Manual</cite></a>. Apple. 2002. URL: <a
							href="https://developer.apple.com/fonts/TrueType-Reference-Manual/"
							>https://developer.apple.com/fonts/TrueType-Reference-Manual/</a></dd>
					<dt id="bib-url">[URL]</dt>
					<dd><a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren. WHATWG.
						Living Standard. URL: <a href="https://url.spec.whatwg.org/"
						>https://url.spec.whatwg.org/</a></dd>
					<dt id="bib-w3cprocess">[W3CProcess]</dt>
					<dd><a href="https://www.w3.org/Consortium/Process/"><cite>W3C Process Document</cite></a>. URL: <a
							href="https://www.w3.org/Consortium/Process/"
						>https://www.w3.org/Consortium/Process/</a></dd>
					<dt id="bib-wai-aria">[WAI-ARIA]</dt>
					<dd><a href="https://www.w3.org/TR/wai-aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA)
								1.0</cite></a>. James Craig; Michael Cooper et al. W3C. 20 March 2014. W3C
						Recommendation. URL: <a href="https://www.w3.org/TR/wai-aria/"
							>https://www.w3.org/TR/wai-aria/</a></dd>
					<dt id="bib-webidl">[WEBIDL]</dt>
					<dd><a href="https://heycam.github.io/webidl/"><cite>Web IDL</cite></a>. Boris Zbarsky. W3C. 15
						December 2016. W3C Editor's Draft. URL: <a href="https://heycam.github.io/webidl/"
							>https://heycam.github.io/webidl/</a></dd>
					<dt id="bib-woff">[WOFF]</dt>
					<dd><a href="https://www.w3.org/TR/WOFF/"><cite>WOFF File Format 1.0</cite></a>. Jonathan Kew; Tal
						Leming; Erik van Blokland. W3C. 13 December 2012. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/WOFF/">https://www.w3.org/TR/WOFF/</a></dd>
					<dt id="bib-woff2">[WOFF2]</dt>
					<dd><a href="https://www.w3.org/TR/WOFF2/"><cite>WOFF File Format 2.0</cite></a>. Vladimir
						Levantovsky; Raph Levien. W3C. 1 March 2018. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/WOFF2/">https://www.w3.org/TR/WOFF2/</a></dd>
					<dt id="bib-xml">[XML]</dt>
					<dd><a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth
								Edition)</cite></a>. Tim Bray; Jean Paoli; Michael Sperberg-McQueen; Eve Maler; FranÃ§ois
						Yergeau et al. W3C. 26 November 2008. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a></dd>
					<dt id="bib-xml-names">[XML-NAMES]</dt>
					<dd><a href="https://www.w3.org/TR/xml-names/"><cite>Namespaces in XML 1.0 (Third
							Edition)</cite></a>. Tim Bray; Dave Hollander; Andrew Layman; Richard Tobin; Henry Thompson
						et al. W3C. 8 December 2009. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml-names/"
							>https://www.w3.org/TR/xml-names/</a></dd>
					<dt id="bib-xmlbase">[XMLBase]</dt>
					<dd><a href="https://www.w3.org/TR/xmlbase/"><cite>XML Base (Second Edition)</cite></a>. Jonathan
						Marsh; Richard Tobin. W3C. 28 January 2009. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/xmlbase/">https://www.w3.org/TR/xmlbase/</a></dd>
					<dt id="bib-zip">[ZIP]</dt>
					<dd><a href="https://www.pkware.com/documents/casestudies/APPNOTE.TXT"><cite>.ZIP File Format
								Specification</cite></a>. 1 September 2012. Final. URL: <a
							href="https://www.pkware.com/documents/casestudies/APPNOTE.TXT"
							>https://www.pkware.com/documents/casestudies/APPNOTE.TXT</a></dd>
				</dl>
			</section>
			<section id="informative-references">
				<h3 id="d-2-informative-references"><bdi class="secno">D.2 </bdi>Informative references<a
						class="self-link" aria-label="Â§" href="#informative-references"></a></h3>
				<dl class="bibliography">
					<dt id="bib-attributeextensions">[AttributeExtensions]</dt>
					<dd><a href="http://www.idpf.org/epub/extensions/attributes"><cite>EPUB Custom Attribute Extensions
								for Content Documents</cite></a>. URL: <a
							href="http://www.idpf.org/epub/extensions/attributes"
							>http://www.idpf.org/epub/extensions/attributes</a></dd>
					<dt id="bib-css2">[CSS2]</dt>
					<dd><a href="https://www.w3.org/TR/CSS2/"><cite>CSS 2</cite></a>. W3C. W3C Recommendation. URL: <a
							href="https://www.w3.org/TR/CSS2/">https://www.w3.org/TR/CSS2/</a></dd>
					<dt id="bib-h264">[H264]</dt>
					<dd><a href="https://www.itu.int/ITU-T/recommendations/rec.aspx?rec=13189"><cite>H.264 : Advanced
								video coding for generic audiovisual services</cite></a>. 2017-04-13. URL: <a
							href="https://www.itu.int/ITU-T/recommendations/rec.aspx?rec=13189"
							>https://www.itu.int/ITU-T/recommendations/rec.aspx?rec=13189</a></dd>
					<dt id="bib-rfc">[RFC]</dt>
					<dd><a href="https://www.ietf.org/standards/rfcs/"><cite>Request for Comments</cite></a>. URL: <a
							href="https://www.ietf.org/standards/rfcs/">https://www.ietf.org/standards/rfcs/</a></dd>
					<dt id="bib-rfc6386">[RFC6386]</dt>
					<dd><a href="https://datatracker.ietf.org/doc/html/rfc6386"><cite>VP8 Data Format and Decoding
								Guide</cite></a>. J. Bankoski; J. Koleszar; L. Quillio; J. Salonen; P. Wilkins; Y. Xu.
						IETF. November 2011. Informational. URL: <a href="https://datatracker.ietf.org/doc/html/rfc6386"
							>https://datatracker.ietf.org/doc/html/rfc6386</a></dd>
					<dt id="bib-webworkers">[WebWorkers]</dt>
					<dd><a href="https://www.w3.org/TR/workers/"><cite>Web Workers</cite></a>. Ian Hickson. W3C. 28
						January 2021. W3C Note. URL: <a href="https://www.w3.org/TR/workers/"
							>https://www.w3.org/TR/workers/</a></dd>
				</dl>
			</section>
		</section><p role="navigation" id="back-to-top">
			<a href="#title"><abbr title="Back to Top">â†‘</abbr></a>
		</p><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-epubreadingsystem">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dfn-epubreadingsystem">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>
					<a href="#ref-for-dfn-epubreadingsystem-1">A.1 Interface Definition</a>
				</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigator">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-navigator">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>
					<a href="#ref-for-dom-navigator-1">A.1 Interface Definition</a>
				</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-epubreadingsystem">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-epubreadingsystem">Permalink</a>
				<span class="marker dfn-exported" title="Definition can be referenced by other specifications"
					>exported</span>
			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-epubreadingsystem-name">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-epubreadingsystem-name">Permalink</a>
				<span class="marker dfn-exported" title="Definition can be referenced by other specifications"
					>exported</span>
			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-epubreadingsystem-version">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-epubreadingsystem-version">Permalink</a>
				<span class="marker dfn-exported" title="Definition can be referenced by other specifications"
					>exported</span>
			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-epubreadingsystem-hasfeature">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-epubreadingsystem-hasfeature">Permalink</a>
				<span class="marker dfn-exported" title="Definition can be referenced by other specifications"
					>exported</span>
			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigator-epubreadingsystem">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dom-navigator-epubreadingsystem">Permalink</a>
				<span class="marker dfn-exported" title="Definition can be referenced by other specifications"
					>exported</span>
				<a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1357718267">IDL</a>
			</div>
			<b>Referenced in:</b>
			<ul>
				<li>
					<a href="#ref-for-dom-navigator-epubreadingsystem-1">A.1 Interface Definition</a>
				</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-name">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dfn-name">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-version">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dfn-version">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-layoutstyle">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dfn-layoutstyle">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-hasfeature">
			<span class="caret"></span>
			<div>
				<a class="self-link" href="#dfn-hasfeature">Permalink</a>

			</div>
			<b>Referenced in:</b>
			<ul>
				<li>Not referenced in this document.</li>
			</ul>
		</aside><script id="respec-dfn-panel">
    	// <![CDATA[
    	(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(dfnPanel);
} else {
  dfnPanel();
}

function dfnPanel() {
  /** @type {HTMLElement} */
  let panel;
  document.body.addEventListener("click", event => {
    if (!(event.target instanceof HTMLElement)) return;

    /** @type {HTMLElement} */
    const el = event.target;

    const action = deriveAction(el);
    switch (action) {
      case "show": {
        if (panel) hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = el.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        displayPanel(dfn, panel, { x: event.clientX, y: event.clientY });
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        break;
      }
    }
  });
}

/** @param {HTMLElement} clickTarget */
function deriveAction(clickTarget) {
  const hitALink = !!clickTarget.closest("a");
  if (clickTarget.closest("dfn, .index-term")) {
    return hitALink ? null : "show";
  }
  if (clickTarget.closest(".dfn-panel")) {
    if (hitALink) {
      const clickedSelfLink = clickTarget.classList.contains("self-link");
      return clickedSelfLink ? "hide" : "dock";
    }
    const panel = clickTarget.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : null;
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return null;
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()
			// ]]>
	    </script>
		<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
	</body>
</html>
