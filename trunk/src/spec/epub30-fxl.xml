<?xml version="1.0" encoding="UTF-8"?>
<?xml-model xlink:href="../../util/docbook/schema/docbookspec.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model xlink:href="../../util/docbook/schema/docbookspec.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model xlink:href="../../util/docbook/schema/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:epub="http://www.idpf.org/2011/epub" xmlns:xi="http://www.w3.org/2001/XInclude"
	version="5.1">

	<title>EPUB 3 Fixed-Layout Documents</title>

	<info>
		<releaseinfo>Draft Specification</releaseinfo>
		<pubdate>00 Month 2013</pubdate>
		<printhistory>
			<formalpara>
				<title>This version</title>
				<para>
					<link xlink:href="http://www.idpf.org/epub/30/spec/epub30-fxl-20130000.html"/>
				</para>
			</formalpara>
			<formalpara>
				<title>Latest version</title>
				<para>
					<link xlink:href="http://www.idpf.org/epub/30/spec/epub30-fxl.html"/>
				</para>
			</formalpara>
			<formalpara>
				<title>Previous version</title>
				<para>
					<link xlink:href="http://www.idpf.org/epub/fxl/epub-fxl-20120313.html"/>
				</para>
			</formalpara>
		</printhistory>
		<releaseinfo role="errata"> Please refer to the <link xlink:href="./altss-tags-errata/"
			>errata</link> for this document, which may include some normative corrections. </releaseinfo>
		<releaseinfo role="diff"> A diff of changes from the previous draft is available at <link
				xlink:href="http://code.google.com/p/epub-revision/source/diff">this link</link>. </releaseinfo>
		<copyright>
			<year>2013</year>
			<holder>International Digital Publishing Forum™</holder>
		</copyright>
		<xi:include href="./share/legalnotice.xml"/>
		<authorgroup role="current">
			<editor>
				<personname>Markus Gylling</personname>
				<affiliation>
					<org>
						<orgname>IDPF</orgname>
					</org>
				</affiliation>
			</editor>
			<editor>
				<personname>Dave Cramer</personname>
				<affiliation>
					<org>
						<orgname>Hachette Book Group</orgname>
					</org>
				</affiliation>
			</editor>
		</authorgroup>
	</info>

	<chapter xml:id="fxl-overview" conformance="informative">
		<title>Purpose and Scope</title>
		<para>EPUB® documents, unlike print books or PDF files, are designed to change. The content
			flows, or reflows, to fit the screen and to fit the needs of the reader. The EPUB 3.0
			Specification says that “content presentation should adapt to the user rather than the
			user having to adapt to a particular representation of content.”</para>
		<para>But this principle doesn’t work for all types of documents. Sometimes content and
			design are so intertwined they cannot be separated. Any change in appearance risks
			changing the meaning, or losing all meaning. <emphasis>Fixed-layout documents</emphasis>
			give content creators greater control over presentation, when a reflowable EPUB is not
			suitable for the content.</para>
		<para>This document, EPUB 3 Fixed-Layout Documents, defines a set of metadata properties to
			allow declarative expression of intended rendering behaviors of fixed-layout documents
			in the context of EPUB 3. It also defines mechanisms to express the intended rendering
			dimensions of fixed-layout XHTML and SVG <link xlink:href="#refContentDocs30"
				>[ContentDocs30]</link> content, as well as bitmap images.</para>
		<note xml:id="note-mechanisms">
			<para>EPUB 3 affords multiple mechanisms for representing fixed-layout content in EPUB 3
				documents. When fixed-layout content is necessary, the author's choice of mechanism
				will depend on many factors including desired degree of precision, file size,
				accessibility, etc. This document does not attempt to dictate the author's choice of
				mechanism.</para>
		</note>
	</chapter>
	
	<chapter xml:id="fxl-property-defs">
		<title>Property Definitions</title>
		<section xml:id="fxl-property-layout">
			<title>The <literal>rendition:layout</literal> property</title>
			<informaltable xml:id="rdfa-vocab-fxl">
				<info role="rdfa-vocab-info">
					<annotation>
						<para>Fixed Layout properties</para>
					</annotation>
				</info>
				<tgroup cols="2" xml:id="layout" xreflabel="rendition:layout property">
					<colspec colname="c1"/>
					<colspec colname="c2"/>
					<spanspec spanname="s1" namest="c1" nameend="c2"/>
					<tbody>
						<row>
							<entry spanname="s1" role="rdfa-property">
								<literal>rendition:layout</literal>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Description:</entry>
							<entry role="rdfa-property-desc">
								<para>Specifies whether the given Publication or spine item is
									reflowable or pre-paginated.</para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Allowed value(s):</entry>
							<entry>
								<para><literal>reflowable</literal> |
										<literal>pre-paginated</literal></para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Usage</entry>
							<entry>
								<para>Package Document <code>meta</code> element</para>
								<para>Package Document <code>itemref</code> element</para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Initial</entry>
							<entry>
								<para>In <code>meta</code>: reflowable</para>
								<para>In <code>itemref</code>: inherited from
									<code>meta</code></para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Cardinality:</entry>
							<entry role="rdfa-cardinality">
								<para>In <code>metadata</code>: zero or one</para>
								<para>In <code>itemref</code>: zero or one</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<section xml:id="fxl-property-layout-usage">
				<title>Usage</title>
				<para xml:id="property-layout-global">When the <literal>rendition:layout</literal>
					property is specified on the Package Document <code>meta</code> element, it
					indicates that the paginated or reflowable layout style (refer to <link
						xlink:href="#property-layout-values">Allowed values</link> below) applies
					globally for the given Publication (i.e. for all spine items). </para>
				<para>As ‘reflowable’ is the initial value of this property in the <code>meta</code>
					usage context, this value <literal role="rfc2119">must</literal> be assumed by Reading Systems as the global value
					if no <code>meta</code> element carrying this property occurs in the Package
					Document instance.</para>
				<para xml:id="property-layout-local">The <literal>rendition:layout</literal>
					property <literal role="rfc2119">may</literal> also be specified locally on the Package Document spine
						<code>itemref</code> element, and will, in this case, override the <link
						xlink:href="#property-layout-global">global value</link> for the given spine
					item. (Refer to <link xlink:href="#syntax-itemref">Specifying name-value pairs
						on the spine itemref element</link> for syntactical rules specific to local
					specification.) </para>
			</section>
			<section xml:id="fxl-property-layout-values">
				<title>Allowed values</title>
				<para>The following values are defined for use with the
						<literal>rendition:layout</literal> property:</para>
				<variablelist>
					<varlistentry>
						<term>reflowable</term>
						<listitem>
							<para>The given spine item is not pre-paginated. Reading Systems <literal role="rfc2119">may</literal>
								apply dynamic pagination when rendering this spine item.</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>pre-paginated</term>
						<listitem>
							<para> The given spine item is pre-paginated. Reading Systems <literal role="rfc2119">must</literal>
								produce exactly one page when rendering this spine item. (Refer to
									<link xlink:href="#dimensions">Content dimensions</link> for
								rules regarding dimensional declarations.) </para>
						</listitem>
					</varlistentry>
				</variablelist>
				<note xml:id="uaag">
					<para>Reading Systems typically restrict or deny the application of User or User
						Agent stylesheets to pre-paginated documents, since as a result of intrinsic
						properties of such documents, dynamic style changes are highly likely to
						have unintended consequences. Authors should take into account the negative
						impact on usability and accessibility that these restrictions have when
						choosing to use pre-paginated instead of reflowable content. Refer to <link
							xlink:href="http://www.w3.org/TR/UAAG20/#gl-text-config">Guideline 1.4 -
							Provide text configuration</link> of the W3C User Agent Accessibility
						Guidelines for related information.</para>
				</note>
			</section>
		</section>
		<section xml:id="fxl-property-orientation">
			<title>The <literal>rendition:orientation</literal> property</title>
			<informaltable xml:id="rdfa-vocab-fxl2">
				<info role="rdfa-vocab-info">
					<annotation>
						<para>Fixed Layout properties</para>
					</annotation>
				</info>
				<tgroup cols="2" xml:id="orientation" xreflabel="rendition:orientation property">
					<colspec colname="c1"/>
					<colspec colname="c2"/>
					<spanspec spanname="s1" namest="c1" nameend="c2"/>
					<tbody>
						<row>
							<entry spanname="s1" role="rdfa-property">
								<literal>rendition:orientation</literal>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Description:</entry>
							<entry role="rdfa-property-desc">
								<para>Specifies which orientation(s) the Author intends for the
									given Publication or spine item to be rendered in.</para>
							</entry>
						</row>

						<row>
							<entry role="rdfa-property-header">Value</entry>
							<entry>
								<para><literal>landscape</literal> | <literal>portrait</literal> |
										<literal>auto</literal></para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Usage</entry>
							<entry>
								<para>Package Document <code>meta</code> element</para>
								<para>Package Document <code>itemref</code> element</para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Initial</entry>
							<entry>
								<para>In <code>meta</code>: auto</para>
								<para>In <code>itemref</code>: inherited from <code>meta</code>
								</para>
							</entry>
						</row>

						<row>
							<entry role="rdfa-property-header">Cardinality</entry>
							<entry role="rdfa-property-cardinatlity">
								<para>In <code>metadata</code>: zero or one</para>
								<para>In <code>itemref</code>: zero or one</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<section xml:id="fxl-property-orientation-usage">
				<title>Usage</title>
				<para xml:id="property-orientation-global">When the <literal>rendition:orientation
					</literal> property is specified on the Package Document <code>meta</code>
					element, it indicates that the intended orientation applies globally for the
					given Publication (i.e. for all spine items). </para>
				<para>As ‘auto’ is the initial value of this property in the <code>meta</code> usage
					context, this value <literal role="rfc2119">must</literal> be assumed by Reading Systems as the global value if no
						<code>meta</code> element carrying this property occurs in the Package
					Document instance.</para>
				<para xml:id="property-orientation-local">The
						<literal>rendition:orientation</literal> property <literal role="rfc2119">may</literal> also be specified
					locally on the Package Document spine <code>itemref</code> element, and will, in
					this case, override the <link xlink:href="#property-orientation-global">global
						value</link> for the given spine item. (Refer to <link
						xlink:href="#syntax-itemref">Specifying name-value pairs on the spine
						itemref element</link> for syntactical rules specific to local
					specification.) </para>
			</section>
			<section xml:id="fxl-property-orientation-values">
				<title>Allowed values</title>
				<para>The following values are defined for use with the
						<literal>rendition:orientation</literal> property:</para>
				<variablelist>
					<varlistentry>
						<term>landscape</term>
						<listitem>
							<para>The given spine item is intended for landscape rendering. </para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>portrait</term>
						<listitem>
							<para> The given spine item is intended for portrait rendering. </para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>auto</term>
						<listitem>
							<para> The given spine item is not orientation constrained. </para>
						</listitem>
					</varlistentry>
				</variablelist>
				<para>Reading Systems that support multiple orientations <literal role="rfc2119">should</literal>, unless the given
					value is 'auto', convey the intended orientation to the user. The means by which
					the intent is conveyed is implementation-specific.</para>
			</section>
		</section>
		<section xml:id="fxl-property-spread">
			<title>The <literal>rendition:spread</literal> property</title>
			<informaltable xml:id="rdfa-vocab-fxl3">
				<info role="rdfa-vocab-info">
					<annotation>
						<para>Fixed Layout properties</para>
					</annotation>
				</info>
				<tgroup cols="2" xml:id="spread" xreflabel="rendition:spread property">
					<colspec colname="c1"/>
					<colspec colname="c2"/>
					<spanspec spanname="s1" namest="c1" nameend="c2"/>
					<tbody>
						<row>
							<entry spanname="s1" role="rdfa-property">
								<literal>rendition:spread</literal>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Description:</entry>
							<entry role="rdfa-property-desc">
								<para>Specifies the intended Reading System synthetic spread
									behavior for this Publication or spine item.</para>
							</entry>
						</row>

						<row>
							<entry role="rdfa-property-header">Value</entry>
							<entry>
								<para><literal>none</literal> | <literal>landscape</literal> |
										<literal>portrait</literal> | <literal>both</literal> |
										<literal>auto</literal></para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Usage</entry>
							<entry>
								<para>Package Document <code>meta</code> element</para>
								<para>Package Document <code>itemref</code> element</para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Initial</entry>
							<entry>
								<para>In <code>meta</code>: auto</para>
								<para>In <code>itemref</code>: inherited from <code>meta</code>
								</para>
							</entry>
						</row>

						<row>
							<entry role="rdfa-property-header">Cardinality</entry>
							<entry role="rdfa-cardinality">
								<para>In <code>metadata</code>: zero or one</para>
								<para>In <code>itemref</code>: zero or one</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<section xml:id="fxl-property-spread-usage">
				<title>Usage</title>
				<para xml:id="property-spread-global">When the <literal>rendition:spread</literal>
					property is specified on the Package Document <code>meta</code> element, it
					indicates that the intended synthetic spread behavior applies globally for the
					given Publication (i.e. for all spine items). </para>
				<para>As ‘auto’ is the initial value of this property in the <code>meta</code> usage
					context, this value <literal role="rfc2119">must</literal> be assumed by Reading Systems as the global value if no
						<code>meta</code> element carrying this property occurs in the Package
					Document instance.</para>
				<para xml:id="property-spread-local">The <literal>rendition:spread</literal>
					property <literal role="rfc2119">may</literal> also be specified locally on the Package Document spine
						<code>itemref</code> element, and will, in this case, override the <link
						xlink:href="#property-spread-global">global value</link> for the given spine
					item. (Refer to <link xlink:href="#syntax-itemref">Specifying name-value pairs
						on the spine itemref element</link> for syntactical rules.) </para>
			</section>
			<section xml:id="fxl-property-spread-values">
				<title>Allowed values</title>
				<para>The following values are defined for use with the
						<literal>rendition:spread</literal> property, where <emphasis>synthetic
						spread</emphasis> is defined as <emphasis xml:id="def-synthetic-spread">the
						rendering of two adjacent pages simultaneously on the device
						screen</emphasis>:</para>
				<variablelist>
					<varlistentry>
						<term>none</term>
						<listitem>
							<para> Reading Systems <literal role="rfc2119">must not</literal> incorporate this spine item in a
								synthetic spread. </para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>landscape</term>
						<listitem>
							<para> Reading Systems <literal role="rfc2119">should</literal> incorporate this spine item in a synthetic
								spread only when the device is in landscape orientation. </para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>portrait</term>
						<listitem>
							<para>Reading Systems <literal role="rfc2119">should</literal> incorporate this spine item in a synthetic
								spread only when the device is in portrait orientation.</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>both</term>
						<listitem>
							<para>Reading Systems <literal role="rfc2119">should</literal> incorporate this spine item in a synthetic
								spread regardless of device orientation.</para>
						</listitem>
					</varlistentry>
					<varlistentry>
						<term>auto</term>
						<listitem>
							<para>No explicit synthetic spread behavior is defined. Reading Systems
								may use synthetic spreads in specific or all device orientations as
								part of a display area utilization optimization process.</para>
						</listitem>
					</varlistentry>
				</variablelist>
				<para>When synthetic spreads are used in the context of XHTML and SVG Content
					Documents, the dimensions given via <link xlink:href="#dimensions-xhtml-svg"
						>viewport/viewBox metadata</link> represents the size of one page in the
					spread.</para>
				<note>
					<para>Refer to <link
							xlink:href="http://idpf.org/epub/30/spec/epub30-publications.html#sec-spine-elem"
							> 3.4.12 The spine Element</link> for information about declaration of
						global flow directionality using the
							<literal>page-progression-direction</literal> attribute and that of
						local page-progression-direction within content documents. </para>
					<para>Refer also to <link
							xlink:href="http://code.google.com/p/epub-revision/issues/detail?id=205"
							>Issue 205</link> for discussions on forthcoming specifications of
						precedence rules for the <literal>page-progression-direction</literal>
						attribute and the <literal>writing-mode</literal> and
							<literal>direction</literal> properties within XHTML Content
						Documents.</para>
				</note>
			</section>
		</section>
		<section xml:id="fxl-properties-page-spread">
			<title>The <literal>page-spread-*</literal> properties</title>
			<informaltable xml:id="rdfa-vocab-fxl4">
				<info role="rdfa-vocab-info">
					<annotation>
						<para>Fixed Layout properties</para>
					</annotation>
				</info>
				<tgroup cols="2" xml:id="page-spread-center"
					xreflabel="rendition:page-spread-center property">
					<colspec colname="c1"/>
					<colspec colname="c2"/>
					<spanspec spanname="s1" namest="c1" nameend="c2"/>
					<tbody>
						<row>
							<entry spanname="s1" role="rdfa-property">
								<literal>rendition:page-spread-center</literal>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Description:</entry>
							<entry role="rdfa-property-desc">
								<para>Specifies the forced placement of a Content Document in a
										<link xlink:href="#def-synthetic-spread">synthetic
										spread</link></para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Usage</entry>
							<entry>
								<para>Package Document spine <code>itemref</code> element</para>
							</entry>
						</row>
						<row>
							<entry role="rdfa-property-header">Cardinality</entry>
							<entry role="rdfa-cardinality">
								<para>Zero or one</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>And, as defined in <xref linkend="refPublications3"/>
				<literal>page-spread-left</literal> and <literal>page-spread-right</literal>.</para>
			<para>When a Reading System is rendering synthetic spreads, the default behavior is to
				populate the spread, which conceptually consists of two adjacent viewports, by
				rendering the next Content Document in the next available unpopulated viewport,
				where the location of “next” is determined by the given <link
					xlink:href="http://idpf.org/epub/30/spec/epub30-publications.html#sec-spine-elem"
					>page progression direction</link>, or by local declarations within content
				documents. By providing one of the page-spread-* properties on the spine itemref
				element, the author can override this automatic population behavior by forcing the
				given Content Document to be placed in a particular viewport. </para>
			<para>The <literal>page-spread-left</literal> and <literal>page-spread-right</literal>
				properties are defined in <link xlink:href="#refPublications30"
					>[Publications30]</link>. This document defines one additional property,
					<literal>rendition:page-spread-center</literal>, which indicates that the
				synthetic spread mode <literal role="rfc2119">should</literal> be overridden such that instead of two adjacent
				viewports, a single viewport <literal role="rfc2119">must</literal> be used, and positioned at the center of the
				screen.</para>
			<para>Note that the presence of <literal>rendition:page-spread-center</literal> does not
				change the viewport dimensions; in particular it does not indicate that a viewport
				with the size of the whole spread <literal role="rfc2119">should</literal> be created.
				<!--[already stated in para above:] It places a single
                    half-spread viewport in the middle of the spread. -->
				This is important so that the scale factor stays consistent between regular and
				center-spread pages. </para>
			<para>The <literal>page-spread-left</literal>, <literal>page-spread-right</literal> and
					<literal>rendition:page-spread-center</literal> properties apply to both
				pre-paginated and reflowable content, and they only apply when the Reading System is
				creating synthetic spreads. </para>
		</section>
	</chapter>
	
	<chapter xml:id="fxl-usage">
		<title>Usage of rendition properties in the EPUB 3 Package Document</title>
		<section xml:id="fxl-usage-prefix">
			<title>Prefix Mapping</title>
			<para>When the metadata properties defined in this document are included in an EPUB 3
				Package Document, they <literal role="rfc2119">must</literal> be mapped to the URI
					<literal>http://www.idpf.org/vocab/rendition/#</literal> using the
					<code>prefix</code> attribute, as defined in <link
					xlink:href="http://idpf.org/epub/30/spec/epub30-publications.html#sec-metadata-assoc"
					>EPUB Publications 3.0 vocabulary association</link>.</para>
			<synopsis>
&lt;package …  prefix="rendition: http://www.idpf.org/vocab/rendition/#"&gt; 
    … 
&lt;/package&gt; </synopsis>
			<para>Implementors should note that future revisions of <link
					xlink:href="#refPublications30">[Publications30]</link> may establish the
				vocabulary represented by the URI
					<literal>http://www.idpf.org/vocab/rendition/#</literal> as a <link
					xlink:href="http://idpf.org/epub/30/spec/epub30-publications.html#sec-metadata-reserved-vocabs"
					>reserved vocabulary</link>. In this case, the result will be that a) explicit
				mapping declaration using the <code>prefix</code> attribute will no longer be
				applicable, and b) the prefix ‘rendition’ will be reserved for this vocabulary.
				Future revisions of <link xlink:href="#refPublications30">[Publications30]</link>
				may also integrate the properties defined here into the Package Document default
				vocabulary. In this case the properties defined herein will be allowed to occur in
				Package Documents without a prefix. </para>
			<para>Note that Package Documents may include additional proprietary metadata properties
				that pertain to layout expressions (refer to <link
					xlink:href="http://idpf.org/epub/30/spec/epub30-publications.html#sec-metadata-assoc"
					>Vocabulary Association Mechanisms</link> for further information on
				extensibility). Reading Systems <literal role="rfc2119">must</literal> ignore such expressions if they conflict
				behaviorally with the property semantics defined in this document. </para>
		</section>
		<section xml:id="fxl-syntax-itemref">
			<title>Specifying name-value pairs on the spine itemref element</title>
			<para>In the context of the properties defined in this document, and when specifying
				property name-value pairs in the <code>properties</code> attribute on the Package
				Document spine <code>itemref</code> element, the following syntax <literal role="rfc2119">must</literal> be used. </para>
			<para>The property name and value is concatenated into a single string using a
					<emphasis>hyphen-minus</emphasis> character (<literal>U+002D</literal>) as
				separator. Note that leading and trailing whitespace around the separator character
				is not allowed. </para>
			<para>For example, to express that the <literal>rendition:layout</literal> property has
				the value ‘reflowable’ for the given spine item, the string
				‘rendition:layout-reflowable’ is used: </para>
			<synopsis>
&lt;itemref … properties="rendition:layout-reflowable"/&gt; </synopsis>
		</section>
	</chapter>
	
	<chapter xml:id="fxl-dimensions">
		<title>Content dimensions</title>
		<para>This section defines rules for the expression and interpretation of dimensional
			properties of XHTML and SVG Content Documents <link xlink:href="#refContentDocs30"
				>[ContentDocs30]</link> and bitmap images.</para>
		<para>This document does not define how the content (and, specifically in the case of XHTML
			and SVG, the <link xlink:href="icb">initial containing block</link>) will be placed
			within the Reading System content display area.</para>
		<section xml:id="fxl-dimensions-xhtml-svg">
			<title>Content dimensions for XHTML and SVG</title>
			<para>Each XHTML and SVG spine item which has the ‘pre-paginated’ value set for its
					<link xlink:href="#property-layout"><literal>rendition:layout</literal></link>
				property <literal role="rfc2119">must</literal> contain the viewport (for XHTML) or viewBox (for SVG) dimension
				expressions as defined below.</para>
			<para>For both XHTML and SVG Content Documents, the dimension (viewport/viewbox)
				expressions define the CSS <link
					xlink:href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details"
					>initial containing block</link> (<abbrev xml:id="icb">ICB</abbrev>) expressed
				in CSS Pixels <link xlink:href="#refCSS21">[CSS]</link>.</para>
			<section xml:id="fxl-dimensions-xhtml">
				<title>Expressing ICB dimensions in XHTML</title>
				<para>In XHTML, the ICB dimensions are expressed using the
						<literal>viewport</literal> meta tag using syntax as per <link
						xlink:href="#refMetaTags">[MetaTags]</link>. In this version of this
					document, only the width and height expressions are <literal role="rfc2119">required</literal> to be recognized by
					Reading Systems. </para>
				<para>Example:</para>
				<synopsis>
&lt;head&gt;
    …
    &lt;meta name="viewport" content="width=1200, height=600"/&gt;
    …
&lt;/head&gt;  </synopsis>
				<para>Reading Systems <literal role="rfc2119">must</literal> clip XHTML content to the ICB dimensions declared in the
					viewport meta tag, and therefore content positioned outside of the initial
					containing block is not going to be visible. When the ICB aspect ratio does not
					match the aspect ratio of the Reading System content display area, Reading
					Systems <literal role="rfc2119">may</literal> position the ICB inside the area to accommodate the user interface;
					in other words, added letter-boxing space <literal role="rfc2119">may</literal> appear on either side (or both) of
					the content.</para>
			</section>
			<section xml:id="dimensions-svg">
				<title>Expressing ICB dimensions in SVG</title>
				<para>In SVG, the ICB dimensions are expressed using the <link
						xlink:href="http://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute">viewBox
						attribute</link>
					<link xlink:href="#refSVG11">[SVG11]</link>. </para>
				<para>Example:</para>
				<synopsis>
&lt;svg xmlns="http://www.w3.org/2000/svg"
    version="1.1" width="100%" height="100%"
    viewBox="0 0 844 1200"&gt;
    …
&lt;/svg&gt; </synopsis>
			</section>
		</section>
		<section xml:id="fxl-dimensions-bitmap">
			<title>Content dimensions for bitmap images</title>
			<para>Bitmap image dimensions are expressed through the intrinsic physical dimensions
				(i.e the actual physical pixel counts for width and height) of the given bitmap, not
				considering “resolution tags” or any form of transformation.</para>
			<para>Note that this method of retrieving content dimensions only applies when bitmap
				images are referenced directly from the spine (i.e. not embedded in XHTML or SVG
				Content Documents).</para>
		</section>
	</chapter>
	
	<appendix xml:id="fxl-examples" conformance="informative">
		<title>Examples</title>
		<example xml:id="fxl-ex1">
			<title>Fully fixed-layout content, intended to be rendered using synthetic spreads in
				landscape orientation, and no spreads in portrait orientation.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
&lt;meta property="rendition:spread"&gt;landscape&lt;/meta&gt; </synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>All content documents contain:</para>
			<synopsis>
&lt;meta name="viewport" content="width=512, height=600"/&gt;</synopsis>
			<para>Note: to leave the spread behavior up to the Reading System, the
					<literal>rendition:spread</literal> element is either omitted or set to
				‘auto’.</para>
		</example>
		<example xml:id="fxl-ex2">
			<title>Fully fixed-layout content, intended to be rendered without synthetic spreads,
				and locked to landscape orientation.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
&lt;meta property="rendition:spread"&gt;none&lt;/meta&gt;

&lt;meta property="rendition:orientation"&gt;landscape&lt;/meta&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>All content documents contain:</para>
			<synopsis>
&lt;meta name="viewport" content="width=1024, height=600"/&gt;</synopsis>
		</example>
		<example xml:id="fxl-ex3">
			<title>Reflowable content with a single fixed-layout page (title page), where the
				fixed-layout page is intended for right-hand spread slot if the device renders
				synthetic spreads.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;meta property="rendition:layout"&gt;reflowable&lt;/meta&gt;
&lt;meta property="rendition:spread"&gt;auto&lt;/meta&gt;        
…

&lt;itemref xml:id="titlepage" properties="page-spread-right rendition:layout-pre-paginated"/&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>The content document representing the title page contains:</para>
			<synopsis>
&lt;meta name="viewport" content="width=684, height=1024"/&gt;</synopsis>
			<para>Note that in this example, both the <literal>rendition:layout</literal> and
					<literal>rendition:spread</literal> properties are set to their initial values,
				which means that these two meta elements can be omitted without any impact on the
				resulting expression. </para>
		</example>
		<example xml:id="fxl-ex4">
			<title>Fully fixed-layout content where synthetic spreads — if used — must be disabled
				for a center plate.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;

&lt;meta property="rendition:spread"&gt;auto&lt;/meta&gt;        
…
&lt;itemref xml:id="center-plate" properties="rendition:page-spread-center"/&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>The content document representing the center plate contains:</para>
			<synopsis>
&lt;meta name="viewport" content="width=512, height=600"/&gt;</synopsis>
			<para><!-- Note that even though the center plate viewport dimension expression indicates
                    portrait orientation, the author has omitted the orientation property, leaving
                    it to the Reading System to decide how to handle the situation. -->
				Note <!-- also --> that the
					<literal>rendition:spread<emphasis>=none</emphasis></literal> expression is not
				needed <!-- here --> on the center plate item, as the
					<literal>rendition:page-spread-center</literal> property already specifies
				semantics that dictates that synthetic spreads be disabled.</para>
			<para>Note <!-- finally --> also that in this example, the
					<literal>rendition:spread</literal> property is set to its initial value, and so
				it can be omitted without any impact on the resulting expression.</para>
		</example>
		<example xml:id="fxl-ex5">
			<title>Reflowable content with a fixed-layout two-page center plate that is intended to
				be rendered using synthetic spreads in any device orientation.</title>
			<para>The author has left spread behavior for the other (reflowable) parts of the
				publication undefined, since the global value of <literal>rendition:spread
				</literal> is initialized to ‘auto’. </para>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;spine page-progression-direction="ltr"&gt;                
    …
    &lt;itemref xml:id="center-plate-left" properties="rendition:spread-both page-spread-left"/&gt;
    &lt;itemref xml:id="center-plate-right" properties="rendition:spread-both page-spread-right"/&gt;
    …
&lt;/spine&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>The two content documents representing the center plate contains:</para>
			<synopsis>
&lt;meta name="viewport" content="width=512, height=600"/&gt;</synopsis>
		</example>
		<example xml:id="fxl-ex6">
			<title>Fully fixed-layout content which includes three separate stylesheets used for
				three different device categories, using <link xlink:href="#refMediaQueries"
					>[MediaQueries]</link>.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>
&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<synopsis>
&lt;link rel="stylesheet" xlink:href="eink-style.css" media="(max-monochrome: 3)"/&gt;
&lt;link rel="stylesheet" xlink:href="skinnytablet-style.css" media="((color) and
    (max-height:600px) and (orientation:landscape), (color) and (max-width:600px)
    and (orientation:portrait))" /&gt;
&lt;link rel="stylesheet" xlink:href="fattablet-style.css" media="((color) and
    (min-height:601px) and (orientation:landscape), (color) and (min-width:601px)
    and (orientation:portrait)" /&gt;</synopsis>
		</example>
		<example xml:id="fxl-ex7">
			<title>Japanese manga in the right-to-left page progression direction.</title>

			<para>Each content document is a very simple HTML containing a bitmap and nothing else,
				and does not have associated CSS stylesheets.</para>
			<bridgehead>Package Document</bridgehead>
			<synopsis>&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
&lt;meta property="rendition:spread"&gt;landscape&lt;/meta&gt;
…
&lt;spine page-progression-direction="rtl"&gt;
    …
&lt;/spine&gt;</synopsis>
			<para>Note that the page progression direction for the HTML content documents is 'ltr'
				rather than 'rtl'. This is because the reading system typically uses the default CSS
				stylesheet and the page progression direction implied by it is 'rtl'. Each spread is
				created by first using the right page and then the left page.</para>
			<bridgehead>XHTML</bridgehead>
			<para>All XHTML content documents contain:</para>
			<synopsis>
&lt;meta name="viewport" content="width=512, height=600"/&gt; </synopsis>
		</example>
		<example xml:id="fxl-ex8">
			<title>A fully fixed-layout publication with bitmap images as the top-level content
				representation, using XHTML fallback.</title>
			<bridgehead>Package Document</bridgehead>
			<synopsis>&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
…
&lt;manifest&gt;
    &lt;item xml:id="ch1" xlink:href="ch1.png" fallback="ch1x" … /&gt;
    &lt;item xml:id="ch2" xlink:href="ch2.png" fallback="ch2x" … /&gt;
    &lt;item xml:id="ch1x" xlink:href="ch1.xhtml" … /&gt;
    &lt;item xml:id="ch2x" xlink:href="ch2.xhtml" … /&gt;    
&lt;/manifest&gt;
&lt;spine&gt;
    &lt;itemref idref="ch1" /&gt;
    &lt;itemref idref="ch2" /&gt;
&lt;/spine&gt;</synopsis>
			<bridgehead>XHTML</bridgehead>
			<para>All fallback XHTML content documents contain:</para>
			<synopsis>&lt;meta name="viewport" content="width=1024, height=600"/&gt; </synopsis>
		</example>
	</appendix>
	
	<appendix xml:id="fxl-mappings" conformance="informative">
		<title>Appendix B. Mapping Tables</title>
		<para>The tables below describe how the vocabulary defined in this document maps to some of
			the pre-existing proprietary metadata vocabularies for fixed-layout expressions.</para>

		<table xml:id="fxl-mapping-kf8">
			<caption>Amazon KF8 Children’s Format</caption>
			<tbody>
				<tr>
					<th> Amazon Property </th>

					<th> IDPF Equivalent (prefixes omitted for clarity) </th>
				</tr>
				<tr>
					<td>
						<para>fixed-layout (true | false)</para>
					</td>
					<td>
						<para>layout (reflowable | pre-paginated)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>original-resolution (width, ‘x’, height)</para>
					</td>
					<td>
						<para>viewport (<link xlink:href="#dimensions-xhtml">XHTML
							meta</link>)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>orientation (portrait | landscape)</para>
					</td>

					<td>
						<para>orientation (portrait | landscape | auto)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>book-type (children | comic)</para>
					</td>

					<td>
						<para>not applicable</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>RegionMagnification (true | false)</para>
					</td>

					<td>
						<para>not applicable, proprietary</para>
					</td>
				</tr>
			</tbody>
		</table>
		<table xml:id="fxl-mappings-sony">
			<caption>Sony Fixed-Layout</caption>
			<tfoot>
				<tr>
					<td colspan="2">Note that for <literal>page-spread</literal>, the values for
						'portrait' and 'both' would all map to 'double', 'landscape' would map to
						'auto', and 'none' would map to 'full'. </td>
				</tr>
			</tfoot>
			<tbody>
				<tr>
					<th> Sony Property </th>
					<th> IDPF Equivalent (prefixes omitted for clarity) </th>
				</tr>
				<tr>

					<td>
						<para>fixed-layout (true | false)</para>
					</td>
					<td>
						<para>layout (reflowable | pre-paginated)</para>
					</td>
				</tr>
				<tr>

					<td>
						<para>orientation (portrait | landscape | auto)</para>
					</td>
					<td>
						<para>orientation (portrait | landscape | auto)</para>
					</td>
				</tr>
				<tr>

					<td>
						<para>page-spread (full | double | auto)</para>
					</td>
					<td>
						<para>rendition:spread (none | portrait | landscape | both | auto)</para>
					</td>
				</tr>
				<tr>

					<td>
						<para>overflow-scroll (true | false)</para>
					</td>
					<td>
						<para>defined in CSS</para>
					</td>
				</tr>
				<tr>

					<td>
						<para>viewport</para>
					</td>
					<td>
						<para>viewport (<link xlink:href="#dimensions-xhtml">XHTML
							meta</link>)</para>
					</td>
				</tr>

			</tbody>
		</table>
		<table xml:id="fxl-mappings-appl">
			<caption>Apple Fixed-Layout &#8212; Apple currently stores some of this metadata in an
				XML file in META-INF.</caption>
			<thead>
				<tr>
					<th> Apple Property </th>
					<th> IDPF Equivalent (prefixes omitted for clarity) </th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>
						<para>fixed-layout (true | false)</para>
					</td>
					<td>
						<para>layout (reflowable | pre-paginated)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>viewport (<link xlink:href="#dimensions-xhtml">XHTML
							meta</link>)</para>
					</td>
					<td>
						<para>viewport (<link xlink:href="#dimensions-xhtml">XHTML
							meta</link>)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>orientation (landscape-only | portrait-only | none)</para>
					</td>
					<td>
						<para>orientation (landscape | portrait | auto)</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>platform name</para>
					</td>
					<td>
						<para>no equivalent</para>
					</td>
				</tr>
				<tr>
					<td>
						<para>open-to-spread (true | false)</para>
					</td>
					<td>
						<para>no equivalent</para>
					</td>
				</tr>
			</tbody>
		</table>
	</appendix>
	
	<appendix xml:id="fxl-appabspos" conformance="informative">
		<title>Appendix C. Note on the use of CSS absolute positioning in EPUB 3</title>
		<para>An informative note at the end of <link
				xlink:href="http://idpf.org/epub/30/spec/epub30-contentdocs.html#sec-css-2.1"
				>Section 3.3.1</link> ("CSS 2.1") of EPUB 3 Content Documents has been a source of
			some confusion relative to fixed layout and EPUB 3. This appendix intends to clarify
			that note until the specification is updated accordingly.</para>
		<para>The note states: “The ability of Reading Systems to paginate absolutely positioned
			layouts is not guaranteed, so reliance on absolute positioning is discouraged. Reading
			Systems might not support these property values.”</para>
		<para>First, given its location in the CSS section of the specification, it should be noted
			that this statement is only applicable to fixed-layout documents that utilize CSS.
			Second, this note does not imply that the “absolute” value of the position property is
			not in the EPUB 3 CSS profile; <literal>position:absolute</literal> is in fact part of
			the profile, since it is part of its baseline (CSS 2.1). Only the
				<literal>fixed</literal> value is excluded from the EPUB 3 CSS Profile (as stated in
			normative prose above the note).</para>
		<para>Lastly, this note does not discourage use of CSS for absolutely positioned layouts but
			only reliance on such for content expected to be delivered to arbitrary Reading Systems,
			which as stated may not support these values. In particular, EPUB 2.x Reading Systems
			will likely not support these values, as they were not included in the EPUB 2 CSS
			Profile. Many uses of absolutely-positioned CSS will gracefully degrade if these
			property values are ignored, and such graceful degradation behavior (non-reliance) is
			encouraged.</para>
	</appendix>

	<appendix xml:id="app-contributors" xmlns="http://docbook.org/ns/docbook"
		conformance="informative" role="acknowledgements" version="5.1"
		xmlns:xi="http://www.w3.org/2001/XInclude">
		<title>Acknowledgements and Contributors</title>

		<para>Active members of the working group included:</para>

		<bridgehead>IDPF Members</bridgehead>

		<itemizedlist xmlns="http://docbook.org/ns/docbook" role="personlist" version="5.1">
			<listitem>
				<para><person>
						<personname><firstname>Takeshi</firstname>
							<surname>Kanai</surname></personname>
						<affiliation>
							<orgname>Sony</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Peter</firstname>
							<surname>Sorotokin</surname></personname>
						<affiliation>
							<orgname>Adobe</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Roger</firstname>
							<surname>Webster</surname></personname>
						<affiliation>
							<orgname>Barnes &amp; Noble</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>James</firstname>
							<surname>Lebster</surname></personname>
						<affiliation>
							<orgname>Barnes &amp; Noble</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Brady</firstname>
							<surname>Kroupa</surname></personname>
						<affiliation>
							<orgname>Barnes &amp; Noble</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Garth</firstname>
							<surname>Conboy</surname></personname>
						<affiliation>
							<orgname>Google Inc.</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Brady</firstname>
							<surname>Duga</surname></personname>
						<affiliation>
							<orgname>Google Inc.</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><surname>MURATA</surname>
							<firstname>Makoto</firstname></personname>
						<affiliation>
							<orgname>JEPA EPUB Study Group</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Edward</firstname>
							<surname>O'Connor</surname></personname>
						<affiliation>
							<orgname>Apple Inc.</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Luc</firstname>
							<surname>Audrain</surname></personname>
						<affiliation>
							<orgname>Hachette Livre</orgname>
						</affiliation>
					</person></para>
			</listitem>
			<listitem>
				<para><person>
						<personname><firstname>Hadrien</firstname>
							<surname>Gardeur</surname></personname>
						<affiliation>
							<orgname>Feedbooks</orgname>
						</affiliation>
					</person></para>
			</listitem>
		</itemizedlist>
	</appendix>

	<xi:include href="./share/references.xml"/>

</book>
