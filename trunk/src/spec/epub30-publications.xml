<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="../../util/docbook/schema/docbookspec.rng" type="xml"?>
<?oxygen SCHSchema="../../util/docbook/schema/docbookspec.sch"?>
<?oxygen SCHSchema="../../util/docbook/schema/docbook.sch"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1"
    xmlns:epub="http://www.idpf.org/2011/epub">
    <title>EPUB Publications 3.0</title>

    <info>
        <releaseinfo>Working Group Draft</releaseinfo>
        <pubdate>6 May 2011</pubdate>
        <printhistory>
            <formalpara>
                <title>This version</title>
                <para><link
                    xlink:href="http://www.idpf.org/epub/30/spec/epub30-publications-20110506.html"
                    /></para>
            </formalpara>
            <formalpara>
                <title>Latest version</title>
                <para><link xlink:href="http://www.idpf.org/epub/30/spec/epub30-publications.html"
                    /></para>
            </formalpara>
            <formalpara>
                <title>Previous version</title>
                <para><link
                    xlink:href="http://www.idpf.org/epub/30/spec/epub30-publications-20110215.html"
                /></para>
            </formalpara>
        </printhistory>
        <releaseinfo role="diff">
            A diff of changes from the previous Working Draft is available at 
                <link xlink:href="http://code.google.com/p/epub-revision/source/diff?spec=svn2925&amp;old=2553&amp;r=2925&amp;format=side&amp;path=%2Ftrunk%2Fsrc%2Fspec%2Fepub30-publications.xml">this link</link>.
        </releaseinfo>
        <xi:include href="./share/copyright.xml"/>
        <xi:include href="./share/legalnotice.xml"/>
        <authorgroup role="current">
            <editor>
                <personname>Markus Gylling</personname>
                <affiliation>
                    <org>
                        <orgname>DAISY Consortium</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname>William McCoy</personname>
                <affiliation>
                    <org>
                        <orgname>International Digital Publishing Forum (IDPF)</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname>Matt Garrish</personname>
                <affiliation>
                    <org>
                        <orgname>Invited Expert</orgname>
                    </org>
                </affiliation>
            </editor>
        </authorgroup>
        <abstract>
            <title>EPUB Publications 3.0</title>
            <para>EPUB is an interchange and delivery format for digital publications based on XML
                and Web Standards. EPUB 3, the third major revision of EPUB, is defined by <link
                    linkend="refEPUB3Overview">a set of specification documents</link> including
                this document, which defines publication-level semantics and conformance
                requirements for EPUB 3.</para>
        </abstract>
    </info>

    <chapter xml:id="sec-overview">
        <title>Overview</title>

        <section xml:id="sec-overview-purpose-and-scope" conformance="informative">
            <title>Purpose and Scope</title>

            <para>This specification, EPUB Publications 3.0, defines publication-level semantics and
                conformance requirements for EPUB® 3, including the format of the <xref
                    linkend="gloss-package-document"/> and rules for how this document and other
                    <xref linkend="gloss-publication-resource-cmt-or-foreign"/>s are associated to
                create a conforming EPUB Publication.</para>

            <xi:include href="./share/specdesc-prepara.xml"/>
            <itemizedlist xml:id="epub-specs-listing">
                <xi:include href="./share/specdesc-overview.xml"/>
                <xi:include href="./share/specdesc-contentdocs.xml"/>
                <xi:include href="./share/specdesc-ocf.xml"/>
                <xi:include href="./share/specdesc-overlays.xml"/>
            </itemizedlist>

            <para>This specification supersedes Open Package Format 2.0.1 <xref linkend="refOPF2"/>.
                Refer to <xref linkend="refEPUB3Changes"/> for information on differences between
                this specification and its predecessor.</para>

        </section>

        <section xml:id="sec-terminology">
            <title>Terminology</title>
            <xi:include href="./share/terminology.xml"/>
        </section>

        <xi:include href="./share/conformancestatements.xml"/>

    </chapter>

    <chapter xml:id="sec-epub-conformance">
        <title>EPUB Publications</title>

        <para>This section defines conformance requirements for <xref
                linkend="gloss-epub-publication"/>s and <xref linkend="gloss-epub-reading-system"/>s
            at the Publication level. Conformance requirements particular to specific <xref
                linkend="gloss-publication-resource-cmt-or-foreign"/>s and processing contexts are
            located in the specifications referenced herein.</para>

        <section xml:id="sec-epub-content-conf" xreflabel="EPUB Publication — Content Conformance">
            <title>Content Conformance</title>

            <para>An <xref linkend="gloss-epub-publication"/> must meet all of the following
                criteria:</para>

            <variablelist role="conformance-list">
                <varlistentry xml:id="sec-epub-content-conformance-all">
                    <term>All Publication Resources</term>
                    <listitem>
                        <para xml:id="confreq-manifest">All <xref
                                linkend="gloss-publication-resource-cmt-or-foreign"/>s
                            it contains must be represented in the Package Document (as defined in
                                <xref linkend="sec-manifest-elem"/>), adhere to the <link
                                linkend="sec-publication-resources">constraints for Core Media Types
                                and Fallback</link> and be located as per <xref
                                linkend="sec-resource-locations"/>.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-package">
                    <term>The Package Document</term>
                    <listitem>
                        <para xml:id="confreq-package">It must contain exactly one <xref
                                linkend="gloss-package-document"/>, which must conform to the content
                            requirements defined in <xref linkend="sec-package-content-conf"
                            />.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-contentdocs">
                    <term>Content Documents</term>
                    <listitem>
                        <para xml:id="confreq-cd">It must contain at least one <xref
                                linkend="gloss-content-document-epub"/> conformant to the content
                            requirements defined in <olink type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-contentdocs"/>.</para>
                        <!--
                        <para xml:id="confreq-cdf">It may contain one or more <xref
                                linkend="gloss-content-document-foreign"/>s, and must in this case
                            conform to the requirements for fallback provision defined in <xref
                                linkend="sec-fallback-processing-flow"/>.</para> -->
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-nav">
                    <term>The EPUB Navigation Document</term>
                    <listitem>
                        <para xml:id="confreq-nav-occur">It must contain exactly one <xref
                                linkend="gloss-content-document-epub-nav"/> conformant to the
                            content requirements defined in <olink type="epub-spec"
                                targetdoc="contentdocs" targetptr="sec-xhtml-nav-content-conf"
                            />.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-css">
                    <term>EPUB Style Sheets</term>
                    <listitem>
                        <para xml:id="confreq-css">It may contain zero or more <xref
                                linkend="gloss-stylesheet"/>s conformant to the content requirements
                            defined in <olink type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-css-content-conf"/>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-pls">
                    <term>EPUB Pronunciation Lexicons</term>
                    <listitem>
                        <para xml:id="confreq-pls">It may contain zero or more PLS Documents
                            conformant to the content requirements defined in <olink
                                type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-pls-conf-content"/>.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-media-overlays">
                    <term>Media Overlay Documents</term>
                    <listitem>
                        <para xml:id="confreq-mo">It may contain zero or more <xref
                                linkend="gloss-media-overlay-document"/>s conformant to the content
                            requirements defined in <xref linkend="refOverlays3"/>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-additional">
                    <term>Additional Publication Resources</term>
                    <listitem>
                        <para xml:id="confreq-additional">It may contain zero or more <xref
                                linkend="gloss-publication-resource-cmt-or-foreign"/>s in addition
                            to those listed above, each of
                            which must adhere to the requirements in <xref
                                linkend="sec-epub-content-conformance-all"/>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-content-conformance-container">
                    <term>Container</term>
                    <listitem>
                        <para xml:id="confreq-ocf">It must be packaged in a <xref
                                linkend="gloss-container"/> as defined in <xref linkend="refOCF30"
                            />. </para>
                    </listitem>
                </varlistentry>
            </variablelist>

        </section>

        <section xml:id="sec-epub-rs-conf" xreflabel="EPUB Publication — Reading System Conformance">
            <title>Reading System Conformance</title>

            <para>An <xref linkend="gloss-epub-reading-system"/> must meet all of the following
                criteria:</para>

            <variablelist role="conformance-list">
                <varlistentry xml:id="sec-epub-rs-conf-epub3">
                    <term>EPUB 3 Processing</term>
                    <listitem>
                        <para xml:id="confreq-rs-epub3-ocf">It must process the <xref
                                linkend="gloss-container"/> as defined in <xref linkend="refOCF30"
                            />.</para>

                        <para xml:id="confreq-rs-epub3-package">It must process the <xref
                                linkend="gloss-package-document"/> as defined in <xref
                                linkend="sec-package-rs-conf"/>, and honor all presentation logic
                            expressed through the Package Document (e.g., the reading order,
                            fallback chains and bindings).</para>
                        
                        <para xml:id="confreq-rs-epub3-uid">It must not fail catastrophically if it
                            encounters two distinct EPUB Publications with the same 
                            <link linkend="gloss-unique-identifier">Unique Identifiers</link>. </para>
                        
                        <para xml:id="confreq-rs-epub3-cmt">Unless specified as <phrase
                                role="conditional">conditional behavior</phrase> in this section, it
                            must support all <xref linkend="gloss-publication-resource-cmt"
                            />s.</para>

                        <para xml:id="confreq-rs-foreign">It may support an arbitrary set of <xref
                                linkend="gloss-publication-resource-foreign"/> types, and must
                            process fallbacks for unsupported Foreign Resources as defined in <xref
                                linkend="sec-fallback-processing-flow"/> if not.</para>

                        <para xml:id="confreq-rs-epub3-xhtml">It must process <xref
                                linkend="gloss-content-document-epub-xhtml"/>s as defined in <olink
                                type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-xhtml-conf-rs"/>.</para>

                        <para xml:id="confreq-rs-epub3-svg">It must process <xref
                                linkend="gloss-content-document-epub-svg"/>s as defined in <olink
                                type="epub-spec" targetdoc="contentdocs" targetptr="sec-svg-rs-conf"
                            />.</para>

                        <para xml:id="confreq-rs-epub3-css"><phrase role="conditional">If it has a
                                    <xref linkend="gloss-viewport-css"/></phrase>, it must support
                            visual rendering of <xref linkend="gloss-content-document-epub-xhtml"/>s
                            as defined in <olink type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-css-rs-conf"/>.</para>

                        <para xml:id="confreq-rs-epub3-raster"><phrase role="conditional">If it has
                                the capability to render raster images</phrase>, it must support the
                                <link linkend="cmt-grp-image">raster image Core Media
                            Types</link>.</para>

                        <para xml:id="confreq-rs-epub3-vector"><phrase role="conditional">If it has
                                the capability to render vector images</phrase>, it must support the
                                <link linkend="cmt-grp-image">vector image Core Media
                            Types</link>.</para>

                        <para xml:id="confreq-rs-epub3-mp3-aac"><phrase role="conditional">If it has
                                the capability to render pre-recorded audio</phrase>, it must
                            support the <link linkend="cmt-mp3">MP3 audio Core Media Type</link>,
                            should support the <link linkend="cmt-mp4-aac">MP4 audio Core Media
                                Type</link> and should support Media Overlays <xref
                                linkend="refOverlays3"/>.</para>
                        <para xml:id="confreq-rs-epub3-tts"
                            xreflabel="Reading System Text-to-Speech Conformance Requirements"
                                ><phrase role="conditional">If it supports <xref linkend="gloss-tts"
                                /> rendering</phrase>, it should support <olink type="epub-spec"
                                targetdoc="contentdocs" targetptr="sec-pls"/>, the CSS3 Speech
                            features of the <olink type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-css">EPUB CSS Profile</olink> and <olink
                                type="epub-spec" targetdoc="contentdocs"
                                targetptr="sec-xhtml-ssml-attrib">SSML attributes</olink> in <xref
                                linkend="gloss-content-document-epub-xhtml"/>s.</para>
                        <para xml:id="confreq-rs-cfi">It must support the EPUB Canonical Fragment 
                            Identifiers scheme <xref linkend="refEPUBCFI"/> for linking.</para>
                        <note xml:id="note-video-codecs">
                            <para>It is recommended that Reading Systems support at least one of the
                                <xref linkend="refH264"/> and <xref linkend="refVP8"/> video codecs, 
                                but this is not a conformance requirement; a
                                Reading System may support no video codecs at all. Content creators and
                                Reading System developers should take into consideration factors such as
                                breadth of adoption, video playback quality, and technology usage royalty
                                requirements when making a choice to include or implement video in either
                                (or  potentially, both) formats.</para>
                        </note>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-rs-conf-backward">
                    <term>Backward Compatibility</term>
                    <listitem>
                        <para xml:id="confreq-rs-backward-epub2">It should process EPUB version 2
                            Publications as defined in <xref linkend="refOPF2"/>, <xref
                                linkend="refOPS2"/> and <xref linkend="refOCF2"/>.</para>
                        <para xml:id="confreq-rs-backward-epub">It must 
                            attempt to process any Publication whose Package Document
                                <code>version</code> attribute designates a version lower than
                                <literal>3.0</literal> or which omits the <code>version</code>
                            attribute.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-rs-conf-forward">
                    <term>Forward Compatibility</term>
                    <listitem>
                        <para xml:id="confreq-rs-forward-epubn">It should attempt to process any
                            Publication whose Package Document <code>version</code> attribute
                            designates a version higher than <literal>3.0</literal> or which omits
                            the <code>version</code> attribute.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="sec-epub-rs-conf-xml">
                    <term>XML Processing</term>
                    <listitem>
                        <para xml:id="confreq-rs-xml-nval">It must be a <link
                                xlink:href="http://www.w3.org/TR/xml/#proc-types">conformant
                                non-validating processor</link>
                            <xref linkend="refXML"/>.</para>
                        <para xml:id="confreq-rs-xml-ns"> It must be a <link
                                xlink:href="http://www.w3.org/TR/REC-xml-names/#ProcessorConformance"
                                >conformant processor</link> as defined in <xref
                                linkend="refXMLNamespaces"/>. </para>
                        <para xml:id="confreq-rs-xml-assocss">It must support
                                <code>xml-stylesheet</code> processing instructions <xref
                                linkend="refXMLStylesheets"/>, and may support additional processing
                            instructions.</para>

                        <para xml:id="confreq-rs-xml-base">It must be a conformant application as
                            defined by <xref linkend="refXMLBase"/>.</para>
                    </listitem>
                </varlistentry>

            </variablelist>
            <!--
            <note>
                <para>The EPUB 3 specification suite is intended for use rendering a wide variety of
                    Publications on diverse Reading Systems. Authors should consequently be aware
                    that the Reading Systems on which their Publications may be displayed may have
                    widely varying capabilities with regards to media type rendering support. One
                    Reading System, for example, may have a fully conformant <xref
                        linkend="gloss-viewport-css"/>, while another may not have a visual viewport
                    at all, rendering the Publication using only <xref linkend="gloss-tts"/>.</para>
                < ! - - maybe plug scripting support here too  -  - >
                <para>Similarly, Authors should take note that Reading System support for <xref
                        linkend="gloss-content-document-epub-scripted"/>s will vary widely.</para>
            </note>-->
            <note>
                <para>A conforming Reading System is not necessarily a single dedicated program or
                    device, but may exist as a distributed system.</para>
            </note>

        </section>

    </chapter>

    <chapter xml:id="sec-package-documents">
        <title>Package Documents</title>

        <section xml:id="sec-package-intro" conformance="informative">
            <title>Introduction</title>
            <para>The <xref linkend="gloss-package-document"/> carries bibliographic and structural
                metadata about an <xref linkend="gloss-epub-publication"/>, and is thus the primary
                source of information about how to process and display it.
                <!-- It is always identified in the Container file <xref linkend="refOCF30"/>
                    in the META-INF directory, and represents the primary point of entry into a
                    Publication. -->
            </para>

            <para>The Package Document is an XML document <!-- <xref linkend="refXML"/> -->
                consisting of a set of container elements, each dedicated to housing information
                about a particular aspect of the Publication. These containers effectively
                centralize metadata for the Publication, detail the individual resources that
                compose it and provide reading order and other information for rendering the
                Publication to a User.</para>

            <para>The following list summarizes the information a Package Document contains:</para>

            <itemizedlist>
                <listitem>
                    <para>Publication <link linkend="sec-metadata-elem">metadata</link> — mechanisms
                        for including and/or referencing metadata applicable to the entire
                        Publication and particular resources within it.</para>
                </listitem>
                <listitem>
                    <para>A <link linkend="sec-manifest-elem">Publication manifest</link> —
                        identifies (via IRI) and describes (via MIME media type) the set of
                        resources that collectively compose the Publication.</para>
                </listitem>
                <listitem>
                    <para>A <link linkend="sec-spine-elem">spine</link> — an ordered sequence of ID
                        references to top-level resources in the manifest from which all other
                        resources in the set can be reached or utilized. The spine defines the
                        default reading order of the Publication.</para>
                </listitem>
                <listitem>
                    <para><link linkend="sec-fallback-processing-flow-manifest">Fallback
                            chains</link> — an optional means for Publications to define an ordered
                        list of top-level resources that can be considered content equivalents that
                        a Reading System can choose between for rendering.</para>
                </listitem>
                <listitem>
                    <para><link linkend="sec-bindings-elem">Bindings</link> — an optional means of
                        associating script-based implementations with custom media types.</para>
                </listitem>
            </itemizedlist>

        </section>

        <section xml:id="sec-package-content-conf"
            xreflabel="Package Document — Content Conformance">
            <title>Content Conformance</title>

            <para>A <xref linkend="gloss-package-document"/> must meet all of the following
                criteria:</para>
            <variablelist role="conformance-list">
                <varlistentry xml:id="confreq-package-docprops">
                    <term>Document Properties</term>
                    <listitem>
                        <para xml:id="confreq-package-xml">
                            <xi:include href="./share/xml-defref.xml"/>
                        </para>
                        <para xml:id="confreq-package-docprops-schema">It must be valid to the
                            Package Document schema, as defined in <xref linkend="app-package-schema"
                            />, and conform to all content conformance constraints expressed in <xref
                                linkend="sec-package-def"/>.</para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="confreq-package-fileprops">
                    <term>File Properties</term>
                    <listitem>
                        <para xml:id="confreq-package-fileprops-name">The Package Document filename
                            should use the file extension <filename>.opf</filename>.</para>
                    </listitem>
                </varlistentry>
            </variablelist>

            <para xml:id="media-type">Package Documents have the MIME media type
                    <literal>application/oebps-package+xml</literal>
                <xref linkend="refRFC4839"/>.</para>

        </section>

        <section xml:id="sec-package-rs-conf"
            xreflabel="Package Document — Reading System Conformance">
            <title>Reading System Conformance</title>

            <para>An <xref linkend="gloss-epub-reading-system"/> must meet all of the following
                criteria:</para>

            <variablelist role="conformance-list">
                <varlistentry xml:id="confreq-rs-package-base">
                    <term>Processing</term>
                    <listitem>
                        <para xml:id="confreq-rs-package-def">It must process the Package Document
                            in conformance with all Reading System conformance constraints expressed
                            in <xref linkend="sec-package-def"/>.</para>
                    </listitem>
                </varlistentry>
                <!-- not needed; this is defined in sec-package-def
                <varlistentry xml:id="confreq-rs-package-depr">
                    <term>Deprecated/Superseded Constructs</term>
                    <listitem>
                        <para xml:id="confreq-rs-package-depr-guide">A <xref
                            linkend="gloss-epub-reading-system"/> must process the deprecated guide… </para>
                        <para xml:id="confreq-rs-package-depr-ncx">A <xref
                            linkend="gloss-epub-reading-system"/> must process any included NCX… </para>
                    </listitem>                    
                </varlistentry>
                -->
            </variablelist>

        </section>

        <section xml:id="sec-package-def">
            <title>Package Document Definition</title>

            <para>All elements <xref linkend="refXML"/> defined in this section are in the
                    <literal>http://www.idpf.org/2007/opf</literal> namespace <xref
                    linkend="refXMLNamespaces"/> unless otherwise specified.</para>

            <section xml:id="sec-package-elem" xreflabel="package">
                <title>The <code>package</code> Element</title>

                <para>The <code>package</code> element is the root container of the <xref
                        linkend="gloss-package-document"/>, encapsulating metadata and resource
                    information for the <xref linkend="gloss-epub-publication"/>.</para>

                <variablelist xreflabel="package" role="elem-synopsis" xml:id="elemdef-opf-package">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><literal>package</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>The <literal>package</literal> element is the root element of the
                                Package Document.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-package-version" xreflabel="version">
                                    <term><literal>version</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>Specifies the EPUB specification version to which the
                                            Publication conforms.</para>
                                        <para>The attribute must have the value <literal>3.0</literal> 
                                            to indicate compliance with this version of the specification.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-unique-identifier"
                                    xreflabel="unique-identifier">
                                    <term><literal>unique-identifier</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies the
                                                  <literal><xref role="codelink"
                                                  linkend="sec-opf-dcidentifier"/></literal> element
                                            that provides the package's preferred, or primary,
                                            identifier.</para>
                                        <para>Refer to <xref
                                                linkend="sec-package-metadata-identifiers"/> for
                                            more information.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-profile" xreflabel="profile">
                                    <term><literal>profile</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>Specifies the URI of the metadata profile <xref
                                                linkend="refRDFa11Core"/> for the Package Document. </para>
                                        <para>The attribute must have the value
                                                <literal>http://www.idpf.org/epub/30/profile/package/</literal>
                                            <xref linkend="refEPUBPackageProfile"/> to comply with this version
                                            of the specification. </para>
                                        <para>Refer to <xref linkend="sec-metadata-elem"/> for more
                                            information.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-prefix" xreflabel="prefix">
                                    <term><literal>prefix</literal>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <para>Declares additional metadata vocabulary prefixes not
                                            defined in the metadata profile <xref
                                                linkend="refRDFa11Core"/>.</para>
                                        <para>Refer to <xref linkend="sec-metadata-elem"/> for more
                                            information.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-xml-lang">
                                    <term><literal>xml:lang</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <xi:include href="./share/xmllang-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-dir">
                                    <term><literal>dir</literal>
                                        <option>[optional]</option></term>
                                    <xi:include href="./share/dir-prose-listitem.xml"/>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-package-id">
                                    <term><literal>id</literal>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>In this order: <literal><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></literal>
                                <option>[required]</option>, <literal><xref
                                        linkend="elemdef-opf-manifest"/></literal>
                                <option>[required]</option>, <literal><xref
                                        linkend="elemdef-opf-spine"/></literal>
                                <option>[required]</option>, <literal><link role="codelink"
                                        linkend="sec-guide-elem">guide</link></literal>
                                <option>[optional/deprecated]</option>, <literal><xref
                                        linkend="elemdef-bindings"/></literal>
                                <option>[optional]</option></para>
                        </listitem>
                    </varlistentry>

                </variablelist>

            </section>

            <section xml:id="sec-metadata-elem" xreflabel="metadata">
                <title>The <literal>metadata</literal> Element</title>

                <para>The <literal>metadata</literal> element encapsulates information about the
                    Publication as a whole.</para>

                <variablelist xreflabel="metadata" role="elem-synopsis"
                    xml:id="elemdef-opf-metadata">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><literal>metadata</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required first child of <literal><xref
                                        linkend="elemdef-opf-package"/></literal>.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <para>The <literal>metadata</literal> element has no attributes defined
                                in this specification.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>In any order: <literal><xref role="codelink"
                                        linkend="elemdef-opf-dcidentifier"/></literal>
                                <option>[1 or more]</option>, <literal><xref
                                        linkend="elemdef-opf-dctitle"/></literal>
                                <option>[1 or more]</option>, <literal><xref
                                        linkend="elemdef-opf-dclanguage"/></literal>
                                <option>[exactly 1]</option>, <literal><xref
                                        linkend="elemdef-opf-meta"/></literal>
                                <option>[1 or more]</option>, <literal><xref
                                        linkend="elemdef-opf-link"/></literal>
                                <option>[0 or more]</option></para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Core Publication metadata is expressed by a combination of three required
                    elements from the Dublin Core Metadata Element Set <xref linkend="refDCMES"/> —
                        <link linkend="sec-opf-dcidentifier"><code>title</code></link>, <link
                        linkend="elemdef-opf-dcidentifier"><code>identifier</code></link> and <link
                        linkend="elemdef-opf-dclanguage"><code>language</code></link> — together
                    with optional properties from DCMI Metadata Terms <xref linkend="refDCTERMS"/>
                    and a set of package and ancillary properties defined in this specification.
                    (Refer to the <link linkend="sec-metadata-elem-examples">example</link> at the
                    end of this section for an instance of a complete minimal metadata set.)</para>

                <para> Properties from vocabularies not defined in this specification may be added
                    to the <literal>metadata</literal> section to enhance package and content
                    metadata, and to supplement required and optional properties, but their use is
                    optional. </para>
                <!-- </section> -->

                <!-- <section xml:id="sec-metadata-extensibility"
                    xreflabel="Metadata Extensibility Mechanism">
                    <title>Metadata Extensibility</title> -->

                <para> This specification subsets the <xref linkend="refRDFa11Core"/>
                    profile and prefix definition mechanisms to enable the inclusion and extension
                    of metadata vocabularies for defining Publications. These features allow core
                    metadata properties to be added unprefixed, and additionally work to standardize
                    the inclusion of metadata across the publishing spectrum by predefining prefixes
                    for the most commonly-used vocabularies. </para>

                <para>All Publications must reference the metadata profile on the root
                        <literal>package</literal> element using the <literal><link
                            linkend="attrdef-package-profile">profile</link></literal> attribute.
                    Unlike its RDFa equivalent, the <literal>profile</literal> attribute must 
                    contain only the single canonical URI of the EPUB default profile.</para>

                <para> The addition of the metadata profile allows all properties from the <link
                        linkend="refEPUBPackageVocab">EPUB 3 Package Metadata Vocabulary</link> to
                    be referenced without using prefixes. The profile also defines prefixes
                    for other common vocabularies (refer to <link
                        linkend="refEPUBPackageProfile">the profile</link> for more
                    information on which). </para>

                <para> If the metadata profile does not define a prefix for a needed vocabulary, it
                    does not mean that the vocabulary cannot be used. The <link
                        linkend="attrdef-package-prefix">prefix</link> attribute can also be
                    attached to the <code>package</code> element to define additional prefixes. New
                    prefixes are defined by including whitespace-separated prefix/URI pairings. </para>

                <informalexample>
                    <para>The following example shows how to define a new prefix for a
                        vocabulary.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/rdfa-prefix.xml"/></synopsis>
                </informalexample>

                <xi:include href="./share/rdfa-prefix-reqs.xml"/>

                <bridgehead xml:id="sec-metadata-elem-examples">Example</bridgehead>

                <informalexample>
                    <para>The following example represents the minimal set of metadata that all
                        Publications must contain.</para>
                    <synopsis><xi:include href="examples/publications/metadata-min-complete.xml" parse="text"/></synopsis>
                </informalexample>
            </section>

            <section xml:id="sec-opf-dcidentifier" xreflabel="dc:identifier">
                <title>The DCMES <code>identifier</code> Element</title>

                <para>The <xref linkend="refDCMES"/>
                    <code>identifier</code> element contains a single identifier associated with the
                        <xref linkend="gloss-epub-publication"/>, such as a UUID, DOI, ISBN or
                    ISSN.</para>
                <variablelist xreflabel="dc:identifier" role="elem-synopsis"
                    xml:id="elemdef-opf-dcidentifier">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para>
                                <literal>dc:identifier</literal>
                            </para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Namespace</term>
                        <listitem>
                            <para><literal>http://purl.org/dc/elements/1.1/</literal></para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required child of <code><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>

                            <variablelist role="elem-synopsis-attlist">

                                <varlistentry xml:id="attrdef-dcidentifier-id">
                                    <term>
                                        <literal>id</literal>
                                        <option>[required]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>

                                <varlistentry xml:id="attrdef-dcidentifier-prefer">
                                    <term>
                                        <literal>prefer</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <xi:include href="./share/prefer-prose-listitem.xml"/>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Text</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Every <code>metadata</code> section must include at least one
                        <literal>identifier</literal> element containing an unambiguous identifier
                    for the Publication. Multiple <literal>identifier</literal> elements are
                    permitted, but only one can be marked as the <xref
                        linkend="gloss-unique-identifier"/> via the <code>package</code> element
                            <code><link linkend="attrdef-package-unique-identifier"
                            >unique-identifier</link></code> attribute. </para>

                <informalexample>
                    <para>The following example shows the unique <literal>identifier</literal>
                        element for a Publication.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/identifier.xml"/></synopsis>
                </informalexample>

                <para>This specification makes a distinction between the <xref
                        linkend="gloss-unique-identifier"/> for an EPUB Publication and the
                    identifier that uniquely identifies a specific version of it (i.e., to be able
                    to differentiate EPUB Publications containing different versions of the same
                        <xref linkend="gloss-manifestation"/>). Two copies of an EPUB that are
                    bit-for-bit identical are the same version and must retain the same <link
                        linkend="elemdef-opf-meta">last modified date</link>. If they are not
                    bit-for-bit identical, they represent different versions, and must have
                    different last modified dates.</para>

                <para>To identify a specific version of a packaged Publication, a <xref
                        linkend="gloss-package-identifier"/> can be constructed by combining the
                    Unique Identifier with the last modified date of the Publication. Changes
                    between versions may include minor typographic or markup corrections, without
                    affecting the Unique Identifier. Significant revisions to the content that
                    result in a new edition require a change of the Unique Identifier. For more
                    information on the semantics and requirements of the Package Identifier, refer
                    to <xref linkend="sec-opf-metadata-identifiers-pid"/>.</para>

                <para>The <xref linkend="refDCTERMS"/>
                    <literal>identifier</literal> property will supersede the DCMES
                        <literal>identifier</literal> element in a future version of the
                    specification, but its inclusion is currently optional. Authors should include
                    both versions for forwards compatibility, using the <literal>prefer</literal>
                    attribute on the <literal>identifier</literal> element to indicate to Reading
                    Systems that the property should be used in preference. Refer to <xref
                        linkend="sec-package-metadata-dcmi-transition"/> for more information. </para>

                <informalexample>
                    <para>The following example shows how an <literal>identifier</literal> element
                        and property should co-exist within a Publication.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/identifier-1.xml"/></synopsis>
                </informalexample>

                <para> This specification imposes no additional restrictions or requirements on
                    identifiers except that they must be at least one character in length. It is
                    strongly recommended that all identifiers be fully qualified
                    URIs, however.</para>

                <para> To determine whether an <literal>identifier</literal> conforms to an
                    established system or has been granted by an issuing authority, Reading Systems
                    should parse the value of the property. For additional precision (e.g., if the
                    scheme cannot be determined from the value or could lead to an ambiguous
                    result), Authors may attach a <literal><link linkend="scheme"
                        >scheme</link></literal> property to the <literal>identifier</literal> to
                    assist in Reading System identification. When included, the
                        <literal>scheme</literal> property should take precedence over value parsing
                    the <literal>identifier</literal>.</para>

                <informalexample>
                    <para>The following example shows how an <literal>identifier</literal> can be
                        additionally marked as a DOI using the <literal>scheme</literal>
                        property.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/identifier-2.xml"/></synopsis>
                </informalexample>

                <para> This specification does not require or endorse the use of any specific scheme
                    for identifiers, and imposes no restrictions or requirements on
                        <literal>scheme</literal> identifiers beyond those specified in the property
                    definition. </para>

                <para>When an EPUB Publication is derived from another publication, the identifier for
                    that source publication may be included in the Publication metadata, and
                    must be represented using the <link linkend="source-identifier"
                            ><literal>source-identifier</literal> property</link> if
                    included.</para>
            </section>

            <section xml:id="elemdef-opf-dctitle" xreflabel="dc:title">
                <title>The DCMES <code>title</code> Element</title>

                <para>The <xref linkend="refDCMES"/>
                    <code>title</code> element represents an instance of a name given to the <xref
                        linkend="gloss-epub-publication"/>.</para>

                <variablelist xreflabel="dc:title" role="elem-synopsis">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para>
                                <literal>dc:title</literal>
                            </para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Namespace</term>
                        <listitem>
                            <para><literal>http://purl.org/dc/elements/1.1/</literal></para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required child of <code><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">

                                <varlistentry xml:id="attrdef-dctitle-id">
                                    <term>
                                        <literal>id</literal>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>

                                <varlistentry xml:id="attrdef-dctitle-prefer">
                                    <term>
                                        <literal>prefer</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <xi:include href="./share/prefer-prose-listitem.xml"/>
                                </varlistentry>

                            </variablelist>
                        </listitem>
                    </varlistentry>


                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Text</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para> Every <code>metadata</code> section must include at least one
                        <literal>title</literal> element containing the title for the Publication.
                    Multiple <literal>title</literal> elements are permitted, but the optional
                            <literal><link linkend="display-seq">display-seq</link></literal>
                    property should be attached to each to indicate their primacy for display and
                    other rendering purposes. </para>

                <informalexample>
                    <para>The following example shows how to indicate the display order for multiple
                            <literal>title</literal> elements.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/title.xml"/></synopsis>
                </informalexample>

                <para>The <literal><link linkend="title-type">title-type</link></literal> property
                    may also be attached to indicate the type of title (e.g., the primary title for
                    a work, a subtitle, etc.).</para>

                <informalexample>
                    <para>The following example shows the primary <literal>title</literal> specified
                        using an ONIX code list.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/title-2.xml"/></synopsis>
                </informalexample>

                <para>If no means of establishing the primary title of the Publication is included,
                    Reading Systems must treat the first <literal>title</literal> element in
                    document order as the primary title.</para>

                <para>The <xref linkend="refDCTERMS"/>
                    <literal>title</literal> property will supersede the DCMES
                        <literal>title</literal> element in a future version of the specification,
                    but its inclusion is currently optional. Authors should include both versions
                    for forwards compatibility, using the <literal>prefer</literal> attribute on the
                        <literal>title</literal> element to indicate to Reading Systems that the
                    property should be used in preference. Refer to <xref
                        linkend="sec-package-metadata-dcmi-transition"/> for more
                    information.</para>

                <informalexample>
                    <para>The following example shows how a <literal>title</literal> element and
                        property should co-exist within a Publication.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/title-1.xml"/></synopsis>
                </informalexample>

                <para> This specification imposes no additional restrictions or requirements on
                    titles except that they must be at least one character in length. </para>

                <!--
                <para> The <literal><link role="codelink" linkend="file-as">file-as</link></literal>
                    property can be attached to a <literal>title</literal> to include a normalized
                    representation of the title for machine and bibliographic sorting purposes. </para>
                
                <informalexample>
                    <para>The following example shows a <literal>title</literal> and its normalized
                        form for sorting.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/title-3.xml"/></synopsis>
                </informalexample>
                
                <para> The <literal><link role="codelink" linkend="alternate-script"
                    >alternate-script</link></literal> property can also be attached to provide
                    a rendition of the <literal>title</literal> in another language and/or script. </para>
                
                <informalexample>
                    <para>The following example shows alternate renditions of a
                        <literal>title</literal> for French and English readers.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/title-4.xml"/></synopsis>
                </informalexample>
                -->

            </section>

            <section xml:id="elemdef-opf-dclanguage" xreflabel="dc:language">
                <title>The DCMES <code>language</code> Element</title>

                <para>The <xref linkend="refDCMES"/>
                    <code>language</code> element specifies the default language of the Publication
                    content.</para>

                <variablelist xreflabel="dc:language" role="elem-synopsis">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para>
                                <literal>dc:language</literal>
                            </para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Namespace</term>
                        <listitem>
                            <para><literal>http://purl.org/dc/elements/1.1/</literal></para>
                        </listitem>
                    </varlistentry>

                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required child of <code><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></code>.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-dclanguage-prefer">
                                    <term>
                                        <literal>prefer</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <xi:include href="./share/prefer-prose-listitem.xml"/>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Text</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Every <code>metadata</code> section must include a single
                        <literal>language</literal> element with a value conforming to <xref
                        linkend="refRFC5646"/>.</para>

                <informalexample>
                    <para>The following example shows a Publication in U.S. English.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/language.xml"/></synopsis>
                </informalexample>
                <!--
                <para>The <code>metadata</code> section may optionally include a single <xref
                        linkend="refDCTERMS"/>
                    <code>language</code> property, which, when present, must contain a value that
                    is:</para>

                <itemizedlist>
                    <listitem>
                        <para>a variable-length code as defined in <xref linkend="refRFC5646"
                            />;</para>
                    </listitem>
                    <listitem>
                        <para>a 2-letter language code as defined in <xref linkend="refISO6391"
                            />;</para>
                    </listitem>
                    <listitem>
                        <para>a 3-letter language code as defined in <xref linkend="refISO6392T"/>;
                            or</para>
                    </listitem>
                    <listitem>
                        <para>a 3-letter language code as defined in <xref linkend="refISO6393"
                            />.</para>
                    </listitem>
                    </itemizedlist>-->

                <para>A single optional <xref linkend="refDCTERMS"/>
                    <literal>language</literal> property may also be included. The value of this
                    property must also conform to <xref linkend="refRFC5646"/>. When both the DCMES element and DCTERMS
                    property are included, they must both specify the same language code.</para>

                <para>The DCTERMS <literal>language</literal> property will supersede the DCMES
                        <literal>language</literal> element in a future version of the
                    specification, but its inclusion is currently optional. Authors should include
                    both versions for forwards compatibility, using the <literal>prefer</literal>
                    attribute on the <literal>language</literal> element to indicate to Reading
                    Systems that the property should be used in preference. Refer to <xref
                        linkend="sec-package-metadata-dcmi-transition"/> for more
                    information.</para>

                <informalexample>
                    <para>The following example shows how a <literal>language</literal> element and
                        property should co-exist within a Publication.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/language-1.xml"/></synopsis>
                </informalexample>

            </section>

            <section xml:id="sec-meta" xreflabel="meta">
                <title>The <literal>meta</literal> Element</title>

                <para>The <literal>meta</literal> element provides a generic means of including
                    package metadata, allowing the expression of primary metadata about the package
                    or content and refinement of that metadata.</para>

                <variablelist xreflabel="meta" role="elem-synopsis" xml:id="elemdef-opf-meta">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para>
                                <literal>meta</literal>
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>As child of the <code><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></code> element.
                                Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-meta-property">
                                    <term>
                                        <literal>property</literal>
                                        <option>[required]</option>
                                    </term>
                                    <listitem>
                                        <para>A CURIE <xref linkend="refRDFa11Core"/> that resolves
                                            to a term in one of the vocabularies defined in the
                                            metadata profile or <literal>package</literal> element
                                                <xref linkend="attrdef-package-prefix"/>
                                            attribute.</para>
                                        <para>Refer to <xref linkend="sec-meta-property-values"/>
                                            for a set of properties defined by this
                                            specification.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-meta-about">
                                    <term>
                                        <literal>about</literal>
                                        <option>[context dependent]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="./share/about-prose-para.xml"/>
                                        <para>The <literal>about</literal> attribute is optional
                                            depending on the type of metadata being expressed. When
                                            omitted, the property relates to the EPUB Publication as
                                            a whole.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-meta-id" xreflabel="id">
                                    <term>
                                        <literal>id</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-meta-datatype">
                                    <term>
                                        <literal>datatype</literal>
                                        <option>[context dependent]</option>
                                    </term>
                                    <listitem>
                                        <para>A CURIE <xref linkend="refRDFa11Core"/> that resolves
                                            to a datatype definition, such as defined in <xref
                                                linkend="refXSDDatatypes"/>.</para>
                                        <para>The <literal>datatype</literal> attribute is optional
                                            except when a <literal><link linkend="scheme"
                                                  >scheme</link></literal> is being expressed, in
                                            which case it is required.</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Text</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Each <code>meta</code> element defines a metadata expression consisting of a
                    subject, predicate and object. The subject can be the <xref
                        linkend="gloss-epub-publication"/> (e.g., to express its title(s),
                    identifier(s), etc.), a resource belonging to the Publication (e.g., to express
                    the duration of a media clip) or a metadata expression defined in another
                        <code>meta</code> element (e.g., to identify a scheme an identifier conforms
                    to).</para>

                <para>The subject of the metadata expression is defined by the <code>about</code>
                    attribute. When attached to a <code>meta</code> element, the attribute must
                    reference the specific metadata element or resource that constitutes the
                    subject. In its absence, the metadata expression defines metadata about the
                    Publication.</para>

                <para>The predicate of the metadata expression — the relationship between the
                    subject and object — is defined by the required <literal>property</literal>
                    attribute. The value of the <code>property</code> must be a CURIE <xref
                        linkend="refRDFa11Core"/> that resolves to a property from a metadata
                    vocabulary. Reading Systems are not required to resolve these CURIEs.</para>

                <informalexample>
                    <para>The following example shows an identifier being declared for the
                        Publication in the first <code>meta</code> element and a scheme being
                        defined for the identifier in the second.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/meta-ancillary.xml"/></synopsis>
                </informalexample>

                <para>The value of the <code>meta</code> element represents the object of the
                    metadata expression. Every <code>meta</code> element must express a value that
                    is at least one character in length after whitespace normalization.</para>

                <para>Note that unless an individual property explicitly defines a different
                    whitespace normalization algorithm, Reading Systems must trim all leading and
                    trailing whitespace from the <literal>meta</literal> element values as defined
                    by the XML specification <xref linkend="refXML"/> before further processing
                    them.</para>

                <para>In order to ensure that a <xref linkend="gloss-package-identifier"/> can be
                    constructed, the <code>metadata</code> element must contain exactly one 
                    <code>meta</code> element defining a
                    <xref linkend="refDCTERMS"/> <literal>modified</literal> property for the Publication
                    (refer to <xref linkend="sec-opf-metadata-identifiers-pid"/>). Additional
                        <literal>modified</literal> properties may be included, but they must have a
                    different subject (i.e., they must include an <code>about</code> attribute
                    pointing to an element or resource).</para>

                <bridgehead xml:id="sec-meta-elem-examples">Examples</bridgehead>

                <informalexample>
                    <para>The following example shows metadata expressed using <code>meta</code>
                        elements (the DCMES elements have been omitted for clarity). </para>
                    <synopsis><xi:include parse="text" href="examples/publications/meta-example-full.xml"/></synopsis>
                </informalexample>

                <informalexample>
                    <para>The following example shows how the complex title "The Great Cookbooks of
                        the World: Mon premier guide de cuisson, un Mémoire. The New French Cuisine
                        Masters, Volume Two. Special Anniversary Edition" could be classified. </para>
                    <synopsis><xi:include parse="text" href="examples/publications/meta-ex-title-2.xml"/></synopsis>
                </informalexample>

                <informalexample>
                    <para>The following example shows an identifier that has been issued by a
                        metadata authority.</para>
                    <synopsis><xi:include parse="text" href="examples/publications/meta-example-authority.xml"/></synopsis>
                </informalexample>

            </section>

            <section xml:id="sec-link-elem" xreflabel="link">
                <title>The <code>link</code> Element</title>

                <para>The <code>link</code> element is used to associate resources with a
                    Publication, such as metadata records.</para>

                <variablelist xreflabel="link" role="elem-synopsis" xml:id="elemdef-opf-link">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para>
                                <literal>link</literal>
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>As a child of <code><xref role="codelink"
                                        linkend="elemdef-opf-metadata"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-link-href" xreflabel="href">
                                    <term>
                                        <literal>href</literal>
                                        <option>[required]</option>
                                    </term>
                                    <listitem>
                                        <para>A relative IRI reference <xref linkend="refRFC3987"/>
                                            to an external metadata resource.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-link-rel" xreflabel="rel">
                                    <term>
                                        <literal>rel</literal>
                                        <option>[required]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="./share/curies-resolve-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-link-id" xreflabel="id">
                                    <term>
                                        <literal>id</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-link-about">
                                    <term>
                                        <literal>about</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <listitem>
                                        <xi:include href="./share/about-prose-para.xml"/>
                                        <para>When the <code>about</code> attribute is omitted, the
                                            resource applies to the EPUB Publication as a
                                            whole.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-link-media-type">
                                    <term>
                                        <literal>media-type</literal>
                                        <option>[optional]</option>
                                    </term>
                                    <listitem>
                                        <para>A media type <xref linkend="refRFC2046"/> that
                                            specifies the type and format of the resource referenced
                                            by this <code>link</code>.</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Empty</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
                <para>The <code>metadata</code> element may contain zero or more
                        <literal>link</literal> elements.</para>
                <para> The <code>href</code> attribute of the <code>link</code> element identifies
                    the location of the resource — which may or may not be in the
                    container file — and the <code>rel</code> attribute defines the nature of the
                    resource (i.e., its relation to the Publication or property specified in the
                        <code>about</code> attribute). Reading Systems are not required to
                    dereference these resources. Refer to <xref linkend="sec-link-rel-values"/> for
                    the list of resource types that are recognized by this specification.</para>
                <!-- There is no provision for specifying version information of the referenced
                    record. (this  assumes that version information is available inline in the 
                    referenced resources) -->
                <para>Resources identified by the <code>link</code> element <code>href</code>
                    attribute must not be represented as <code>items</code> in the <link
                        linkend="sec-manifest-elem">manifest</link>.</para>
                <para>When the <code>link</code> element references a metadata record, precedence
                    must be given to metadata defined inline in the Package Document
                        <code>metadata</code> element in the case of conflicts.</para>
                <para>The optional <code>about</code> attribute can be attached when the referenced
                    resource applies to another metadata item (e.g., to tie an XML Signature <xref
                        linkend="refXMLDSIGCORE"/> to a metadata authority). The resource applies to
                    the Publication as a whole when the attribute is not present.</para>
                <bridgehead>Examples</bridgehead>
                <informalexample>
                    <para>The following example shows the <code>link</code> element used to
                        associate three metadata resources with the Publication: an ONIX record, an
                        XMP record, and a link to an informational web page. Note that as the
                            <literal>foaf:homepage</literal> token is <link
                            linkend="sec-link-rel-values">not defined by this specification</link>;
                        the <link linkend="sec-metadata-elem">metadata extensibility
                            mechanism</link> is employed to associate the vocabulary. </para>
                    <synopsis><xi:include parse="text" href="examples/publications/link-2.xml"/></synopsis>
                </informalexample>
            </section>

            <section xml:id="sec-manifest-elem" xreflabel="manifest">
                <title>The <literal>manifest</literal> Element</title>

                <para>The <code>manifest</code> element provides an exhaustive list of the <xref
                        linkend="gloss-publication-resource-cmt-or-foreign"/>s that constitute the
                        <xref linkend="gloss-epub-publication"/>, each represented by an <code><xref
                            role="codelink" linkend="sec-item-elem"/></code> element.</para>

                <variablelist xreflabel="manifest" role="elem-synopsis"
                    xml:id="elemdef-opf-manifest">
                    <varlistentry>
                        <term>Element name</term>
                        <listitem>
                            <para><code>manifest</code></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required second child of <code><xref role="codelink"
                                        linkend="elemdef-opf-package"/></code>, following
                                        <code><xref role="codelink" linkend="elemdef-opf-metadata"
                                    /></code>.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-manifest-id" xreflabel="id">
                                    <term><code>id</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>One or more <code><xref role="codelink"
                                        linkend="elemdef-package-item"/> elements</code>
                                <option>[required]</option></para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <note>
                    <para>This specification supports internationalized resource naming, so elements
                        and attributes that reference Publication Resources accept IRIs as their
                        value. For compatibility with older Reading Systems that only accepts URIs,
                        resource names should be restricted to the ASCII character set.</para>
                </note>

            </section>

            <section xml:id="sec-item-elem" xreflabel="item">
                <title>The <code>item</code> Element</title>

                <para>The <code>item</code> element represents a <xref
                        linkend="gloss-publication-resource-cmt-or-foreign"/>.</para>

                <variablelist xreflabel="item" role="elem-synopsis" xml:id="elemdef-package-item">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><code>item</code></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>As a child of <code><xref role="codelink"
                                        linkend="elemdef-opf-manifest"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-item-id" xreflabel="id">
                                    <term><code>id</code>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <xi:include href="share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-item-href" xreflabel="href">
                                    <term><code>href</code>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>An IRI <xref linkend="refRFC3987"/> specifying the
                                            location of the Publication Resource described by this
                                                <code>item</code>.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-item-media-type"
                                    xreflabel="media-type">
                                    <term><code>media-type</code>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>A media type <xref linkend="refRFC2046"/> that
                                            specifies the type and format of the Publication
                                            Resource described by this <code>item</code>.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-item-fallback" xreflabel="fallback">
                                    <term><code>fallback</code>
                                        <option>[conditionally required]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies the
                                            fallback for a non-Core Media Type.</para>
                                        <para>Refer to <xref
                                                linkend="sec-fallback-processing-flow-manifest"/>
                                            for more information.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xreflabel="properties"
                                    xml:id="attrdef-item-properties">
                                    <term><code>properties</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/curies-resolve-para.xml"/>
                                        <para>Refer to <xref linkend="sec-item-property-values"/>
                                            for a set of properties defined by this
                                            specification.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xreflabel="media-overlay"
                                    xml:id="attrdef-item-media-overlay">
                                    <term><code>media-overlay</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies the
                                                <xref linkend="gloss-media-overlay-document"/> for
                                            the resource described by this <code>item</code>.</para>
                                        <para>Refer to <olink type="epub-spec"
                                                targetdoc="mediaoverlays"
                                                targetptr="sec-docs-package"/> for more
                                            information.</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Empty</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Each <code>item</code> element in the <code>manifest</code> identifies a <xref
                        linkend="gloss-publication-resource-cmt-or-foreign"/> by the IRI provided in
                    its <code>href</code> attribute. The IRI may be absolute or relative. In the
                    case of relative IRIs, Reading Systems must use the IRI of the Package Document
                    as the base when resolving these to absolute IRIs. The resulting absolute IRI
                    must be unique within the <code>manifest</code> scope.</para>

                <para>All Publication Resources must be referenced from the <code>manifest</code>
                    regardless of their physical location (i.e., regardless of whether they are
                    available in the <xref linkend="gloss-container"/> or remotely). Refer to <xref
                        linkend="sec-resource-locations"/> for media type-specific requirements
                    regarding resource locations.</para>

                <para>The Publication Resource identified by an <code>item</code> element must
                    conform to the applicable specification(s) as inferred from the MIME media type
                    provided in the <code>media-type</code> attribute.
                        <xref linkend="gloss-publication-resource-cmt"/>s must use the media type
                    designated in <xref linkend="tbl-core-media-types"/>.</para>

                <para>All <xref linkend="gloss-publication-resource-foreign"/>s must provide a
                    fallback as defined in <xref linkend="sec-fallback-processing-flow"/>.</para>

                <para>All Publication Resources must declare any applicable descriptive metadata
                    properties as defined in <xref linkend="sec-item-property-values"/> via the
                        <code>item</code> element <code><xref role="codelink"
                            linkend="attrdef-item-properties"/></code> attribute. Exactly one must
                    be declared as the <xref linkend="gloss-content-document-epub-nav"/> using the
                        <code>nav</code> property.</para>

                <para>The manifest is not self-referencing: it must not include an <code>item</code>
                    element that refers to the Package Document itself.</para>

                <note>
                    <para>The order of <code>item</code> elements in the manifest is not
                        significant. The presentation sequence of content documents is provided in
                        the <code><link role="codelink" linkend="sec-spine-elem"
                        >spine</link></code>.</para>
                </note>

                <bridgehead xml:id="examples-manifest" xreflabel="Manifest examples"
                    >Examples</bridgehead>

                <informalexample xml:id="example-manifest-cmt">
                    <para>The following example shows a <literal>manifest</literal> that only
                        contains <xref linkend="gloss-publication-resource-cmt"/>s.</para>
                    <synopsis><xi:include href="./examples/publications/manifest-1.xml" parse="text"/></synopsis>
                </informalexample>

                <informalexample xml:id="example-manifest-flbk">
                    <para>The following example shows a <code>manifest</code> that references two
                            <xref linkend="gloss-publication-resource-foreign"/>s, and therefore
                        uses the <link linkend="sec-fallback-processing-flow-manifest">fallback
                            chain mechanism</link> to supply content alternatives. The fallback
                        chain terminates with a Core Media Type. </para>
                    <synopsis><xi:include href="./examples/publications/manifest-2.xml" parse="text"/></synopsis>
                </informalexample>

                <note>
                    <para>Refer also to the <xref linkend="examples-item-properties"/> for use of
                        the <code>properties</code> attribute.</para>
                </note>
            </section>

            <section xml:id="sec-spine-elem" xreflabel="spine">
                <title>The <code>spine</code> Element</title>

                <para>The <code>spine</code> element defines the default reading order of the <xref
                        linkend="gloss-epub-publication"/> content by defining an ordered list of
                        <link linkend="sec-itemref-elem">manifest <code>item</code>
                        references</link>.</para>

                <variablelist xreflabel="spine" role="elem-synopsis" xml:id="elemdef-opf-spine">
                    <varlistentry>
                        <term>Element name</term>
                        <listitem>
                            <para><literal>spine</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Required third child of <code><xref role="codelink"
                                        linkend="elemdef-opf-package"/></code>, following
                                        <code><xref role="codelink" linkend="elemdef-opf-manifest"
                                    /></code>.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-spine-id">
                                    <term><literal>id</literal>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-spine-toc" xreflabel="toc">
                                    <term><literal>toc</literal>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies the
                                            manifest <code><xref role="codelink"
                                                  linkend="elemdef-package-item"/></code> that
                                            represents the superseded <code>NCX</code>.</para>
                                        <para>Refer to <xref linkend="ncx-superseded"/> for more
                                            information.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-spine-page-progression-direction"
                                    xreflabel="page-progression-direction">
                                    <term><literal>page-progression-direction</literal></term>
                                    <listitem>
                                        <para>The global direction in which the Publication content
                                            flows.</para>
                                        <para>Allowed values are <literal>ltr</literal>
                                            (left-to-right), <literal>rtl</literal> (right-to-left)
                                            and <literal>default</literal>.</para>
                                        <para>When the <code>default</code> value is specified, the
                                            Author is expressing no preference and the Reading
                                            System may chose the rendering direction. This value
                                            must be assumed when the attribute is not
                                            specified.</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Multiple <literal><xref role="codelink"
                                        linkend="elemdef-spine-itemref"/></literal> elements
                                    <option>[required]</option></para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <note>
                    <para>Although the <code>page-progression-direction</code> attribute sets the
                        global flow direction for a Publication, individual Content Documents and
                        parts of Content Documents may override this setting (e.g., via the
                            <literal>direction</literal> and <literal>writing-mode</literal> CSS
                        properties). Reading Systems may also provide mechanisms to override the
                        default direction (e.g., buttons or settings that allow the application of
                        alternate style sheets).</para>
                </note>

                <bridgehead xml:id="ncx-superseded">NCX Superseded</bridgehead>

                <para>The NCX feature defined in <xref linkend="refOPF2"/> is superseded by the
                        <olink targetdoc="contentdocs" targetptr="sec-xhtml-nav" type="epub-spec"
                        >EPUB Navigation Document</olink>. EPUB 3 Publications may include an NCX
                    (as defined in OPF 2.0.1) for EPUB 2 Reading System forwards compatibility
                    purposes, but EPUB 3 Reading Systems must ignore the NCX in favor of the EPUB
                    Navigation Document.</para>

                <note xml:id="note-ncx">
                    <para>As the EPUB 2 NCX and the EPUB 3 Navigation Document use different
                        mechanisms for identification in the Package Document (the spine <code><xref
                                linkend="attrdef-spine-toc"/></code> attribute and the <code><xref
                                linkend="nav"/></code> property on the manifest <code>item</code>
                        element, respectively) they can co-exist without conflict in an EPUB 3
                        Publication.</para>
                </note>

            </section>

            <section xml:id="sec-itemref-elem" xreflabel="itemref">
                <title>The <code>itemref</code> Element</title>

                <para>The child <code>itemref</code> elements of the <code>spine</code> represent a
                    sequential list of <xref linkend="gloss-publication-resource-cmt-or-foreign"/>s
                        (<link linkend="confreq-spine-itemtypes">typically</link>
                    <xref linkend="gloss-content-document-epub"/>s). The order of the
                        <code>itemref</code> elements defines the default reading order of the
                    Publication.</para>

                <variablelist xreflabel="itemref" role="elem-synopsis"
                    xml:id="elemdef-spine-itemref">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><literal>itemref</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>As a child of <code><xref role="codelink"
                                        linkend="elemdef-opf-spine"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">
                                <varlistentry xml:id="attrdef-itemref-idref" xreflabel="idref">
                                    <term><code>idref</code>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies a
                                            manifest <xref linkend="elemdef-package-item"/>.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xreflabel="linear" xml:id="attrdef-itemref-linear">
                                    <term><code>linear</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <para>Specifies whether the referenced content is
                                            primary.</para>
                                        <para>The value of the attribute must be
                                                <literal>yes</literal> or <literal>no</literal>. The
                                            default value <literal>yes</literal>.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-itemref-id">
                                    <term><code>id</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/id-prose-para.xml"/>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xreflabel="properties"
                                    xml:id="attrdef-itemref-property">
                                    <term><code>properties</code>
                                        <option>[optional]</option></term>
                                    <listitem>
                                        <xi:include href="./share/curies-resolve-para.xml"/>
                                        <para>Refer to <xref linkend="sec-itemref-property-values"/>
                                            for a set of properties defined by this
                                            specification.</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Empty</para>
                        </listitem>
                    </varlistentry>

                </variablelist>

                <para>Each <code>itemref</code> element must reference an <code><xref
                            linkend="elemdef-package-item"/></code> in the <xref linkend="gloss-manifest"/> 
                    via its <code><xref linkend="attrdef-itemref-idref"/></code> attribute. 
                    As a result, the <code>spine</code> represents
                    an ordered subset of the Publication Resources listed in the <code>manifest</code>, with
                    content items not being referenced being ancillary to those that do. </para>
                
                <para xml:id="confreq-spine-itemtypes">Each manifest <code>item</code> referenced
                    from the <code>spine</code> must either be: a) an <xref
                        linkend="gloss-content-document-epub"/>; or, b) another type of <xref
                        linkend="gloss-publication-resource-cmt-or-foreign"/> which,
                        <emphasis>regardless of whether it is a <xref
                            linkend="gloss-publication-resource-cmt"/> or a <xref
                            linkend="gloss-publication-resource-foreign"/></emphasis>, must include
                    an EPUB Content Document in its <link
                        linkend="sec-fallback-processing-flow-manifest">fallback
                    chain</link>.</para>

                <note>
                    <para>Although the <xref linkend="gloss-content-document-epub-nav"/> is <link
                            linkend="confreq-nav-occur">required in EPUB Publications</link>, it is
                        optional to include it in the <code>spine</code>.</para>
                </note>

                <para>The <code>itemref</code> element <code>linear</code> attribute indicates
                    whether a spine item is considered primary (<literal>yes</literal>) or auxiliary
                        (<literal>no</literal>). This attribute may be used to enable Reading
                    Systems to distinguish presentation of body content from supplementary content
                    which might be, for example, presented in a popup window or omitted from an
                    aural rendition. </para>

                <para>Reading Systems must provide a means of rendering a Publication in the order
                    defined by the <code>spine</code>, which includes: 1) recognizing the first
                    primary (<literal>linear='yes'</literal>) <code>item</code> in the
                        <code>spine</code> as the beginning of the main reading order of the
                    Publication; and, 2) rendering successive primary items in the order given in
                    the <code>spine</code>.</para>

                <bridgehead>Examples</bridgehead>
                <informalexample>
                    <para>The following example shows a <literal>spine</literal> element
                        corresponding to <link linkend="example-manifest-cmt">the manifest example
                            above</link>.</para>
                    <synopsis><xi:include href="./examples/publications/spine-1.xml" parse="text"/></synopsis>
                </informalexample>

            </section>

            <section xml:id="sec-guide-elem" xreflabel="guide">
                <title>The <code>guide</code> Element [DEPRECATED]</title>

                <para>The <code>guide</code> element <xref linkend="refOPF2"/> is deprecated in
                    favor of the <literal>landmarks</literal> feature in the <xref
                        linkend="gloss-content-document-epub-nav"/>. Refer to <olink
                        type="epub-spec" targetdoc="contentdocs"
                        targetptr="sec-xhtml-nav-def-types-landmarks"/> for more information.</para>

                <para>Authors may include the <code>guide</code> element in the Package Document for
                    EPUB 2 Reading System forwards compatibility purposes. EPUB 3 Reading Systems
                    must ignore the <code>guide</code> element when provided in EPUB 3 Publications
                    whose <xref linkend="gloss-content-document-epub-nav"/> includes the
                        <code>landmarks</code> feature.</para>

            </section>

            <section xml:id="sec-bindings-elem" xreflabel="bindings">
                <title>The <code>bindings</code> Element</title>

                <para>The <code>bindings</code> element defines a set of custom handlers for media
                    types not supported by this specification.</para>

                <variablelist xreflabel="bindings" role="elem-synopsis" xml:id="elemdef-bindings">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><literal>bindings</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>Optional fourth or fifth child of <code><xref role="codelink"
                                        linkend="elemdef-opf-package"/></code>, following
                                        <code><xref role="codelink" linkend="elemdef-opf-spine"
                                    /></code> or <code><link role="codelink"
                                        linkend="sec-guide-elem">guide</link></code>.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <para>None.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>One or more <literal><xref role="codelink"
                                        linkend="elemdef-mediaType"/></literal> elements
                                    <option>[required]</option></para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>The <code><xref role="codelink" linkend="elemdef-opf-package"/></code> element
                    may contain at most one <code>bindings</code> element. </para>

                <para>The <code>bindings</code> element provides a means for Authors to include more 
                    sophisticated fallbacks than would otherwise be possible with the <xref linkend="refHTML5"/>
                    <code><link xlink:href="http://www.w3.org/TR/html5/Overview.html#the-object-element">object</link></code>  
                    element's intrinsic fallback mechanisms. When present, Reading Systems that support 
                    scripting must utilize the <code>bindings</code> element to handle <code>object</code>
                    elements that reference unsupported media types.</para>
                
                <para>Each of the <code>bindings</code> element's child 
                    <code><link linkend="sec-mediaType-elem">mediaType</link></code> elements defines a 
                    unique handler for one of the foreign media types referenced in the Publication's
                    <xref linkend="gloss-content-document-epub-xhtml"/>s.</para>
                
                <para>When an unsupported media type is encountered during processing of a document, 
                    the Reading System must look up the handler in the <code>bindings</code> element by checking the
                    <code><link linkend="attrdef-mediaType-media-type">media-type</link></code> attribute of 
                    each <code>mediaType</code> element for a match (and before attempting any other type of 
                    <link linkend="sec-fallback-processing-flow">fallback processing</link>).
                    If a match is found, the XHTML Content Document referenced in the element's 
                    <code><link linkend="attrdef-mediaType-handler">handler</link></code> attribute must be 
                    instantiated instead of the referenced resource. If no match is found, the Reading System
                    should continue with normal fallback processing (i.e., check for an intrinsic fallback for the 
                    <code>object</code>).</para>
                
                <para>The Reading System must instantiate the designated handler as if it had been referenced 
                    from the <code>object</code> element's <code>data</code> attribute with the following 
                    parameters:</para>

                <variablelist>
                    <varlistentry>
                        <term><code>src</code></term>
                        <listitem>
                            <para>the value of which must be an IRI <xref linkend="refRFC3987"/> to
                                the resource (i.e., the value of the <code>object</code> element's
                                    <code>data</code> attribute).</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term><code>type</code></term>
                        <listitem>
                            <para>the value of which must be the resource media type (i.e., the
                                value of the <code>object</code> element's <code>media-type</code>
                                attribute).</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Any additional <code>param</code> children of the <code>object</code> element 
                    must be similarly added as parameters using the <code>param</code>'s
                        <code>name</code> attribute as the new parameter name and its
                        <code>value</code> attribute as the new value.</para>
                
                <para>For example, the following <code>object</code> element containing a foreign 
                    media type:</para>
                
                <informalexample>
                    <synopsis><xi:include href="examples/publications/bindings-1.xml" parse="text"/></synopsis>
                </informalexample>
                
                <para>would result in the following query string being sent to the handler XHTML Content
                    Document after processing:</para>
                
                <informalexample><synopsis>src=horse.ogg&amp;type=audio/ogg&amp;autoplay=false</synopsis></informalexample>
                
                <para>All IRI reserved characters, plus the characters <literal>&lt;</literal>, <literal>&gt;</literal>,
                    <literal>"</literal>, <literal>space</literal>, <literal>{</literal>, <literal>}</literal>, <literal>|</literal>,
                    <literal>\</literal>, <literal>^</literal> and <literal>`</literal>, in the generated query string must be 
                    encoded and decoded as per <xref linkend="refRFC3987"/>.</para>
                
                <para><code>object</code> elements that reference media types handled by the 
                    <code>bindings</code> element are only processed in <xref linkend="gloss-spine"/>-referenced XHTML 
                    Content Documents (i.e., they are ignored in <olink targetdoc="contentdocs" 
                        targetptr="sec-scripted-content-models" type="epub-spec" 
                        epub:specref-exclude="true">container-constrained scripting contexts</olink>).</para>
                
                <bridgehead>Example</bridgehead>
                
                <para>The following partial example illustrates how bindings can be used to
                    provide a slideshow.</para>
                
                <para>Consider a Publication with the following Package document:</para>
                
                <informalexample>
                    <synopsis><xi:include href="examples/publications/bindings-2.xml" parse="text"/></synopsis>
                </informalexample>
                
                <para>and the following content in the file <filename>content.xhtml</filename>:</para>
                
                <informalexample>
                    <synopsis><xi:include href="examples/publications/bindings-3.xml" parse="text"/></synopsis>
                </informalexample>
                
                <para>and the following content in the file <filename>slideshow.xml</filename>:</para>
                
                <informalexample>
                    <synopsis><xi:include href="examples/publications/bindings-4.xml" parse="text"/></synopsis>
                </informalexample>
                
                <para>Depending on the Reading System the <xref linkend="gloss-user"/> opens this Publication in, they will see
                    one of the following renditions of the slideshow:</para>
                
                <itemizedlist>
                    <listitem>
                        <para>If the Reading System supports the native slideshow format, it will render 
                            a rotating set of images as specified in <filename>slideshow.xml</filename>.</para>
                    </listitem>
                    <listitem>
                        <para>If the Reading System cannot support the slideshow media type but supports 
                            scripting, it can check the <code>bindings</code> element in the Package document 
                            for a scripted fallback. There it will find a reference to the <code>item</code> element 
                            containing the handler document (<filename>impl.xhtml</filename>). The Reading System 
                            can now load this document to render a JavaScripted equivalent of the slideshow 
                            (source not shown).</para>
                    </listitem>
                    <listitem>
                        <para>If the Reading System does not support the slideshow media type and also
                            does not support scripting, it will use the fallback images specified in the <code>object</code>
                            element to show a static set of all the images.</para>
                    </listitem>
                </itemizedlist>
                
            </section>

            <section xml:id="sec-mediaType-elem" xreflabel="mediaType">
                <title>The <code>mediaType</code> Element</title>

                <para>The <code>mediaType</code> element associates a 
                    <xref linkend="gloss-publication-resource-foreign"/> media type with a handler 
                    <xref linkend="gloss-content-document-epub-xhtml"/>.</para>

                <variablelist xreflabel="mediaType" role="elem-synopsis" xml:id="elemdef-mediaType">
                    <varlistentry>
                        <term>Element Name</term>
                        <listitem>
                            <para><literal>mediaType</literal></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Usage</term>
                        <listitem>
                            <para>As a child of <code><xref role="codelink"
                                        linkend="elemdef-bindings"/></code>. Repeatable.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Attributes</term>
                        <listitem>
                            <variablelist role="elem-synopsis-attlist">

                                <varlistentry xml:id="attrdef-mediaType-media-type"
                                    xreflabel="media-type">
                                    <term><literal>media-type</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>A media type <xref linkend="refRFC2046"/> that
                                            specifies the type and format of the resource to be
                                            handled.</para>
                                    </listitem>
                                </varlistentry>
                                <varlistentry xml:id="attrdef-mediaType-handler" xreflabel="handler">
                                    <term><literal>handler</literal>
                                        <option>[required]</option></term>
                                    <listitem>
                                        <para>An IDREF <xref linkend="refXML"/> that identifies the
                                            manifest XHTML Content Document to be invoked to handle
                                            content of the type specified in this element</para>
                                    </listitem>
                                </varlistentry>
                            </variablelist>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Content Model</term>
                        <listitem>
                            <para>Empty</para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <para>Each child <code>mediaType</code> of a <code>bindings</code> element must
                    define a unique content type in its <code>media-type</code> attribute, and the media
                    type specified must not be a Core Media Type.</para>

                <para>The required <code>handler</code> attribute must reference the ID <xref
                        linkend="refXML"/> of an <code><link role="codelink"
                            linkend="elemdef-package-item">item</link></code> in the <code><link
                            role="codelink" linkend="elemdef-opf-manifest">manifest</link></code> of
                    the default implementation for this media type. The referenced <code>item</code>
                    must be an XHTML Content Document.</para>
                
                <para>All XHTML Content Documents designated as
                    handlers must have the <code><link linkend="scripted">scripted</link></code>
                    property set in their <xref linkend="gloss-manifest"/> 
                    <code><link linkend="sec-item-elem">item</link></code>'s
                    <code><link linkend="attrdef-item-properties">properties</link></code> 
                    attribute.</para>
                
            </section>
        </section>
    </chapter>

    <chapter xml:id="sec-package-metadata">
        <title>Package Metadata</title>

        <section xml:id="sec-package-metadata-identifiers">
            <title>Publication Identifiers</title>

            <section xml:id="sec-opf-metadata-identifiers-uid">
                <title>Unique Identifier</title>

                <para>The Package Document's author is responsible for including a primary
                    identifier that is unique to one and only one particular <xref
                        linkend="gloss-epub-publication"/>. This <xref
                        linkend="gloss-unique-identifier"/>, whether chosen or assigned, must be
                    stored in a <link linkend="sec-opf-dcidentifier"
                            ><literal>dc:identifier</literal> element</link> in the Package
                        metadata and be referenced as the Unique
                        Identifier in the <code><link linkend="elemdef-opf-package">package</link></code> element <link
                        linkend="attrdef-package-unique-identifier"
                            ><literal>unique-identifier</literal> attribute</link>. </para>

                <para>Although not static, changes to the Unique Identifier for a Publication should
                    be made as infrequently as possible. New identifiers should not be issued when
                    updating metadata, fixing errata or making other minor changes to the
                    Publication.</para>

            </section>

            <section xml:id="sec-opf-metadata-identifiers-pid">
                <title>Package Identifier</title>

                <para>The <xref linkend="gloss-unique-identifier"/> of an <xref
                        linkend="gloss-epub-publication"/> typically should not change with each
                    minor revision to the package or its contents, as Unique Identifiers are
                    intended to have maximal persistence both for referencing and distribution
                    purposes. Each release of a Publication normally requires that the new version
                    be uniquely identifiable, however, which results in the contradictory need for
                    reliable Unique Identifiers that are changeable.</para>

                <para>To redress this problem of identifying minor modifications and releases
                    without changing the Unique Identifier, this specification defines the semantics
                    for a Package Identifier, or means of distinguishing and sequentially ordering
                    Publications with the same Unique Identifier. The Package Identifier is not an
                    actual property in the package <literal>metadata</literal> section, but is a
                    value that can be obtained from two required pieces of metadata: the Unique
                    Identifier and the last modification date of the Publication.</para>

                <para>When the taken together, the combined value represents a unique identity that
                    can be used to distinguish any particular version of an EPUB <xref
                        linkend="gloss-manifestation"/> from another. To ensure that a Package
                    Identifier can be constructed, the Publication must include exactly one <xref
                        linkend="refDCTERMS"/>
                    <literal>modified</literal> property containing the last modification date (see
                        <xref linkend="elemdef-opf-meta"/>). The value of this property must be an
                    XML Schema <xref linkend="refXSDDatatypes"/> dateTime conformant date of the
                    form:</para>

                <informalexample>
                    <synopsis>CCYY-MM-DDThh:mm:ssZ</synopsis>
                </informalexample>

                <para>The modification date must be expressed in Coordinated Universal Time (UTC)
                    and must be terminated by the <literal>Z</literal> time zone indicator.</para>

                <para>Although not a part of the package metadata, for referencing and other
                    purposes this specification requires that all string representations of the
                    identifier be constructed using the at sign (<literal>@</literal>) as the
                    separator (i.e., of the form "id<literal>@</literal>date"). Whitespace must not
                    be included when concatenating the strings.</para>

                <informalexample>
                    <para>The following example shows how a Unique Identifier and modification date
                        are combined to form the Package Identifier.</para>
                    <synopsis><xi:include href="examples/publications/package-identifier.xml" parse="text"/></synopsis>
                </informalexample>
                
                <para>Note that it is possible that the separator character may occur in the Unique
                    Identifier, as these identifiers may be any string value. The Package
                    Identifier consequently must be split on the last instance of the
                    at sign when decomposing it into its component parts.</para>
                
                <para>The Package Identifier does not supersede the Unique Identifier, but
                    represents the means by which different versions of the same Publication can be
                    distinguished and identified in distribution channels and by Reading Systems.
                    The sequential, chronological order inherent in the required format of the
                    timestamp also places Publications in order without requiring knowledge of the
                    exact identifier that came before.</para>

                <para>The Package Identifier consequently allows a set of Publications to be
                    inspected to determine if they represent the same version of the same
                    Publication, different versions of a single Publication, or any combination of
                    differing and similar Publications.</para>

                <!-- 
                    <note>
                    <para>Although it is possible in some instances that the most recent version of
                        a Publication may not be the authoritative version, or that parallel
                        branches of the same Publication may exist, production control problems such
                        as these are outside the scope of this specification and should be expressed
                        in other metadata profiles.</para>
                        </note>-->

                <para/>

            </section>
        </section>

        <section xml:id="sec-package-metadata-dcmi-transition">
            <title>Dublin Core Metadata Vocabulary Transition</title>

            <para>This specification represents a shift from using traditional XML-based grammars to
                express Publication metadata to an approach based on a standardized syntax that
                incorporates well-defined terms from external vocabularies. Unlike XML grammars,
                which intrude into host grammars, often require special extensions and require
                learning the new grammar to implement, the new approach represents a more fluid
                means of expressing metadata: a few container elements are now capable of expressing
                the full range of Publication metadata and provide a predictable way to add and
                extend using industry-standard vocabularies.</para>

            <para>Although support for the expression of metadata allows properties from a wide
                variety of vocabularies to be easily incorporated to express and refine information
                about an <xref linkend="gloss-epub-publication"/>, it is not expected that all
                Reading Systems will be able to handle this transition initially. To ensure that
                older Reading Systems that require the presence of the required <xref linkend="refDCMES"/> elements do
                not fail to open new EPUB Publications, this specification represents a
                transitionary stage, incorporating both methods of metadata expression.</para>

            <para>While this specification requires the use of the DCMES <code><link linkend="elemdef-opf-dctitle">title</link></code>,
                <code><link linkend="elemdef-opf-dcidentifier">identifier</link></code> and 
                <code><link linkend="elemdef-opf-dclanguage">language</link></code> elements, their deprecation is
                expected in a future version. Content authors are consequently strongly encouraged
                to begin using the new properties from the <link linkend="refDCTERMS">DCTERMS</link>
                vocabulary, including the properties that supersede the required DCMES elements. The
                        <code><link role="codelink" linkend="attrdef-dcidentifier-prefer"
                        >prefer</link></code> attribute has been added to each DCMES element to
                allow authors to designate the new property that replaces the element during this
                transitionary phase, which also ensures that EPUB Publications created to this
                specification will continue to function when element support is phased out. </para>
        </section>

        <section xml:id="sec-package-metadata-properties">
            <title>Metadata Properties</title>

            <section xml:id="elemdef-opf-meta-overview" conformance="informative">
                <title>Overview</title>

                <para> The following sections enumerate key properties — both defined as part of
                    this specification and by external agencies — that Reading Systems must
                    minimally recognize. It is not intended to be a comprehensive list of
                    vocabularies or properties that can be used to add or annotate package metadata. </para>

                <para>Properties defined by this specification are made available for use in the
                        <link xlink:href="http://www.idpf.org/epub/vocab/package/">EPUB 3 Package
                        Metadata Vocabulary</link>, which is the default vocabulary defined in the
                        <link linkend="attrdef-package-profile">Package Document's metadata
                        profile</link>.</para>

                <note>
                    <para>Property usage examples in the following sections have been drawn from the
                            <link linkend="sec-meta-elem-examples"><code>metadata</code>
                            examples</link> whenever possible. Refer to those examples for fuller
                        context.</para>
                </note>
            </section>

            <section xml:id="sec-meta-property-values">
                <title>Metadata <code>meta</code> Properties</title>

                <section xml:id="elemdef-opf-meta-property-values-dcterms">
                    <title>DCTERMS</title>

                    <para>The <code><link linkend="elemdef-opf-meta">meta</link></code> element 
                        <code><link linkend="attrdef-meta-property">property</link></code> attribute
                        may define any property from DCMI Metadata Terms <xref linkend="refDCTERMS"
                        /> for expressing metadata about the package and its contents.</para>

                    <para> For more information about these properties and their use, please refer
                        to the vocabulary. </para>

                    <para>For specific restrictions and requirements imposed by this specification on
                        the <literal>language</literal> and <literal>modified</literal> properties,
                        refer to <xref linkend="elemdef-opf-dclanguage"/> and <xref
                            linkend="sec-opf-metadata-identifiers-pid"/>, respectively.</para>

                </section>

                <section xml:id="elemdef-opf-meta-property-values-package"
                    xreflabel="Package Properties">
                    <title>Package</title>

                    <para>Package properties define Publication-level metadata. They must not be attached to other 
                        metadata elements or properties (i.e., their parent <xref linkend="elemdef-opf-meta"/> element 
                        must not contain an <literal>about</literal> attribute).</para>
                        
                    <para>The cardinality
                        property in the following tables refers to the number of instances of the
                        property that may be included in the 
                        <code><link linkend="elemdef-opf-metadata">metadata</link></code> element.</para>

                    <para>The following tables detail the available properties.</para>

                    <informaltable xml:id="rdfa-vocab-package">
                        <info role="rdfa-vocab-info">
                            <annotation>
                                <para>Package-level properties</para>
                            </annotation>
                        </info>
                        <tgroup cols="2" xml:id="publication-type">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>publication-type</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc"><para>The
                                            <literal>publication-type</literal> property indicates
                                        that the given Publication is of a specialized type (e.g.,
                                        annotations packaged in EPUB format or a dictionary).</para>
                                        
                                        <para>This
                                        specification does not define values for this property; the
                                        development of specialized Publication types, and the
                                        assignment of formal identifiers to represent them, will
                                        occur independently of this specification.</para></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry><literal>xsd:string</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry><literal>zero or one</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta property="publication-type">dictionary</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="source-identifier" xreflabel="source-identifier">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>source-identifier</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc"><para>The
                                            <literal>source-identifier</literal> property specifies
                                            the <literal>identifier</literal> of the source publication
                                            this <xref linkend="gloss-epub-publication"/> represents.</para>
                                        <para>Refer to <xref linkend="sec-opf-dcidentifier"/> for more
                                            information.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry>
                                        <literal>xsd:string</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry><literal>zero or one</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta property="source-identifier">urn:isbn:9780375704024</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </informaltable>

                </section>

                <section xml:id="elemdef-opf-meta-property-values-ancillary">
                    <title>Ancillary</title>

                    <para>Ancillary properties enhance Publication metadata by providing additional level(s) of detail. </para>

                    <para>Ancillary properties must reference the metadata element or
                        property they augment through the <code><link linkend="attrdef-meta-about">about</link></code> 
                        attribute on their parent <code><link linkend="elemdef-opf-meta">meta</link></code> element.</para>

                    <para>The following tables detail the available properties.</para>

                    <informaltable xml:id="rdfa-vocab-ancillary">
                        <info role="rdfa-vocab-info">
                            <annotation>
                                <para>Ancillary properties</para>
                            </annotation>
                        </info>
                        <tgroup cols="2" xml:id="alternate-script"
                            xreflabel="alternate-script property">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>alternate-script</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc"><para>The
                                            <literal>alternate-script</literal> property provides an
                                            alternate expression of the associated property value in a
                                            language and script identified by the
                                            <literal>xml:lang</literal> attribute.</para>
                                        
                                        <para>This property is
                                            typically attached to <literal>creator</literal> and
                                            <literal>title</literal> properties for
                                            internationalization purposes.</para></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry>
                                        <literal>xsd:string</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry>All properties.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="#creator" property="alternate-script" xml:lang="ja">村上 春樹</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="display-seq">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>display-seq</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">The
                                            <literal>display-seq</literal> property indicates the
                                        numeric position in which to display the current property
                                        relative to identical metadata properties (e.g., to
                                        indicate the order in which to render multiple
                                            <literal>title</literal>s).</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry>
                                        <literal>xsd:unsignedInt</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry>All properties.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="#t2" property="display-seq">1</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="file-as">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>file-as</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">The <literal>file-as</literal>
                                        property provides the normalized form of the associated
                                        property for sorting.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry>
                                        <literal>xsd:string</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry>All properties.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="#creator" property="file-as">Murakami, Haruki</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="group-position">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>group-position</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">
                                        <para>The <literal>group-position</literal> property
                                            indicates the numeric position in which the Publication
                                            is ordered relative to other works belonging to the same
                                            group (whether all EPUBs or not).</para>
                                        <para>The <literal>group-position</literal> property can be
                                            attached to any metadata property that establishes the
                                            group (such as a series title) or can be attached to an
                                                <literal>isPartOf</literal> property <xref
                                                linkend="refDCTERMS"/> whose value defines the
                                            group.</para>
                                        <para>A Publication can belong to more than one
                                            group.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry> A single <code>xsd:unsignedInt</code> or series of
                                        decimal-separated numbers (e.g., <literal>1</literal> or
                                            <literal>2.2.1</literal>). </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry> All properties. </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="#t3" property="group-position">2</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="meta-auth">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>meta-auth</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">The
                                            <literal>meta-auth</literal> property provides the name
                                        of a party or authority responsible for an instance of
                                        package metadata.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry>
                                        <literal>xsd:string</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry>All properties.</entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="isbn-id" property="meta-auth" id="meta-authority-01">Metadata Authority Inc.</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="role">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>role</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">
                                        <para>The <literal>role</literal> property describes the
                                            nature of work performed by a <literal>creator</literal>
                                            or <literal>contributor</literal> (e.g., that
                                            the person is the author or editor of a work).</para>
                                        <para>When the <literal>role</literal> value is drawn from a
                                            code list or other formal enumeration, the
                                                  <literal><link linkend="scheme"
                                                >scheme</link></literal> property should be attached
                                            to identify its source.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry><literal>xsd:string</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry>
                                        <literal>contributor</literal>, <literal>creator</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example">
                                            <![CDATA[<meta about="#creator" property="role" id="role">aut</meta>]]>
                                        </code>
                                        <code role="prop-example">
                                            <![CDATA[<meta about="#role" property="scheme" datatype="xsd:anyURI">http://id.loc.gov/vocabulary/relators</meta>]]>
                                        </code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="scheme">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>scheme</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc">
                                        <para>The <literal>scheme</literal> property identifies the
                                            formal system used to express the value of the
                                            associated property, or the code list or other
                                            identification system from which it is drawn.</para>
                                        <para>The value of the <literal>scheme</literal> property
                                            must be a URI <xref linkend="refRFC3986"/> or string value that identifies the
                                            system. URIs used to identify systems are not required
                                            to resolve to a resource.</para>
                                        <para>Each <code><link linkend="elemdef-opf-meta"
                                                  >meta</link></code> element that defines a
                                                <literal>scheme</literal> must include a <code><link
                                                  linkend="attrdef-meta-datatype"
                                                >datatype</link></code> attribute that identifies
                                            whether its value is a string or URI.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry><literal>xsd:string</literal> |
                                            <literal>xsd:anyURI</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry> All properties. </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example"
                                            ><![CDATA[<meta about="#pub-id" property="scheme" datatype="xsd:string">uuid</meta>]]></code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                        <tgroup cols="2" xml:id="title-type">
                            <colspec colname="c1"/>
                            <colspec colname="c2"/>
                            <spanspec spanname="s1" namest="c1" nameend="c2"/>
                            <tbody>
                                <row>
                                    <entry spanname="s1" role="rdfa-property">
                                        <literal>title-type</literal>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Description:</entry>
                                    <entry role="rdfa-property-desc"><para>The
                                                <literal>title-type</literal> property indicates the
                                            form or nature of a <literal>title</literal>.</para>
                                        <para>When the <literal>title-type</literal> value is drawn
                                            from a code list or other formal enumeration, the
                                                  <literal><link linkend="scheme"
                                                >scheme</link></literal> property should be attached
                                            to identify its source.</para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Allowed value(s):</entry>
                                    <entry><literal>xsd:string</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Extends:</entry>
                                    <entry><literal>title</literal></entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Cardinality:</entry>
                                    <entry role="rdfa-cardinality">
                                        <para>In the metadata section: <code>zero or
                                            more</code></para>
                                        <para>Attached to other metadata: <code>zero or
                                            one</code></para>
                                    </entry>
                                </row>
                                <row>
                                    <entry role="rdfa-property-header">Example:</entry>
                                    <entry>
                                        <code role="prop-example">
                                            <![CDATA[<meta about="#title" property="title-type" id="title-type">01</meta>]]>
                                        </code>
                                        <code role="prop-example">
                                            <![CDATA[<meta about="#title-type" property="scheme" datatype="xsd:anyURI">http://www.editeur.org/ONIX/book/codelists/current.html#codelist15</meta>]]>
                                        </code>
                                    </entry>
                                </row>
                            </tbody>
                        </tgroup>
                    </informaltable>
                </section>
            </section>

            <section xml:id="sec-link-rel-values">
                <title>Metadata <code>link</code> Properties</title>

                <para>The following tables define properties for use in the <code>metadata</code>
                    <code><xref role="codelink" linkend="sec-link-elem"/></code> element <code><xref
                            linkend="attrdef-link-rel"/></code> attribute.
                    <!--
                        These values are defined canonically in the <link linkend="refEPUBPackageVocab"
                        >EPUB 3 Package Metadata Vocabulary</link>. -->
                </para>

                <informaltable xml:id="rdfa-vocab-metarec">
                    <info role="rdfa-vocab-info">
                        <annotation>
                            <para>Metadata record propeties</para>
                        </annotation>
                    </info>

                    <tgroup cols="2" xml:id="marc21xml-record">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>marc21xml-record</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The
                                        <literal>marc21xml-record</literal> property indicates the
                                    referenced resource is a MARC21 record <xref
                                        linkend="refMARC21XML"/>. </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Extends:</entry>
                                <entry>Only applies to the Publication. Must not be used when the
                                            <code><link role="codelink" linkend="attrdef-link-about"
                                            >about</link></code> attribute is present.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Example:</entry>
                                <entry>
                                    <code role="prop-example"
                                        ><![CDATA[<link rel="marc21xml-record" href="pub/meta/nor-wood-marc21.xml"/>]]></code>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>

                    <tgroup cols="2" xml:id="mods-record">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>mods-record</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>mods-record</literal>
                                    property indicates the referenced resource is a MODS record
                                        <xref linkend="refMODS"/>. </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Extends:</entry>
                                <entry>Only applies to the Publication. Must not be used when the
                                            <code><link role="codelink" linkend="attrdef-link-about"
                                            >about</link></code> attribute is present.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Example:</entry>
                                <entry>
                                    <code role="prop-example"
                                        ><![CDATA[<link rel="mods-record" href="pub/meta/nor-wood-mods.xml"/>]]></code>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>

                    <tgroup cols="2" xml:id="onix-record">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>onix-record</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>onix-record</literal>
                                    property indicates the referenced resource is an ONIX record
                                        <xref linkend="refONIX"/>. </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Extends:</entry>
                                <entry>Only applies to the Publication. Must not be used when the
                                            <code><link role="codelink" linkend="attrdef-link-about"
                                            >about</link></code> attribute is present.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Example:</entry>
                                <entry>
                                    <code role="prop-example"
                                        ><![CDATA[<link rel="onix-record" href="pub/meta/nor-wood-onix.xml"/>]]></code>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>

                    <tgroup cols="2" xml:id="xml-signature">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>xml-signature</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">
                                    <para>The <literal>xml-signature</literal> property indicates
                                        the referenced resource contains an XML Signature <xref
                                            linkend="refXMLDSIGCORE"/> for the Publication or
                                        associated property.</para>
                                    <para>The <code>link</code> element's <code>href</code>
                                        attribute typically references a specific
                                            <code>signature</code> element in the Signatures.xml
                                        file <xref linkend="refOCF30"/> via a fragment
                                        identifier.</para>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Extends:</entry>
                                <entry>All properties.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Example:</entry>
                                <entry>
                                    <code role="prop-example"
                                        ><![CDATA[<link about="#meta-authority-01" rel="xml-signature" href="../META-INF/signatures.xml#MAI-Signature"/>]]></code>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>

                    <tgroup cols="2" xml:id="xmp-record">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>xmp-record</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>xmp-record</literal>
                                    property indicates the referenced resource is an XMP record
                                        <xref linkend="refXMP"/>. </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Extends:</entry>
                                <entry>Only applies to the Publication. Must not be used when the
                                            <code><link role="codelink" linkend="attrdef-link-about"
                                            >about</link></code> attribute is present.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Example:</entry>
                                <entry>
                                    <code role="prop-example"
                                        ><![CDATA[<link rel="xmp-record" href="pub/meta/nor-wood-xmp.xml"/>]]></code>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>

                </informaltable>

            </section>

            <section xml:id="sec-item-property-values">
                <title>Manifest <code>item</code> Properties</title>

                <para>The following tables define properties for use in the <code>manifest</code>
                    <code><xref role="codelink" linkend="sec-item-elem"/></code> element <code><xref
                            linkend="attrdef-item-properties"/></code> attribute.</para>

                <para>The <literal>Applies to</literal> field indicates which Publication Resource
                    type(s) the given property may be specified on, the
                        <literal>Cardinality</literal> field indicates the number of times the
                    property must appear within the Package Document scope, and the
                        <literal>Usage</literal> field indicates usage conditions.</para>

                <informaltable xml:id="rdfa-vocab-manifest" xreflabel="cover-image">
                    <info role="rdfa-vocab-info">
                        <annotation>
                            <para>Manifest <code>item</code> metadata properties</para>
                        </annotation>
                    </info>
                    <tgroup cols="2" xml:id="cover-image">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>cover-image</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>cover-image</literal>
                                    property identifies the described Publication Resource as the
                                    cover image for the Publication.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry>All <link linkend="tbl-core-media-types">raster and vector
                                        image types</link></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Optional.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="mathml" xreflabel="mathml">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>mathml</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>mathml</literal>
                                    property indicates that the described Publication Resource
                                    contains one or more instances of MathML markup.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry><xref linkend="gloss-content-document-epub"/>s</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Must be set if and only if the criterion specified in
                                        <code>Description</code> above is met.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="nav" xreflabel="nav">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>nav</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>nav</literal> property
                                    indicates that the described Publication Resource constitutes
                                    the <xref linkend="gloss-content-document-epub-nav"/> of the
                                    Publication.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry>The <xref linkend="gloss-content-document-epub-nav"/>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Exactly one</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Required.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="remote-resources" xreflabel="remote-resources">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>remote-resources</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc"><para>The
                                        <literal>remote-resources</literal> property indicates that
                                        the described Publication Resource contains one or more internal
                                        references to other Publication Resources that are located
                                        outside of the <xref linkend="gloss-container"/>.</para>
                                    <para>(refer to <xref
                                        linkend="sec-resource-locations"/> for more
                                        information).</para></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry>All Publication Resources with the capability of internal
                                    referencing (e.g., <xref
                                        linkend="gloss-content-document-epub-xhtml"/>s, <xref
                                        linkend="gloss-content-document-epub-svg"/>s, <xref
                                        linkend="gloss-stylesheet"/>s and <xref
                                        linkend="gloss-media-overlay-document"/>s).</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Must be set if and only if the criterion specified in
                                        <code>Description</code> above is met.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="scripted" xreflabel="scripted">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>scripted</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>scripted</literal>
                                    property indicates that the described Publication Resource is a
                                        <xref linkend="gloss-content-document-epub-scripted"/>
                                    (i.e., contains scripted content and/or elements from
                                        <code>HTML5 forms</code>).</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry><xref linkend="gloss-content-document-epub"/>s</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Must be set if and only if the criterion specified in
                                        <code>Description</code> above is met.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="svg" xreflabel="svg">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>svg</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>svg</literal> property
                                    indicates that the described Publication Resource contains one
                                    or more instances of SVG markup.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry><xref linkend="gloss-content-document-epub-xhtml"/>s; the
                                    value is implied for <xref
                                        linkend="gloss-content-document-epub-svg"/>s.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Must be set if and only if the criterion specified in
                                        <code>Description</code> above is met.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="switch" xreflabel="switch">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>switch</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The <literal>switch</literal>
                                    property indicates that the described Publication Resource
                                    contains one or more instances of the <code><olink
                                            targetdoc="contentdocs" targetptr="elemdef-switch"
                                            epub:specref-exclude="true" type="epub-spec"/></code>
                                    element.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Applies to:</entry>
                                <entry><xref linkend="gloss-content-document-epub-xhtml"/>s.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Must be set if and only if the criterion specified in
                                        <code>Description</code> above is met.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </informaltable>

                <para xml:id="manifest-item-properties-recursive">The <code>mathml</code>,
                        <code>remote-resources</code>, <code>scripted</code>, <code>svg</code> and
                        <code>switch</code> properties must be specified whenever the resource
                        referenced by an <code>item</code>
                    matches their respective definitions. These properties also must be specified if <emphasis>any 
                    content</emphasis> included in the resource matches their definition (i.e., each layer 
                    of included content must be checked). For example, the <code>scripted</code> property 
                    must be specified on an <code>item</code> element representing a non-scripted XHTML Content
                    Document if it embeds a scripted Content Document, or if it includes a non-scripted Content
                    Document that includes a scripted Content Document, and so on.</para>

                <bridgehead xml:id="examples-item-properties"
                    xreflabel="Manifest item properties examples">Examples</bridgehead>

                <informalexample xml:id="example-item-properties-nav">
                    <para>The following example shows a <code>manifest</code>
                        <code><xref role="codelink" linkend="sec-item-elem"/></code> element that
                        represents the <xref linkend="gloss-content-document-epub-nav"/> of a
                        Publication.</para>
                    <synopsis><xi:include href="./examples/publications/manifest-item-nav.xml" parse="text"/></synopsis>
                </informalexample>

                <informalexample xml:id="example-item-properties-cover-image">
                    <para>The following example shows a <code>manifest</code>
                        <code>item</code> element that represents the cover image of a
                        Publication.</para>
                    <synopsis><xi:include href="./examples/publications/manifest-item-cover-image.xml" parse="text"/></synopsis>
                </informalexample>

                <informalexample xml:id="example-item-properties-scripted-mathml">
                    <para>The following example shows a <code>manifest</code>
                        <code>item</code> element representing a <xref
                            linkend="gloss-content-document-epub-scripted"/> that also contains
                        embedded <code>MathML</code>.</para>
                    <synopsis><xi:include href="./examples/publications/manifest-item-properties-1.xml" parse="text"/></synopsis>
                </informalexample>

            </section>

            <section xml:id="sec-itemref-property-values">
                <title>Spine <code>itemref</code> Properties</title>

                <para>The following tables define properties for use in the <code><xref
                            role="codelink" linkend="sec-itemref-elem"/></code> element <code><xref
                            linkend="attrdef-itemref-property"/></code> attribute.</para>

                <para>The <literal>Cardinality</literal> field indicates the number of times the
                    property must appear within the Package Document scope, and the
                        <literal>Usage</literal> field indicates usage conditions.</para>

                <informaltable xml:id="rdfa-vocab-spine">
                    <info role="rdfa-vocab-info">
                        <annotation>
                            <para>Spine <code>itemref</code> metadata properties</para>
                        </annotation>
                    </info>
                    <tgroup cols="2" xml:id="page-spread-left">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>page-spread-left</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The
                                        <literal>page-spread-left</literal> property indicates that
                                    the first page of the associated <code>item</code>'s <xref
                                        linkend="gloss-content-document-epub"/> represents the
                                    left-hand side of a two-page spread.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Optional. This property must not be specified on an
                                        <code>itemref</code> that also specifies the
                                        <literal>page-spread-right</literal> property.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                    <tgroup cols="2" xml:id="page-spread-right">
                        <colspec colname="c1"/>
                        <colspec colname="c2"/>
                        <spanspec spanname="s1" namest="c1" nameend="c2"/>
                        <tbody>
                            <row>
                                <entry spanname="s1" role="rdfa-property">
                                    <literal>page-spread-right</literal>
                                </entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Description:</entry>
                                <entry role="rdfa-property-desc">The
                                        <literal>page-spread-right</literal> property indicates that
                                    the first page of the associated <code>item</code>'s <xref
                                        linkend="gloss-content-document-epub"/> represents the
                                    right-hand side of a two-page spread.</entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Cardinality:</entry>
                                <entry role="rdfa-cardinality"><code>Zero or more</code></entry>
                            </row>
                            <row>
                                <entry role="rdfa-property-header">Usage:</entry>
                                <entry>Optional. This property must not be specified on an
                                        <code>itemref</code> that also specifies the
                                        <literal>page-spread-left</literal> property.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </informaltable>

                <bridgehead xml:id="examples-itemref-properties"
                    xreflabel="Spine itemref properties examples">Examples</bridgehead>

                <informalexample xml:id="example-itemref-multicol">
                    <para>The following example shows how a two-page spread of a map might be
                        indicated in the <code>spine</code>.</para>
                    <synopsis><xi:include href="./examples/publications/spine-itemref-pagespread.xml" parse="text"/></synopsis>
                </informalexample>

            </section>

        </section>

    </chapter>

    <chapter xml:id="sec-publication-resources">
        <title>Publication Resources</title>

        <section xml:id="sec-core-media-types">
            <title>Core Media Types</title>

            <para>The following table lists the <link linkend="gloss-core-media-type">EPUB 3 Core
                    Media Types</link>. When a <xref
                    linkend="gloss-publication-resource-cmt-or-foreign"/> conforms to a Core Media
                Type specification, it is a <xref linkend="gloss-publication-resource-cmt"/> and can
                be included in the Publication without the provision of fallbacks (refer to <xref
                    linkend="sec-fallback-processing-flow"/> for more information).</para>

            <para>The columns in the table represent the following information:</para>
            <variablelist xml:id="tbl-cmt-expl">
                <varlistentry>
                    <term>Media Type</term>
                    <listitem>
                        <para>The MIME media type <xref linkend="refRFC2046"/> used to represent the
                            given Publication Resource in the <xref linkend="sec-manifest-elem"/>.
                        </para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Content Type Definition</term>
                    <listitem>
                        <para>The specification to which the given <xref
                                linkend="gloss-publication-resource-cmt"/> must conform.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Applies to</term>
                    <listitem>
                        <para>The Publication Resource type(s) that the Media Type and Content Type
                            Definition applies to.</para>
                    </listitem>
                </varlistentry>
            </variablelist>

            <table xml:id="tbl-core-media-types">
                <caption>EPUB Core Media Types</caption>
                <thead>
                    <tr>
                        <th xml:id="tbl-cmt-string">Media Type</th>
                        <th xml:id="tbl-cmt-def">Content Type Definition</th>
                        <th xml:id="tbl-cmt-appl">Applies to</th>
                    </tr>
                </thead>
                <tbody>
                    <tr xml:id="cmt-grp-image" xreflabel="Image Core Media Types">
                        <th colspan="3"> Image Types </th>
                    </tr>
                    <tr xml:id="cmt-gif" xreflabel="image/gif">
                        <td>
                            <literal>image/gif</literal>
                        </td>
                        <td>
                            <xref linkend="refGIF"/>
                        </td>
                        <td headers="tbl-cmt-appl">GIF
                            Images<!-- (typically embedded in <xref
                                linkend="gloss-content-document-epub-xhtml"/>s or <xref
                                linkend="gloss-content-document-epub-svg"/>s).--></td>
                    </tr>

                    <tr xml:id="cmt-jpeg" xreflabel="image/jpeg">
                        <td>
                            <code>image/jpeg</code>
                        </td>
                        <td>
                            <xref linkend="refJPEG"/>
                        </td>
                        <td headers="tbl-cmt-appl">JPEG Images</td>
                    </tr>

                    <tr xml:id="cmt-png" xreflabel="image/png">
                        <td>
                            <code>image/png</code>
                        </td>
                        <td>
                            <xref linkend="refPNG"/>
                        </td>
                        <td headers="tbl-cmt-appl">PNG Images</td>
                    </tr>
                    <tr xml:id="cmt-svg11" xreflabel="image/svg+xml">
                        <td>
                            <code>image/svg+xml</code>
                        </td>
                        <td>
                            <olink type="epub-spec" targetdoc="contentdocs" targetptr="sec-svg"/>
                        </td>
                        <td headers="tbl-cmt-appl">SVG documents</td>
                    </tr>

                    <tr xml:id="cmt-grp-content-documents" xreflabel="Application Core Media Types">
                        <th colspan="3"> Application Types </th>
                    </tr>

                    <tr xml:id="cmt-xhtml" xreflabel="application/xhtml+xml">
                        <td>
                            <code>application/xhtml+xml</code>
                        </td>
                        <td>
                            <olink type="epub-spec" targetdoc="contentdocs" targetptr="sec-xhtml"/>
                        </td>
                        <td headers="tbl-cmt-appl"><xref linkend="gloss-content-document-epub-xhtml"
                            />s and the <xref linkend="gloss-content-document-epub-nav"/>. </td>
                    </tr>
                    <tr xml:id="cmt-ncx" xreflabel="application/x-dtbncx+xml">
                        <td>
                            <code>application/x-dtbncx+xml</code>
                        </td>
                        <td>
                            <xref linkend="refOPF2"/>
                        </td>
                        <td headers="tbl-cmt-appl">The <link linkend="note-ncx">superseded</link>
                            NCX </td>
                    </tr>
                    <tr xml:id="cmt-opentype" xreflabel="application/vnd.ms-opentype">
                        <td>
                            <code>application/vnd.ms-opentype</code>
                        </td>
                        <td>
                            <xref linkend="refOpenType"/>
                        </td>
                        <td headers="tbl-cmt-appl">OpenType fonts</td>
                    </tr>
                    <tr xml:id="cmt-woff" xreflabel="application/font-woff">
                        <td>
                            <code>application/font-woff</code>
                        </td>
                        <td>
                            <xref linkend="refWOFF"/>
                        </td>
                        <td headers="tbl-cmt-appl">WOFF fonts</td>
                    </tr>
                    <tr xml:id="cmt-smil" xreflabel="application/smil+xml">
                        <td>
                            <code>application/smil+xml</code>
                        </td>
                        <td>
                            <xref linkend="refOverlays3"/>
                        </td>
                        <td headers="tbl-cmt-appl">EPUB Media Overlay documents</td>
                    </tr>
                    <tr xml:id="cmt-pls" xreflabel="application/pls+xml">
                        <td>
                            <code>application/pls+xml</code>
                        </td>
                        <td>
                            <xref linkend="refPLS"/>
                        </td>
                        <td headers="tbl-cmt-appl"><xref linkend="gloss-tts"/> Pronunciation
                            lexicons</td>
                    </tr>
                    <tr xml:id="cmt-grp-audio" xreflabel="Audio Core Media Types">
                        <th colspan="3"> Audio Types </th>
                    </tr>
                    <tr xml:id="cmt-mp3" xreflabel="audio/mpeg">
                        <td>
                            <code>audio/mpeg</code></td>
                        <td>
                            <xref linkend="refMP3"/>
                        </td>
                        <td headers="tbl-cmt-appl">MP3 audio</td>
                    </tr>
                    <tr xml:id="cmt-mp4-aac" xreflabel="audio/aac">
                        <td>
                            <code>audio/aac</code>
                        </td>
                        <td>
                            <xref linkend="refAAC"/>
                        </td>
                        <td headers="tbl-cmt-appl">MP4 AAC LC audio</td>
                    </tr>
                    <tr xml:id="cmt-grp-text" xreflabel="Text Core Media Types">
                        <th colspan="3"> Text Types </th>
                    </tr>

                    <tr xml:id="cmt-css" xreflabel="text/css">
                        <td>
                            <code>text/css</code>
                        </td>
                        <td>
                            <olink type="epub-spec" targetdoc="contentdocs" targetptr="sec-css"/>
                        </td>
                        <td headers="tbl-cmt-appl"><xref linkend="gloss-stylesheet"/>s. </td>
                    </tr>
                    <tr xml:id="cmt-js" xreflabel="javascript">
                        <td>
                            <code>text/javascript</code>
                        </td>
                        <td>
                            <xref linkend="refRFC4329"/>
                        </td>
                        <td headers="tbl-cmt-appl">Scripts</td>
                    </tr>


                </tbody>
            </table>
            
            <note><para>This specification does not define any video codecs as Core Media Types. 
                Refer to the <link linkend="note-video-codecs">note in EPUB Publications — Reading 
                    System Conformance</link> above for informative recommendations on
                support for video codecs in EPUB Publications.</para></note> 

        </section>

        <section xml:id="sec-fallback-processing-flow">
            <title>Restrictions and Fallbacks</title>
            
            <section xml:id="sec-foreign-restrictions">
                <title>Foreign Resource Restrictions</title>
                
                <para xml:id="confreq-cmt">All <xref linkend="gloss-publication-resource-cmt-or-foreign"
                />s of an <xref linkend="gloss-epub-publication"/> must be <xref
                    linkend="gloss-publication-resource-cmt"/>s or must provide a Core Media Type
                    fallback. The cases in which <xref linkend="gloss-publication-resource-foreign"/> may 
                    be used, and the requirement and rules for Core Media Type fallback provision in such 
                    cases, are detailed below.</para>
                
                <variablelist role="conformance-list">
                    <varlistentry xml:id="sec-cmt-fallback-cd">
                        <term>Intrinsic Fallback in EPUB Content Documents</term>
                        <listitem>
                            <para xml:id="confreq-resources-cd-fallback">Foreign Resources may be referenced 
                                from EPUB Content Document elements that have explicit intrinsic fallback
                                mechanisms (e.g., the <xref linkend="refHTML5"/> <code><link
                                    xlink:href="http://www.w3.org/TR/html5/Overview.html#the-object-element"
                                    >object</link></code>, <code><link
                                        xlink:href="http://www.w3.org/TR/html5/Overview.html#the-canvas-element"
                                        >canvas</link></code>, <code><link
                                            xlink:href="http://www.w3.org/TR/html5/Overview.html#audio"
                                            >audio</link></code> and <code><link
                                                xlink:href="http://www.w3.org/TR/html5/Overview.html#video"
                                                >video</link></code> elements). A Core Media Type resource must be 
                                provided via the given element's intrinsic fallback mechanism in such cases.</para>
                            
                            <para xml:id="confreq-resources-cd-fallback-video">For the 
                                <xref linkend="refHTML5"/> <code><link
                                    xlink:href="http://www.w3.org/TR/html5/Overview.html#audio"
                                    >video</link></code>
                                element, the image referenced by the <code>poster</code> attribute and 
                                text content embedded within the <code>video</code> element also are considered
                                valid Core Media Type fallbacks in addition to the <code>video</code> element's 
                                intrinsic fallback capabilities. For the purpose of providing a last resort fallback for
                                Reading Systems that do not support video or the given video format(s),
                                at least one of these should be included with each occurrence of the
                                <code>video</code> element.</para>
                            
                            <para xml:id="confreq-resources-cd-fallback-audio">For the 
                                <xref linkend="refHTML5"/> <code><link
                                    xlink:href="http://www.w3.org/TR/html5/Overview.html#audio"
                                    >audio</link></code>
                                element, text content embedded within the element also is considered a 
                                valid Core Media Type fallback in addition to the <code>audio</code> element's 
                                intrinsic fallback capabilities. For the purpose of providing a last resort fallback for
                                Reading Systems that do not support audio, embedded text content should
                                be included with each occurrence of the <code>audio</code>
                                element.</para>
                            
                            <para xml:id="confreq-resources-cd-fallback-track"> In this version of this
                                specification, the <xref linkend="refHTML5"/> <code><link
                                    xlink:href="http://www.w3.org/TR/html5/Overview.html#the-track-element"
                                    >track</link></code>
                                element is exempt from the <link
                                    linkend="confreq-cmt">Core Media Type usage rule</link>: Foreign
                                Resources may be referenced from <code>track</code> without the
                                provision of a Core Media Type fallback.</para>
                            
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="sec-cmt-fallback-css">
                        <term>Intrinsic Fallback in EPUB Style Sheets</term>
                        <listitem>
                            <!-- Reference CSS3 Font rather than CSS2.1 for the definition of font fallback, as instructred by John Daggett. -->
                            <para xml:id="confreq-resources-font-fallback"
                                xreflabel="Embedded Font Intrinsic Fallback">Fonts embedded in Content
                                Documents or EPUB Style Sheets using the <code>@font-face</code>
                                mechanism may be Foreign Resources. Reading Systems must use the <link
                                    xlink:href="http://www.w3.org/TR/css3-fonts/#font-style-matching"
                                    >rules for matching font styles</link>
                                <xref linkend="refCSS3FontsModule"/> when identifying a fallback for an
                                unsupported font type.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="sec-cmt-fallback-spine">
                        <term>Spine Resources</term>
                        <listitem>
                            <para xml:id="confreq-resource-types-spine">Foreign Resources may be 
                                referenced directly from <xref linkend="gloss-spine"/>
                                <code><xref role="codelink" linkend="elemdef-spine-itemref"/></code>
                                elements, and in this case <link
                                    linkend="sec-fallback-processing-flow-manifest">Manifest
                                    fallbacks</link> must be provided.</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </section>

            <section xml:id="sec-fallback-processing-flow-manifest">
                <title>Manifest Fallbacks</title>

                <para>Fallbacks must be provided for each Publication Resource referenced in a
                        <xref linkend="gloss-spine"/>
                    <code><xref role="codelink" linkend="elemdef-spine-itemref"/></code> element
                    that is not an <xref linkend="gloss-content-document-epub"/>.</para>

                <para>Fallbacks are provided using the <code><xref role="codelink"
                            linkend="attrdef-item-fallback"/></code> attribute on the
                        <link linkend="gloss-manifest">manifest</link>
                    <code><xref role="codelink" linkend="elemdef-package-item"/></code> element that
                    represents the Publication Resource. The <code>fallback</code> attribute's IDREF
                        <xref linkend="refXML"/> value must resolve to another <code>item</code> in
                    the <literal>manifest</literal>. This fallback <code>item</code> may itself
                    specify another fallback <code>item</code>, and so on. </para>

                <para>The ordered list of all the ID references that can be reached starting from a
                    given item's <code>fallback</code> attribute represents the <emphasis>fallback
                        chain</emphasis> for that item. The order of the resources in the fallback
                    chain represents the Authors' preferred fallback order.</para>

                <para>A Reading System that does not support the Media Type of a given Publication
                    Resource must traverse the fallback chain until it has identified at least one
                    supported Publication Resource to be used in place of the unsupported resource.
                    If the Reading System supports multiple Publication Resources in the fallback
                    chain, it may select the resource to use based on specific <link
                        linkend="attrdef-item-properties">properties</link> of that resource, otherwise
                    it should honor the Authors' preferred fallback order.</para>

                <para>A fallback chain must contain at least one <xref
                        linkend="gloss-content-document-epub"/> and must not contain any circular-
                    or self-references to <code>item</code>s in the chain.</para>

                <para>Fallbacks may also be provided for <xref linkend="gloss-content-document-top-level"/>s that are EPUB
                    Content Documents; a Reading System may choose to utilize such fallbacks in
                    order to find the optimal version of a Content Document to render in a given
                    context. An example of when this feature can be utilized is when providing
                        <olink type="epub-spec" targetdoc="contentdocs"
                        targetptr="confreq-cd-scripted-flbk">fallbacks for scripted
                    content</olink>.</para>

            </section>

        </section>

        <section xml:id="sec-resource-locations">
            <title>Publication Resource Locations</title>

            <para>All <xref linkend="gloss-publication-resource-cmt-or-foreign"/>s must be located
                in the <xref linkend="gloss-container"/>, with the following exceptions:</para>

            <itemizedlist role="conformance-list">
                <listitem xml:id="sec-resource-locations-audio">
                    <para><link linkend="cmt-grp-audio">Audio resources</link> may be located in the
                        Container or remotely.</para>
                </listitem>
                <listitem xml:id="sec-resource-locations-video">
                    <para>Video resources may be located in the Container or remotely.</para>
                </listitem>
            </itemizedlist>

            <para>Authors should prefer locating audio and video resources in the Container to allow
                the user access to the entire presentation regardless of connectivity status.</para>

            <note>
                <para>The above rules for Publication Resource locations apply regardless of whether
                    the given resource is a <xref linkend="gloss-publication-resource-cmt"/> or a
                        <xref linkend="gloss-publication-resource-foreign"/>.</para>
            </note>

            <note>
                <para>The inclusion of remote resources in an <xref linkend="gloss-epub-publication"
                    /> is indicated via the <literal><xref role="codelink"
                            linkend="remote-resources"/></literal> property on the <xref
                        linkend="gloss-manifest"/>
                    <code><xref role="codelink" linkend="sec-item-elem"/></code> element.</para>
            </note>

        </section>

        <section xml:id="sec-xml-constraints">
            <title>XML Conformance</title>

            <para>Any <xref linkend="gloss-publication-resource-cmt-or-foreign"/> which is an
                XML-Based Media Type must meet the following constraints:</para>

            <itemizedlist role="conformance-list">
                <listitem>
                    <para xml:id="confreq-xml-wellformed"> It must be a conformant XML 1.0 Document
                        as defined in <link
                            xlink:href="http://www.w3.org/TR/REC-xml-names/#Conformance">Conformance
                            of Documents</link>
                        <xref linkend="refXMLNamespaces"/>.
                        <!-- It must be
                            a <link xlink:href="http://www.w3.org/TR/xml/#sec-well-formed">well-formed XML Document</link>
                            <xref linkend="refXML"/>.-->
                    </para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-xml-extmarkupdecl">
                        <link xlink:href="http://www.w3.org/TR/2008/PER-xml-20080205/#NT-ExternalID"
                            >External identifiers</link> must not appear in the document type
                        declaration <xref linkend="refXML"/>. </para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-xml-xinc"> It must not make use of XInclude <xref
                            linkend="refXInclude"/>.
                        <!-- note: troublesome to say "include elements in the xinclude namespace" in this case, since xinclude happens in a pre stage -->
                    </para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-xml-enc">
                        <phrase xmlns="http://docbook.org/ns/docbook"
                            xmlns:xlink="http://www.w3.org/1999/xlink">It must be encoded in UTF-8
                            or UTF-16 <xref linkend="refUnicode5"/>.</phrase>
                    </para>
                </listitem>
            </itemizedlist>

            <para>The above constraints apply regardless of whether the given Publication Resource
                is a <xref linkend="gloss-publication-resource-cmt"/> or a <xref
                    linkend="gloss-publication-resource-foreign"/>. </para>

        </section>

    </chapter>

    <appendix xml:id="app-package-schema">
        <title>Package Document Schema</title>
        <para>The schema for Package Documents is available at <link
                xlink:href="../schema/package-30.nvdl"
                >http://www.idpf.org/epub/30/schema/package-30.nvdl</link>.</para>
        <para>This schema is normative. <!-- In case of conflicts between the specification prose and
            this schema, the schema shall be considered definitive. --> </para>

        <xi:include href="./share/schemas-not-done.xml"/>

        <xi:include href="./share/schema-usage.xml"/>

    </appendix>

    <xi:include href="./share/contributors.xml"/>

    <xi:include href="./share/references.xml"/>

    <appendix xml:id="DUMMY_REMOVE">
        <!-- a dummy that is removed by the build -->
        <title>THIS SECTION SHOULD NOT BE IN THE BUILD</title>
        <para xml:id="sec-css"/>
        <para xml:id="sec-contentdocs"/>
        <para xml:id="physical-container-zip"/>
        <para xml:id="sec-xhtml"/>
        <para xml:id="sec-svg"/>
        <para xml:id="sec-xhtml-nav-content-conf"/>
        <para xml:id="sec-xhtml-nav"/>
        <para xml:id="sec-scripted-content"/>
    </appendix>
</book>
