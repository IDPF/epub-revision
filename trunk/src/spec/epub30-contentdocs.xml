<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="../../util/docbook/schema/docbookspec.rng" type="xml"?>
<?oxygen SCHSchema="../../util/docbook/schema/docbookspec.sch"?>
<?oxygen SCHSchema="../../util/docbook/schema/docbook.sch"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:epub="http://www.idpf.org/2011/epub" xmlns:xi="http://www.w3.org/2001/XInclude"
    version="5.1">
    <title>EPUB Content Documents 3.0</title>

    <info>
        <releaseinfo>Editors Draft</releaseinfo>
        <pubdate>16 December 2010</pubdate>

        <printhistory>
            <formalpara>
                <title>This version</title>
                <para><link xlink:href="www.idpf.org/specs/TODO"/></para>
            </formalpara>
            <formalpara>
                <title>Previous version</title>
                <para><link xlink:href="www.idpf.org/specs/TODO"/></para>
            </formalpara>
            <formalpara>
                <title>Diffs to previous version</title>
                <para><link xlink:href="www.idpf.org/specs/TODO"/></para>
            </formalpara>
        </printhistory>
        <xi:include href="./share/copyright.xml"/>
        <xi:include href="./share/legalnotice.xml"/>
        <authorgroup role="current">
            <editor>
                <personname>Markus Gylling</personname>
                <affiliation>
                    <org>
                        <orgname>DAISY Consortium</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname>William McCoy</personname>
                <affiliation>
                    <org>
                        <orgname>WebPaper LLC</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname>Elika Etemad</personname>
                <affiliation>
                    <org>
                        <orgname>Invited Expert</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname><remark role="todo">TBD - additional editors</remark></personname>
            </editor>
        </authorgroup>

        <authorgroup role="previous">
            <editor>
                <personname>Garth Conboy</personname>
                <affiliation>
                    <org>
                        <orgname>eBook Technologies</orgname>
                    </org>
                </affiliation>
            </editor>
            <editor>
                <personname><remark role="todo">TBD - additional editors</remark></personname>
            </editor>
        </authorgroup>

        <!-- <abstract>
            <title>Open Publication Structure 3.0</title>
            <para>EPUB Content Documents 3.0 specifies a usage of XHTML, SVG and CSS optimized for
                representation of structured, composable, and accessible documents. EPUB Content
                Documents 3.0 is one of a family of related specifications that comprise EPUB3. The
                EPUB3 Overview describes the overall state of EPUB3 and should be read before other
                EPUB3 documents. </para>
        </abstract> -->

    </info>

    <chapter xml:id="sec-overview">
        <title>Overview</title>

        <section xml:id="sec-overview-purpose-and-scope">
            <title>Purpose and Scope</title>

            <para>This specification, EPUB Content Documents 3.0, defines profiles of XHTML, SVG,
                and CSS for use in the context of <xref linkend="gloss-epub-publication"/>s.</para>

            <xi:include href="./share/specdesc-prepara.xml"/>
            <itemizedlist xml:id="epub-specs-listing">
                <xi:include href="./share/specdesc-overview.xml"/>
                <xi:include href="./share/specdesc-publications.xml"/>
                <xi:include href="./share/specdesc-ocf.xml"/>
                <xi:include href="./share/specdesc-overlays.xml"/>
            </itemizedlist>

            <para>This specification supersedes Open Publication Structure (OPS) 2.0.1 <xref
                    linkend="refOPS2"/>. Refer to <xref linkend="refEPUB3Changes"/> for information
                on differences between this specification and its predecessor.</para>

        </section>

        <section xml:id="sec-overview-relations" conformance="informative">

            <title>Relationship to Other Specifications</title>

            <section xml:id="sec-overview-relations-html">
                <title>Relationship to HTML5</title>

                <para>The <link linkend="sec-xhtml">XHTML document type defined by this
                        specification</link> is based on W3C HTML5. Unless otherwise specified, this
                    specification inherits all definitions of semantics, structure and behaviors of
                    the elements and attributes in the W3C HTML5 vocabulary from the HTML5
                    specification. <xref linkend="refHTML5"/></para>

                <para>In addition, this specification <link linkend="sec-xhtml-additions">defines a
                        set of extensions</link> to the W3C HTML5 document model. Inclusion of these
                    features in XHTML Content Documents is optional.</para>

                <para>This specification defines a simplified processing model that does not require
                    Reading Systems to support scripting, HTML forms or the HTML DOM.</para>

                <note>
                    <para><xref linkend="gloss-epub-reading-system"/>s conformant with this
                        specification are only required to be able to process a conforming <xref
                            linkend="gloss-content-document-epub"/>. As <link
                            linkend="sec-scripted-content-rs-reqs">support for scripting and HTML
                                forms</link> are optional Reading System features, a conformant Reading
                        System may not be a fully-conformant HTML5 User Agent (i.e., it may not
                        implement the complete HTML5 processing model).</para>
                </note>

            </section>

            <section xml:id="sec-overview-relations-svg">
                <title>Relationship to SVG</title>

                <para>This specification defines <link linkend="sec-svg">a restricted subset of SVG
                        1.1</link> to represent vector graphics inline in <xref
                        linkend="gloss-content-document-epub-xhtml"/>s and as standalone <xref
                        linkend="gloss-content-document-epub-svg"/>s. </para>
            </section>

            <section xml:id="sec-overview-relations-css">
                <title>Relationship to CSS</title>
                <para>The <link linkend="sec-css">CSS profile</link> defined in this specification
                    has CSS 2.1 <xref linkend="refCSS21"/> as its baseline. Any CSS Style Sheet that
                    conforms to CSS 2.1 may be used in the context of an EPUB Publication, except as
                    noted in <xref linkend="sec-css-2.1"/>.</para>
                <para>This specification also incorporates features defined by CSS3 Modules and
                    introduces EPUB-specific CSS constructs.</para>
            </section>

            <section xml:id="sec-overview-versioning">
                <title>EPUB3 Versioning Strategy</title>
                <!-- TODO this may go to Publications, and should be reffed from overview -->
                <para xml:id="sec-overview-versionining"> EPUB3 references W3C specifications are
                    not yet final, and incompatible changes to them may occur in the future that
                    would cause EPUB3 Content Documents that were previously conformant to no longer
                    be conformant to the latest versions of the referenced specifications.</para>
                <para>The IDPF anticipates revising the EPUB3 specifications if and when such
                    incompatible changes occur, updating the referenced HTML5 schema as necessary
                    and incrementing the minor version number of EPUB3 (e.g. publishing an EPUB
                    3.0.x). </para>
            </section>

        </section>

        <xi:include href="./share/terminology.xml"/>

        <section xml:id="sec-overview-conformance">
            <title>Conformance</title>
            <xi:include href="./share/conformancestatements.xml"/>
        </section>

    </chapter>

    <chapter xml:id="sec-contentdocs">

        <title>EPUB Content Documents</title>

        <!-- Matt: skip this for now: -->
        <!-- <section xml:id="sec-contentdocs-doctypes">
            <title>Content Document Types</title>
            <section xml:id="sec-contentdocs-doctypes-overview">
                <title>Overview</title> 
                <para>This section defines two <xref linkend="gloss-content-document-epub"/>
                    types:</para>                
                <itemizedlist>
                    <listitem>
                        <para><remark role="todo">TODO: add descriptions and possibly elaborate this to a fuller
                            section</remark><xref linkend="sec-xhtml"/> &#8212; which ...; and</para>
                    </listitem>
                    <listitem>
                        <para><xref linkend="sec-svg"/> &#8212; which ... .</para>
                    </listitem>
                </itemizedlist>                
                </section>
            </section> 
        -->

        <!--
        <section xml:id="sec-cs-conf-pub">
            <title>EPUB Content Documents Publication Conformance</title>

            <para>A conformant <xref linkend="gloss-epub-publication"/> must meet all of the
                following criteria for inclusion of <xref linkend="gloss-content-document-epub"
                />:</para>

            <itemizedlist role="conformance-list">
                <listitem>  
                    <para xml:id="confreq-pls-pub-card">A Publication must include at least one
                        EPUB Content Document</para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-xhtml-pub-cont">Any included XHTML Content Document must
                        meet the content conformance criteria defined in <xref
                            linkend="sec-xhtml-conf-content"/></para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-xhtml-pub-manif">All included EPUB Content Documents must
                        be represented and located as defined in <olink type="epub-spec"
                            targetdoc="publications" targetptr="sec-epub-content-conf"/></para>
                </listitem>
            </itemizedlist>
        </section> 
        -->

        <section xml:id="sec-xhtml">
            <title>XHTML Content Documents</title>

            <para>This section defines a profile for XHTML5 <xref linkend="refHTML5"/>. An instance
                of an XML document that conforms to this profile is a <xref
                    linkend="gloss-core-media-type"/> and is referred to in this specification and
                its <link linkend="sibling-specs">sibling specfications</link> as an <xref
                    linkend="gloss-content-document-epub-xhtml"/>.</para>

            <caution xml:id="caution-html5">
                <para>The EPUB3 XHTML Content Document definition references features in the W3C
                    HTML5 specification that are still works in progress and may change in
                    incompatible ways. When utilizing such features, authors should consider the
                    inherent risks in terms of the potential impact on interoperability and document
                    longevity.</para>
            </caution>

            <section xml:id="sec-xhtml-conf-content">
                <title>XHTML Content Documents Content Conformance</title>
                <para>An <xref linkend="gloss-content-document-epub-xhtml"/> must meet all of the
                    following criteria:</para>
                <variablelist role="conformance-list" xml:id="confreq-cd-xhtml">
                    <varlistentry xml:id="confreq-cd-xhtml-docprops">
                        <term>Document Properties</term>
                        <listitem>
                            <para xml:id="confreq-cd-xhtml-xml">
                                <xi:include href="./share/xml-defref.xml"/>
                            </para>
                            <!--
                            <para xml:id="confreq-cd-xhtml-docprops-xml">
                                <xi:include href="./share/xml-wellformed.xml"/>
                            </para>

                            <para xml:id="confreq-cd-xhtml-docprops-extmarkupdecl">
                                <xi:include href="./share/xml-extmarkupdecl.xml"/>
                            </para>

                            <para xml:id="confreq-cd-xhtml-docprops-xinc">
                                <xi:include href="./share/xml-xinc.xml"/>
                            </para>

                            <para xml:id="confreq-cd-xhtml-enc">
                                <xi:include href="./share/xml-enc.xml"/>
                            </para>
                            -->

                            <para xml:id="confreq-cd-xhtml-docprops-schema">It must be valid to the
                                XHTML Content Document schema as defined in <xref
                                    linkend="app-xhtml-schema"/>.
                            </para>

                            <para xml:id="confreq-cd-xhtml-docprops-html5">For all document
                                constructs used that are defined by <xref linkend="refHTML5"/>, it
                                must conform to the conformance criteria defined for those
                                constructs in that specification, unless explicitly overridden in
                                    <xref linkend="sec-xhtml-deviations"/>.</para>

                            <para xml:id="confreq-cd-xhtml-docprops-def">It must conform to all
                                content conformance constraints defined in <xref
                                    linkend="sec-xhtml-additions"
                                />.<!-- and <xref
                                    linkend="sec-xhtml-deviations"/>-->
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="confreq-cd-xhtml-fileprops">
                        <term>File Properties</term>
                        <listitem>
                            <para xml:id="confreq-cd-xhtml-fileprops-name">The XHTML Content
                                Document filename should use the file extension
                                    <filename>.xhtml</filename>.</para>
                        </listitem>
                    </varlistentry>
                    <!-- this is a section down in constraints instead, not sure how to best distribute these
                    <varlistentry>
                        <term>Unicode Properties</term>
                        <listitem>
                            <para xml:id="confreq-xhtml-unicode-pua">Any included characters that
                                map to a code point within one of the Private Use Area (PUA) ranges
                                as defined in <xref linkend="refUnicode5"/> must occur within a
                                string that is styled or attributed in a manner that includes a
                                reference to an <link linkend="sec-css-fonts">embedded font</link>
                                that contains an appropriate glyph for that code point.</para>
                            <para xml:id="confreq-xhtml-unicode-bidi">The marks used for
                                bidirectional text control (<literal>U+200E</literal>,
                                    <literal>U+200F</literal>, <literal>U+202A</literal>,
                                    <literal>U+202B</literal>, <literal>U+202C</literal>,
                                    <literal>U+202D</literal> and <literal>U+202E</literal>
                                <xref linkend="refUnicode5"/>) should not be included. Authors
                                should use appropriate XHTML markup to express directionality
                                information instead.</para>
                        </listitem>
                    </varlistentry>
                    -->
                    <!-- this is a section down in constraints instead, not sure how to best distribute these
                    <varlistentry xml:id="confreq-cd-xhtml-refprops">
                        <term>Reference Properties</term>
                        <listitem>
                            <para xml:id="confreq-cd-xhtml-refprops-iframe"
                                xreflabel="iframe src type restriction">Only XHTML Content Documents
                                must be referenced via the HTML <code>iframe</code> element
                                    <code>src</code> attribute. </para>                            
                        </listitem>
                    </varlistentry>
                    -->
                </variablelist>
                <note xml:id="note-cd-xhtml-refprops-pkg">
                    <!-- note similar statement for xhtml, svg and css-->
                    <para>All <xref linkend="gloss-publication-resource-cmt-or-foreign"/>s
                        referenced from an XHTML Content Document must conform to the constraints
                        for Publication Resources defined in <olink type="epub-spec"
                            targetdoc="publications" targetptr="sec-epub-content-conf"/></para>
                </note>
            </section>

            <section xml:id="sec-xhtml-conf-rs">
                <title>XHTML Content Documents Reading System Conformance</title>

                <para>A conformant <xref linkend="gloss-epub-reading-system"/> must meet all of the
                    following criteria for processing <xref
                        linkend="gloss-content-document-epub-xhtml"/>s:</para>

                <itemizedlist role="conformance-list" xml:id="xhtml-rs-confreqs">
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-support">It must support XHTML Content
                            Documents.</para>
                    </listitem>
                    <listitem>
                        <!-- todo below: overridden really refers to the deviations and extensions sections-->
                        <para xml:id="confreq-xhtml-rs-behavior">Unless explicitly defined by this
                            specification or its <link linkend="sibling-specs">sibling
                                specifications</link> as overriden, it must process XHTML Content
                            Documents using semantics defined by the HTML5 specification <xref
                                linkend="refHTML5"/>, and honor any applicable User Agent
                            conformance constraints expressed therein.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-behavior-add">It must meet all Reading System
                            conformance criteria defined in <xref linkend="sec-xhtml-additions"
                            />.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-behavior-restr">It must recognize and adapt
                            behaviorally to the constraints defined in <xref
                                linkend="sec-xhtml-deviations"/>.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-scrpt">It must meet the Reading System
                            conformance criteria defined in <xref
                                linkend="sec-scripted-content-rs-reqs"/>.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-css">It must support visual rendering of
                            XHTML Content Documents as defined in <xref linkend="sec-css-rs-conf"
                            />.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-xhtml-rs-a11y">It should recognize embedded ARIA
                            markup and support exposure of any given ARIA roles, states and
                            properties to platform accessibility APIs <xref linkend="refARIA"/>.
                        </para>
                    </listitem>
                </itemizedlist>
            </section>

            <section xml:id="sec-xhtml-additions">
                <title>XHTML5 Extensions and Enhancements</title>

                <para>This section defines EPUB3 <xref linkend="gloss-content-document-epub-xhtml"/>
                    extensions to the underlying XHTML5 document model.</para>

                <!-- TODO make sure this is not needed
                <para>All elements defined in this section are in the
                        <literal>http://www.idpf.org/2011/epub</literal> namespace unless otherwise
                    specified. For convenience, the prefix <literal>epub</literal> is used within
                    this section to identify this namespace URI. </para>
                -->

                <xi:include href="./sections/epub30-contentdocs-inflection.xml"/>
                
                <section xml:id="sec-xhtml-ssml-attrib">
                    <title>SSML Attributes</title>
                    <!-- TODO reading system reqs -->
                    <section xml:id="sec-cd-ssml-intro">
                        <title>Overview</title>

                        <para>The W3C Speech Synthesis Markup Langauge <xref linkend="refSSML"/> is
                            a language used for assisting <xref linkend="gloss-tts"/> engines in
                            generating syntethic speech. While SSML is a language designed as a
                            standalone document type, it also defines semantics suitable for use
                            within other host languauges.</para>

                        <para>This specification recasts the <link
                                xlink:href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10">SSML
                                1.1 <code>phoneme</code> element</link> as two attributes
                                (<code>ssml:ph</code> and <code>ssml:alphabet</code>), and makes
                            them available within EPUB XHTML Documents.</para>

                        <para><remark role="todo">NOTE: discussions with SSML WG on reuse of
                                namespace is ongoing</remark></para>

                        <xi:include href="./share/note-tts-features.xml"/>

                    </section>

                    <section xml:id="sec-cd-ssml-ph-attrib">
                        <title>The <code>ssml:ph</code> attribute</title>

                        <para>The <code>ssml:ph</code> attribute specifies a phonemic/phonetic
                            pronunciation for the text contained within the element on which the
                            attribute appears.</para>

                        <variablelist xreflabel="ssml:ph" role="elem-synopsis"
                            xml:id="attrdef-ssml-ph">
                            <varlistentry>
                                <term>Attribute Name</term>
                                <listitem>
                                    <para><literal>ph</literal></para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Attribute Namespace</term>
                                <listitem>
                                    <para><literal>http://www.w3.org/2001/10/synthesis</literal></para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Usage</term>
                                <listitem>
                                    <para>May be specified on all elements that have text node
                                        descendants, but must not be specified on a descendant of an
                                        element that also carries this attribute.</para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Value</term>
                                <listitem>
                                    <para>A phonemic/phonetic expression, syntactically valid with
                                        respect to <link linkend="sec-cd-ssml-alphabet-attrib">the
                                            phonemic/phonetic alphabet being used</link>.</para>
                                </listitem>
                            </varlistentry>
                        </variablelist>

                        <para>This attribute inherits all the semantics of the SSML 1.1 <xref linkend="refSSML"/>
                            <code>phoneme</code> element's 
                            <link xlink:href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10">
                            <code>ph</code> attribute</link>, with the following addition:</para>

                        <itemizedlist role="conformance-list">
                            <listitem>
                                <para xml:id="ssml-ph-concat">The document text represented by the
                                        <code>ssml:ph</code> attribute is the string that results
                                    from concatenating the data of all the descendant text nodes of
                                    the carrying element in document order.</para>
                            </listitem>
                        </itemizedlist>
                    </section>

                    <section xml:id="sec-cd-ssml-alphabet-attrib">
                        <title>The <code>ssml:alphabet</code> attribute</title>

                        <para>The <code>ssml:alphabet</code> attribute specifies which
                            phonemic/phonetic pronunciation alphabet used in the value of the <xref
                                linkend="attrdef-ssml-ph"/> attribute.</para>

                        <variablelist xreflabel="ssml:alphabet" role="elem-synopsis"
                            xml:id="attrdef-ssml-alphabet">
                            <varlistentry>
                                <term>Attribute Name</term>
                                <listitem>
                                    <para><literal>alphabet</literal></para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Attribute Namespace</term>
                                <listitem>
                                    <para><literal>http://www.w3.org/2001/10/synthesis</literal></para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Usage</term>
                                <listitem>
                                    <para>May be specified on the <code>html</code> element.</para>
                                </listitem>
                            </varlistentry>
                            <varlistentry>
                                <term>Value</term>
                                <listitem>
                                    <para><literal>ipa</literal> |
                                        <literal>x-SAMPA</literal></para>
                                </listitem>
                            </varlistentry>
                        </variablelist>

                        <para>This attribute inherits all the semantics of the SSML 1.1 <xref linkend="refSSML"/>
                            <code>phoneme</code> element's 
                            <link xlink:href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10">
                                <code>alphabet</code> attribute</link>.</para>

                        <para>This specification restricts the allowed phonemic/phonetic
                            pronunciation alphabets to <literal>ipa</literal>, as defined in <xref
                                linkend="refSSML"/>, and <literal>x-SAMPA</literal>, as defined at
                                <xref linkend="refXSAMPA"/>. </para>

                        <para>If the <code>ssml:alphabet</code> attribute is omitted from an 
                            <xref linkend="gloss-content-document-epub"/> instance, the default value <literal>ipa</literal>
                            must be assumed for the document.</para>

                        <para>Reading Systems that support the 
                            <link linkend="sec-xhtml-ssml-attrib">SSML Attributes</link> feature of this
                            specification must support the <literal>ipa</literal> alpahbet. Support for
                            the <literal>x-SAMPA</literal> alphabet is optional.</para>

                    </section>

                </section>
                <section xml:id="sec-xhtml-epub-trigger">
                    <title>The <literal>epub:trigger</literal> Element</title>
                    <para>The <code>trigger</code> element enables the creation of markup-defined
                        user interfaces for controlling multimedia objects, such as audio and video playback,
                        in both scripted and non-scripted contexts.</para>
                    <variablelist xreflabel="spine" role="elem-synopsis" xml:id="elemdef-opf-spine">
                        <varlistentry>
                            <term>Element name</term>
                            <listitem>
                                <para><literal>trigger</literal></para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Usage</term>
                            <listitem>
                                <para>As a child of <code>head</code>. Repeatable.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Attributes</term>
                            <listitem>
                                <variablelist role="elem-synopsis-attlist">
                                    <varlistentry xml:id="attrdef-trigger-id">
                                        <term><literal>id</literal>
                                            <option>[optional]</option></term>
                                        <listitem>
                                            <xi:include href="./share/id-prose-para.xml"/>
                                        </listitem>
                                    </varlistentry>
                                    <varlistentry xml:id="attrdef-trigger-action">
                                        <term><literal>action</literal>
                                            <option>[required]</option></term>
                                        <listitem>
                                            <para>The action to perform for this event.</para>
                                            <para>Allowed values:
                                                  <code>show</code> | <code>hide</code> | <code>play</code> |
                                                <code>pause</code> | <code>resume</code> | <code>mute</code> |
                                                <code>unmute</code>
                                            </para>
                                        </listitem>
                                    </varlistentry>
                                    <varlistentry xml:id="attrdef-trigger-ref">
                                        <term><literal>ref</literal>
                                            <option>[required]</option></term>
                                        <listitem>
                                            <para>A relative URL <xref linkend="refRFC1738"/> to the element 
                                                which is the object of the action (#id form).</para>
                                        </listitem>
                                    </varlistentry>
                                    <varlistentry xml:id="attrdef-trigger-event">
                                        <term><literal>ev:event</literal>
                                            <option>[required]</option></term>
                                        <listitem>
                                            <para>The applicable event for this trigger, as defined in
                                                <xref linkend="refEVENTS"/>.</para>
                                        </listitem>
                                    </varlistentry>
                                    <varlistentry xml:id="attrdef-trigger-observer">
                                        <term><literal>ev:observer</literal>
                                            <option>[required]</option></term>
                                        <listitem>
                                            <para>The source object for this trigger,
                                                as defined in <xref linkend="refEVENTS"/>.</para>
                                        </listitem>
                                    </varlistentry>
                                </variablelist>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Content Model</term>
                            <listitem>
                                <para>Empty.</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                    
                    <para>The <code>trigger</code> element associates an <code>event</code> from a
                        specified source object (<code>observer</code>) with a desired action to be
                        performed with a specified target object (<code>ref</code>).</para>
                    
                    <para>The semantics of
                        the defined <code>action</code> values are:</para>
                    
                    <itemizedlist>
                            <listitem>
                                <para><literal>show</literal> — set the element's visibility property
                                    to visible.</para>
                            </listitem>
                            <listitem>
                                <para><literal>hide</literal> — set the element's visibility property
                                    to hidden.</para>
                            </listitem>
                            <listitem>
                                <para><literal>play</literal> — play the associated resource from the beginning (only
                                    applicable to video or audio elements).</para>
                            </listitem>
                            <listitem>
                                <para><literal>pause</literal> — pause playing (only applicable to
                                    video or audio elements).</para>
                            </listitem>
                            <listitem>
                                <para><literal>resume</literal> — resume playing (only applicable to
                                    video or audio elements).</para>
                            </listitem>
                            <listitem>
                                <para><literal>mute</literal> — mute sound (only applicable to video
                                    or audio elements).</para>
                            </listitem>
                            <listitem>
                                <para><literal>unmute</literal> — unmute sound (only applicable to
                                    video or audio elements).</para>
                            </listitem>
                        </itemizedlist>

                    <para><remark role="todo">TODO: example - image button controlling video
                            pause/resume</remark></para>

                    <para>Reading Systems that support video or audio playback must support the
                            <code>epub:trigger</code> element.</para>
                </section>
                <section xml:id="sec-xhtml-alternate-style-tags">
                    <title>Alternate Style Tags</title>
                    <para>In accordance with <xref linkend="refAlternateStyleTags"/> , the
                        <literal>link</literal> element <literal>class</literal> attribute
                        may include any of the following values: <literal>horizontal</literal>,
                            <literal>vertical</literal>, <literal>day</literal>, and
                        <literal>night</literal>.  These values inherit the semantics
                        defined by that specification for their use.</para>
                    <para>Reading Systems should select and utilize such tagged style sets as
                        appropriate, and as described in that specification.</para>
                </section>
            </section>

            <section xml:id="sec-xhtml-deviations">
                <title>XHTML5 Deviations and Constraints</title>

                <para>This section defines deviations and/or constraints in EPUB3 <xref
                        linkend="gloss-content-document-epub-xhtml"/>s to the underlying XHTML5
                    document model.</para>

                <xi:include href="./sections/epub30-contentdocs-sec-xhtml-mathml.xml"/>

                <section xml:id="sec-xhtml-svg">
                    <title>Embedded SVG</title>
                    <!-- http://www.w3.org/TR/html5/the-map-element.html#svg-0 -->

                    <para><xref linkend="gloss-content-document-epub-xhtml"/>s support the embedding of SVG <emphasis>by
                            reference</emphasis> (embedding via reference from e.g. an
                            <code>img</code> or <code>object</code> element) and <emphasis>by
                            inclusion</emphasis> (embedding via direct inclusion of the
                            <code>svg</code> element in the XHTML Content Document) <xref
                            linkend="refSVG"/>.</para>

                    <para>The content conformance constraints for SVG embedded in XHTML Content
                        Documents are the same as defined for <xref
                            linkend="gloss-content-document-epub-svg"/>s in <xref
                            linkend="sec-svg-restrictions"/>.</para>

                    <para>Reading Systems must process SVG embedded in XHTML Content Documents as
                        defined in <xref linkend="sec-svg-rs-conf"/>.</para>

                    <note>
                        <para>The <property><olink type="epub-spec" targetdoc="publications"
                                    targetptr="propdef-svg"/></property> property of the <xref
                                linkend="gloss-manifest"/>
                            <code>item</code> element indicates that an XHTML Content Document
                            contains embedded SVG.</para>
                    </note>

                    <note>
                        <para>This section defines conformance requirements for SVG embedded in
                            XHTML Content Documents. Refer to <xref linkend="sec-svg"/> for
                            conformance requirements for SVG as an EPUB Content Document.</para>
                    </note>

                    <section xml:id="sec-xhtml-svg-css">
                        <title>Embedded SVG and CSS</title>

                        <para xml:id="confreq-svg-rs-css-embed-ref">For the purposes of styling SVG
                            embedded in XHTML Content Documents <emphasis>by reference</emphasis>,
                            Reading Systems must not apply CSS style rules of the containing
                            document to the referenced SVG document.</para>

                        <para xml:id="confreq-svg-rs-css-embed-inc">For the purposes of styling SVG
                            embedded in XHTML Content Documents <emphasis>by inclusion</emphasis>,
                            Reading Systems must apply applicable CSS rules of the containing
                            document to the included SVG elements.</para>

                        <note>
                            <para>SVG included <emphasis>by reference</emphasis> is processed as a
                                separate document, and must include its own CSS style rules just
                                like an <xref linkend="gloss-content-document-epub-svg"/> would.
                                Note that this is consistent with situations where an HTML
                                    <code>object</code> element references an external XHTML
                                element.</para>
                        </note>

                    </section>

                </section>

                <section xml:id="sec-xhtml-deviations-unicode">
                    <title>Unicode Restrictions</title>

                    <para>This section lists restrictions on the Unicode character
                        repertoire.</para>

                    <variablelist>
                        <varlistentry>
                            <term>Private Use Characters and Embedded Fonts</term>
                            <listitem>
                                <para xml:id="confreq-xhtml-unicode-pua">Any included characters
                                    that map to a code point within one of the Private Use Area
                                    (PUA) ranges as defined in <xref linkend="refUnicode5"/> must
                                    occur within a string that is styled or attributed in a manner
                                    that includes a reference to an <link linkend="sec-css-fonts"
                                        >embedded font</link> that contains an appropriate glyph for
                                    that code point.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>Bidirectional text control</term>
                            <listitem>
                                <para xml:id="confreq-xhtml-unicode-bidi">The marks used for
                                    controlling bidirectional text (<literal>U+200E</literal>,
                                        <literal>U+200F</literal>, <literal>U+202A</literal>,
                                        <literal>U+202B</literal>, <literal>U+202C</literal>,
                                        <literal>U+202D</literal> and <literal>U+202E</literal>
                                    <xref linkend="refUnicode5"/>) should not be included. Authors
                                    should use appropriate XHTML markup to express directionality
                                    information instead.</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </section>

                <section xml:id="sec-xhtml-deviations-discouraged">
                    <title>Discouraged Constructs</title>
                    <variablelist>
                        <varlistentry>
                            <term>The <code>rp</code> Element</term>
                            <listitem xml:id="confreq-xhtml-vocab-rp">
                                <para>The <code>rp</code> element <xref linkend="refHTML5"/> is
                                    intended to provide an optional parenthesis display around
                                    <code>ruby</code> markup by older version Reading Systems that do not support
                                    Ruby. As EPUB3 Reading Systems will typically ignore
                                    occurrences of <code>rp</code>, their use in Content Documents is
                                    discouraged.</para>
                            </listitem>
                        </varlistentry>
                        <varlistentry>
                            <term>The <code>embed</code> Element</term>
                            <listitem xml:id="confreq-xhtml-vocab-embed">
                                <para>Since the <code>embed</code> element <xref linkend="refHTML5"
                                    /> does not provide intrinsic facilities to provide <link
                                        linkend="confreq-rs-scripted-flbk">fallbacks</link> for Reading
                                        Systems that do not support scripting, its use is
                                    discouraged when the resource referenced has scripting
                                    components. Authors should use the <code>object</code> element
                                    instead.</para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </section>

                <section xml:id="sec-xhtml-deviations-restricted">
                    <title>Restricted Constructs</title>
                    <para>This section lists restrictions on <xref
                            linkend="gloss-content-document-epub-xhtml"/> that are not enforced by
                        the <link linkend="app-xhtml-schema">schema for XHTML Content
                            Documents</link>.</para>
                    <!-- todo must say restrictions not checked by schema, and not expressed in HTML5 spec; 
                    our schema obviously isn't completeöy covering all constraints in HTML-->
                    <!-- also our schema does things too, such as only allowing script in head -->
                    <variablelist>
                        <varlistentry xml:id="confreq-cd-xhtml-refprops">
                            <term>Reference Restrictions</term>
                            <listitem>
                                <para xml:id="confreq-cd-xhtml-refprops-iframe"
                                    xreflabel="iframe src type restriction">The HTML <code>iframe</code>
                                    element <code>src</code> attribute must only reference 
                                    <xref linkend="gloss-content-document-epub-xhtml"/>s. </para>
                            </listitem>
                        </varlistentry>
                    </variablelist>
                </section>

            </section>
        </section>

        <xi:include href="./sections/epub30-contentdocs-nav.xml"/>

        <section xml:id="sec-svg">
            <title>SVG Content Documents</title>
            <section xml:id="sec-svg-intro">
                <title>Introduction</title>

                <para>The Scalable Vector Graphics 1.1 specification <xref linkend="refSVG"/>
                    defines a format for representing final-form vector graphics and text.</para>

                <para>While an EPUB Publication typically uses <link linkend="sec-xhtml">XHTML
                    Content Documents</link> as the top-level document type (i.e. referenced from <xref
                        linkend="gloss-spine"/>), the use of SVG can be an alternative
                    in certain circumstances, such as when final-form page images are the only
                    suitable representation of the content (as may be the case for example in the
                    context of "manga" or comic books). </para>

                <para>This section defines a profile for SVG 1.1 <xref linkend="refSVG"/> documents.
                    An instance of an XML document that conforms to this profile is a <xref
                        linkend="gloss-core-media-type"/> and is referred to in this specification
                    and its <link linkend="sibling-specs">sibling specifications</link> as an <xref
                        linkend="gloss-content-document-epub-svg"/>.</para>

                <note>
                    <para>This section defines conformance requirements for <xref
                            linkend="gloss-content-document-epub-svg"/>s. Refer to <xref
                            linkend="sec-xhtml-svg"/> for conformance requirements for SVG embedded
                        in XHTML Content Documents.</para>
                </note>

            </section>
            <section xml:id="sec-svg-content-conf">
                <title>SVG Content Documents Content Conformance</title>
                <variablelist role="conformance-list">
                    <para>An <xref linkend="gloss-content-document-epub-svg"/> must meet all of the
                        following criteria:</para>
                    <varlistentry xml:id="confreq-mo-docprops">
                        <term>Document Properties</term>
                        <listitem role="conformance-item">
                            <para xml:id="confreq-cd-svg-xml">
                                <xi:include href="./share/xml-defref.xml"/>
                            </para>
                            <!--
                            <para xml:id="confreq-cd-svg-docprops-xml">
                                <xi:include href="./share/xml-wellformed.xml"/>
                            </para>
                            <para xml:id="confreq-cd-svg-docprops-extmarkupdecl">
                                <xi:include href="./share/xml-extmarkupdecl.xml"/>
                            </para>
                            <para xml:id="confreq-cd-svg-docprops-xinc">
                                <xi:include href="./share/xml-xinc.xml"/>
                            </para>
                            <para xml:id="confreq-cd-svg-enc">
                                <xi:include href="./share/xml-enc.xml"/>
                            </para>-->
                            <!-- <para xml:id="confreq-cd-svg-docprops-schema-svg">It must be valid to the
                                schema for SVG 1.1 as defined in <xref
                                    linkend="refSVG"/> </para> -->
                            <para xml:id="confreq-cd-svg-docprops-schema">It must be valid to the
                                SVG Content Document schema as defined in <xref
                                    linkend="app-svg-schema"/> and conform to all content
                                conformance constraints expressed in <xref
                                    linkend="sec-svg-restrictions"/>.</para>
                            <para xml:id="confreq-cd-svg-accessibility">It should adhere to the best practices 
                                for the provision of accessible text alternatives outlined in 
                                <link xlink:href="http://www.w3.org/TR/SVG-access/#Equivalent">2. Equivalent Alternatives</link>
                                of <xref linkend="refSVGAccess"/>.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="confreq-svg-fileprops">
                        <term>File Properties</term>
                        <listitem>
                            <para xml:id="confreq-svg-fileprops-name">The SVG Content Document
                                filename should use the file extension
                                <filename>.svg</filename>.</para>
                        </listitem>
                    </varlistentry>
                </variablelist>
                <note xml:id="note-cd-svg-refprops-pkg">
                    <!-- note similar statement for xhtml, svg and css-->
                    <para>All <xref linkend="gloss-publication-resource-cmt-or-foreign"/>s
                        referenced from an SVG Content Document must conform to the constraints for
                        Publication Resources defined in <olink type="epub-spec"
                            targetdoc="publications" targetptr="sec-epub-content-conf"/></para>
                </note>
            </section>
            <section xml:id="sec-svg-restrictions">
                <title>Restrictions on SVG 1.1</title>

                <para>This specification restricts the content model of 
                    <xref linkend="gloss-content-document-epub-svg"/>s and
                        <link linkend="sec-xhtml-svg">SVG embedded in XHTML Content Documents</link>
                    as follows:</para>

                <itemizedlist xml:id="sec-svg-restrictions-list">
                    <listitem>
                        <para xml:id="confreq-svg-anim">The SVG <link
                                xlink:href="http://www.w3.org/TR/SVG/animate.html#AnimationElements"
                                >Animation Elements</link> must not occur. </para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-foreignObject">The SVG <code>foreignObject</code>
                            element must contain only XHTML Content Document Flow content, unless
                            embedded in an SVG <code>switch</code>... <remark role="todo"><link
                                    xlink:href="http://code.google.com/p/epub-revision/issues/detail?id=70"
                                    >Issue70</link></remark>
                        </para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-title">The SVG <code>title</code> element must
                            contain only XHTML Content Document Phrasing content.</para>
                    </listitem>
                </itemizedlist>

                <para xml:id="confreq-cd-svg-docprops-dim"> For maximum portability, it is strongly 
                    recommended that the
                    <code><link
                        xlink:href="http://www.w3.org/TR/SVG/struct.html#SVGElementWidthAttribute"
                        >width</link></code> and <code><link
                            xlink:href="http://www.w3.org/TR/SVG/struct.html#SVGElementHeightAttribute"
                            >height</link></code> dimension attributes be included on the top-level 
                    <code>svg</code> element.</para>

            </section>
            <section xml:id="sec-svg-rs-conf">
                <title>SVG Reading System Conformance</title>

                <para>A conformant <xref linkend="gloss-epub-reading-system"/> must meet all of the
                    following criteria for processing <link linkend="sec-svg">SVG Content
                        Documents</link> and <link linkend="sec-xhtml-svg">SVG embedded in XHTML
                        Content Documents</link>:</para>

                <itemizedlist role="conformance-list" xml:id="svg-rs-confreqs">
                    <listitem>
                        <para xml:id="confreq-svg-rs-behavior">It must support processing of SVG
                            using semantics defined by the SVG 1.1 specification <xref
                                linkend="refSVG"/>.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-rs-scrpt">It must meet the Reading System
                            conformance criteria defined in <xref
                                linkend="sec-scripted-content-rs-reqs"/>.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-rs-css">It must support visual rendering of SVG
                            using CSS, and in the case of embedded SVG, conform to the constraints
                            defined in <xref linkend="sec-xhtml-svg-css"/>.</para>
                        <para><remark role="todo">TODO @PS explicitly reference CSS 2.1
                                here?</remark></para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-rs-text">It should support User selection and
                            searching of text within SVG elements.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-svg-rs-links">It must recognize SVG links (i.e. the
                            SVG <code>a</code> element), and if it supports exposing links to Users
                            for activation, then these links must be exposed. </para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-rs-svg-prop">It must respect the <olink
                                type="epub-spec" targetdoc="publications" targetptr="propdef-svg"/>
                            property of the <xref linkend="gloss-package-document"/>
                            <xref linkend="gloss-manifest"/>
                            <code>item</code> element as the authoritative definition of whether an
                            XHTML EPUB Content Document includes embedded SVG.</para>
                    </listitem>

                </itemizedlist>
            </section>
        </section>

        <section xml:id="sec-scripted-content">
            <title>Scripted Content Documents</title>

            <section xml:id="sec-scripted-content-intro">
                <title>Introduction</title>
                <para><xref linkend="gloss-content-document-epub"/>s may contain scripting, included
                    using the facilities defined for this in the respective underlying specification
                        <xref linkend="refHTML5"/>
                    <xref linkend="refSVG"/>. When an EPUB Content Document contains scripting (and,
                    in the case of XHTML Content Documents, if it contains instances of <link
                        xlink:href="http://www.w3.org/TR/html5/forms.html#forms">HTML forms</link>),
                    it is referred to in this specification and its <link linkend="sibling-specs"
                        >sibling specifications</link> as a <xref
                        linkend="gloss-content-document-epub-scripted"/>.</para>

                <para xml:id="sec-scripted-content-models">In the context of <xref
                        linkend="gloss-content-document-epub-xhtml"/>s, this specification
                    distinguishes between two models of script inclusion:</para>

                <variablelist>
                    <varlistentry xml:id="sec-scripted-content-type-container-constrained"
                        xreflabel="container-constrained">
                        <term>container-constrained</term>
                        <listitem>
                            <para/>
                            <para>In this model of scripting, the script execution is constrained to
                                the scope of a Content Document embedded in a parent Content
                                Document using one of the HTML <code>object</code>,
                                    <code>iframe</code> or <code>embed</code> elements. An executing
                                script will have access only to the DOM of its Content Document, and
                                cannot access or manipulate the DOM of its parent or other content
                                in the Publication, nor can it manipulate the size of its containing
                                rectangle.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="sec-scripted-content-type-spine-level"
                        xreflabel="spine-level">
                        <term>spine-level</term>
                        <listitem>
                            <para>In this model of scripting, the scripts execution scope is a <xref
                                    linkend="gloss-content-document-top-level"/>. </para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <!-- <para><remark role="todo">TODO the termdefs above need work</remark></para> -->

                <para><remark role="todo">TODO can/should this distinction be made for SVG too? If
                        not, need to use XHTML content doc term consistently in the sections
                        below</remark></para>

            </section>

            <section xml:id="sec-scripted-content-content-reqs">
                <title>Scripted Content Documents Content Conformance</title>

                <variablelist role="conformance-list">
                    <varlistentry>
                        <term>Inclusion Models</term>
                        <listitem>
                            <para xml:id="confreq-cd-scripted-inc">EPUB Content Documents may
                                include scripting. The <link linkend="sec-scripted-content-models"
                                    >inclusion model</link> should be restricted to the <xref
                                    linkend="sec-scripted-content-type-container-constrained"/>
                                model only. </para>
                            <para xml:id="confreq-cd-scripted-pe">EPUB Content Documents that
                                include <xref linkend="sec-scripted-content-type-spine-level"/>
                                model scripting must utilize the so-called progressive enhancement
                                technique: when the document is rendered by a Reading System without
                                scripting support or with scripting support disabled, the <link
                                    linkend="gloss-content-document-top-level">top-level document
                                    content</link> must retain its integrity, remaining consumable
                                by the User without any information loss or other significant
                                deterioration.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Accessibility</term>
                        <listitem>
                            <para xml:id="confreq-cd-scripted-a11y">EPUB Content Documents that
                                include scripting (using any <link
                                    linkend="sec-scripted-content-models">inclusion model</link>)
                                should employ relevant accessibility techniques to assure that the
                                content remains consumable by all Users. <xref linkend="refARIA"/>
                                <xref linkend="refWCAG20"/>
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry xml:id="confreq-cd-scripted-flbk"
                        xreflabel="Fallbacks for Reading Systems without scripting support">
                        <term>Fallbacks</term>
                        <listitem>
                            <para xml:id="confreq-cd-scripted-flbk-canvas">EPUB Content Documents
                                that include the HTML <code>canvas</code> element for scripting
                                purposes should include non-scripted fallback content using the
                                intrinsic model for fallback as defined by <code>canvas</code>.
                                    <xref linkend="refHTML5"/></para>
                            <para xml:id="confreq-cd-scripted-flbk-object">EPUB Content Documents
                                that include the HTML <code>object</code> element for scripting
                                purposes should include non-scripted fallback content using the
                                intrinsic model for fallback as defined by <code>object</code>.
                                    <xref linkend="refHTML5"/></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Scripting Languages</term>
                        <listitem>
                            <para xml:id="confreq-cd-scripted-lang"><remark role="todo">TODO <link
                                        xlink:href="http://code.google.com/p/epub-revision/issues/detail?id=72"
                                        >Issue 72</link></remark></para>
                        </listitem>
                    </varlistentry>
                </variablelist>
                <note xml:id="note-cd-scripted-script-placement">
                    <para>The <link linkend="app-xhtml-schema">schema for XHTML Content
                            Documents</link> restricts the HTML <code>script</code> element to only
                        occur as a child of the HTML <code>head</code> element.</para>
                </note>
                <note xml:id="note-cd-scripted-script-fallback">
                    <para>The <link linkend="confreq-cd-scripted-flbk">requirements for fallbacks to
                            non-scripted content</link> may or may not coincide with the
                        requirements for fallbacks when including <xref
                            linkend="gloss-publication-resource-foreign"/>s in a Publication. Refer
                        to <olink type="epub-spec" targetdoc="publications"
                            targetptr="sec-fallback-processing-flow-intrinsic"/> for more
                        information.</para>
                </note>
                <note>
                    <para>The <property><olink type="epub-spec" targetdoc="publications"
                                targetptr="propdef-scripted"/></property> property of the <xref
                            linkend="gloss-manifest"/>
                        <code>item</code> element indicates that an EPUB Content Document is a <xref
                            linkend="gloss-content-document-epub-scripted"/>.</para>
                </note>
                <!-- TODO handler note -->
                <!-- TODO placement in head note -->
            </section>

            <section xml:id="sec-scripted-content-rs-reqs">
                <title>Scripted Content Documents Reading System Conformance</title>
                <itemizedlist role="conformance-list">
                    <listitem>
                        <para xml:id="confreq-rs-scripted-support">Reading Systems may support
                            scripting (the <xref
                                linkend="sec-scripted-content-type-container-constrained"/> model,
                            the <xref linkend="sec-scripted-content-type-spine-level"/> model, or
                            both).</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-rs-scripted-flbk">Reading Systems that do not support
                            scripting must process fallbacks for scripted content as defined in
                                <xref linkend="confreq-cd-scripted-flbk"/></para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-rs-scripted-ua">Reading Systems may render <xref
                                linkend="gloss-content-document-epub-scripted"/>s as an interactive,
                            scripted HTML User Agent according to <xref linkend="refHTML5"/>.</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-rs-scripted-limit">Reading Systems that support
                            scripting may place limitations on the capabilities provided to scripts
                            during execution (e.g. limiting networking or DOM access).</para>
                    </listitem>
                    <listitem>
                        <para xml:id="confreq-rs-scripted-prop">Reading Systems must regard the
                                <olink type="epub-spec" targetdoc="publications"
                                targetptr="propdef-scripted"><code>scripted</code></olink> property
                            of the <xref linkend="gloss-package-document"/>
                            <xref linkend="gloss-manifest"/>
                            <code>item</code> element as the authoritative definition of whether an
                            EPUB Content Document includes scripting.</para>
                    </listitem>
                </itemizedlist>

                <note>
                    <para>Reading Systems may render Scripted Content Documents in a manner that
                        disables other EPUB capabilities and/or provides a different rendering and
                        User experience such as, for example, disabling pagination.</para>

                    <para>Authors choosing to restrict the usage of scripting to the <xref
                            linkend="sec-scripted-content-type-container-constrained"/> model will
                        ensure a more consistent User experience between scripted and non-scripted
                        content (e.g. consistent pagination behavior).</para>

                    <para>Authors choosing to avoid the inclusion of scripting and instead employing
                        declarative techniques whenever practical will increase the
                        interoperability, longevity and accessibility of the Publication.</para>
                </note>
            </section>
        </section>

    </chapter>

    <chapter xml:id="sec-css">
        <title>EPUB Style Sheets</title>

        <para>This section defines a profile for Cascading Style Sheets (CSS). An instance of a CSS
            Style Sheet that conforms to this profile is a <xref linkend="gloss-core-media-type"/>
            and is referred to in this specification and its <link linkend="sibling-specs">sibling
                specfications</link> as an <link linkend="gloss-stylesheet">EPUB Style
            Sheet</link>.</para>

        <caution xml:id="caution-css">
            <para>The EPUB3 CSS Profile references CSS specifications that are still works in
                progress and may change in incompatible ways. When utilizing features from such
                specifications, authors should consider the inherent risks in terms of the potential
                impact on interoperability and document longevity.</para>
        </caution>

        <section xml:id="sec-css-content-conf">
            <title>EPUB Style Sheet Content Conformance</title>

            <para>A CSS Style Sheet is conformant to this specification if it adheres to all content
                restrictions given in <xref linkend="sec-css-profile"/>.</para>

            <!-- TODO this one is really Publication conformance, move? -->
            <para>EPUB Style Sheets may be included in, or referenced by, <xref
                    linkend="gloss-content-document-epub-xhtml"/>s. EPUB Style Sheets must not be
                included in, or referenced by, <xref linkend="gloss-content-document-epub-svg"/>s, as
                SVG provides its own profile for CSS <xref linkend="refSVG"/>.
                <remark role="todo">TODO @WH: Is the above SVG statement
                    sufficient/correct?</remark>
            </para>

            <!-- mg: note that the below para is repeated in SVG and CSS sections, can be made into an
                xinclude with a switch  -->
            <para>Unless explicitly defined by this specification or its sibling specifications to
                be an <xref linkend="gloss-supplementary-resource"/>, any resource referenced from
                an EPUB Style Sheet must correspond to a <xref linkend="gloss-manifest"/> <code>item</code> and
                follow the rules defined for <olink type="epub-spec" targetdoc="publications"
                    targetptr="sec-publication-resources">Core Media Types and fallback
                    processing</olink> and <olink type="epub-spec" targetdoc="publications"
                    targetptr="sec-resource-locations">Publication Resource locations</olink>. </para>

        </section>

        <section xml:id="sec-css-rs-conf">
            <title>EPUB Style Sheet Reading System Conformance</title>

            <para>Reading Systems with a <xref linkend="gloss-viewport-css"/> should support — render as
                defined by the corresponding specification in the View Port — all features included
                in this profile when applied to <xref linkend="gloss-content-document-epub-xhtml"/> (unless
                detailed otherwise in <xref linkend="sec-css-profile"/>).</para>

            <para>Reading Systems must handle any unsupported CSS features as <link
                    xlink:href="http://www.w3.org/TR/CSS21/conform.html#ignore">defined</link> in
                    <xref linkend="refCSS21"/>. </para>
            <note>
                <para>Reading Systems have varying capabilities with regards to CSS rendering
                    support. For this reason, Reading Systems may ignore some or all style
                    information of an EPUB Style Sheet.</para>
                <para>Note also that even when a
                    Reading System does have a <xref linkend="gloss-viewport-css"/>, it is likely to
                    render in a manner that differs from typical HTML5 User Agents (e.g., paginating
                    content rather than providing a infinitely scrolling surface). </para>
            </note>
        </section>

        <section xml:id="sec-css-profile">
            <title>EPUB3 CSS Profile</title>

            <section xml:id="sec-css-2.1">
                <title>CSS 2.1</title>

                <para>The style baseline of an EPUB Style Sheet is Cascading Style Sheets Level 2
                    Revision 1 <xref linkend="refCSS21"/>. An EPUB Style Sheet may include, and a
                    Reading System must accept, all style sheet constructs normatively defined in
                        <xref linkend="refCSS21"/>, with the following exceptions:</para>

                <itemizedlist>
                    <listitem>
                        <para>The <literal>fixed</literal> value of the
                                <property>position</property> property must not be included in an
                            EPUB Style Sheet.</para>
                    </listitem>
                    <listitem>
                        <para>The <property>direction</property> and
                                <property>unicode-bidi</property> properties must not be included in
                            an EPUB Style Sheet. Authors should use appropriate XHTML markup to
                            express directionality information instead. </para>
                        <remark role="todo">TODO we are still unpositioned wrt bidi unicode control
                            chars (cf other unicode restriction in xhtml section)</remark>
                    </listitem>
                </itemizedlist>

                <!-- TODO is this really the only one that must be supported? -->
                <para>Reading Systems that have a <xref linkend="gloss-viewport-css"/> must support
                    the <property>font-family</property> property.</para>

                <note>
                    <para>The ability of Reading Systems to paginate absolutely positioned layouts
                        is not guaranteed, so the reliance on absolutely positioned layouts is
                        discouraged. Reading Systems may choose not to support these property
                        values.</para>
                </note>
            </section>
            <section xml:id="sec-css-2.0-list-style-type">
                <title>CSS 2.0</title>
                <para>EPUB Style Sheets may include, in addition to the list styles listed in
                    CSS2.1, the following list style types <link
                        xlink:href="http://www.w3.org/TR/2008/REC-CSS2-20080411/generate.html#lists"
                        >defined in</link>
                    <xref linkend="refCSS20"/>:</para>
                <itemizedlist>
                    <listitem>
                        <para><literal>cjk-ideographic</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>hiragana</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>katakana</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>hiragana-iroha</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>katakana-iroha</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>hebrew</literal></para>
                    </listitem>
                </itemizedlist>
                <para>Additional details on these list styles can be found in <xref
                        linkend="refCSS3Lists"/>. <remark role="todo">The definitions in CSS3 Lists
                        are incorrect, so remove this paragraph if an updated WD has not yet been
                        published.</remark>
                </para>
            </section>
            <section xml:id="sec-css-voice-characteristics">
                <title>CSS Speech</title>
                <para>EPUB Style Sheets may include all features defined in the CSS Speech Module
                        <xref linkend="refCSS3Speech"/>. Reading Systems that support text-to-speech
                    should support in particular the following properties:</para>
                <itemizedlist>
                    <listitem>
                        <para><literal>voice-family</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>pause</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>cue</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>rest</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>speak</literal></para>
                    </listitem>
                </itemizedlist>
                <xi:include href="./share/note-tts-features.xml"/>
            </section>
            <section xml:id="sec-css-fonts">
                <title>CSS Fonts Level 3</title>
                <!-- jdaggett, editor of CSS3 Fonts, believes the below-referenced @font-face portion of
                 CSS3 Fonts to be stable. Other parts of the CSS3 Fonts spec are not yet stable.
                 2011-01-11 -->

                <para>EPUB Style Sheets may include <literal>@font-face</literal> rules as defined
                    in the CSS Fonts Module Level 3 <xref linkend="refCSS3FontsModule"/>
                    specification. OpenType <xref linkend="refOpenType"/>, WOFF <xref
                        linkend="refWOFF"/> and SVG <xref linkend="refSVG"/> fonts may be referenced
                    using the <code>@font-face</code> mechanism. For EPUB 2.0 Reading System forward
                    compatibility purposes, a system font should also be refenced from the Style
                    Sheet.</para>

                <para>Reading Systems with a <xref linkend="gloss-viewport-css"/> must support
                    OpenType <xref linkend="refOpenType"/> and WOFF <xref linkend="refWOFF"/> fonts
                    embedded using the <literal>@font-face</literal> rule, as well as the font
                    obfuscation mechanism defined in <olink type="epub-spec" targetdoc="ocf"
                        targetptr="font-obfuscation"/>. Reading Systems may support SVG
                    fonts.</para>

                <para>In addition, Reading Systems must support at least the following
                        <literal>@font-face</literal> font descriptors:</para>

                <itemizedlist>
                    <listitem>
                        <para><literal>font-family</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>src</literal></para>
                    </listitem>
                    <listitem>
                        <para><remark role="todo"><literal>unicode-range</literal> TODO Pending
                                final WG decision</remark></para>
                    </listitem>
                    <listitem>
                        <para><literal>font-size</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>font-style</literal></para>
                    </listitem>
                    <listitem>
                        <para><literal>font-variant</literal> (<literal>normal</literal> and
                                <literal>small-caps</literal> values only)</para>
                    </listitem>
                    <listitem>
                        <para><literal>font-weight</literal></para>
                    </listitem>
                </itemizedlist>

                <para>Refer to <olink type="epub-spec"
                        targetptr="sec-fallback-processing-flow-fonts" targetdoc="publications"/>
                    for font fallback processing requirements. </para>

            </section>
            <section xml:id="sec-css-text">
                <title>CSS Text Level 3</title>
                <para>EPUB Style Sheets may include the following properties defined in the CSS Text
                    Level 3 <xref linkend="refCSS3Text"/> specification:</para>
                <itemizedlist>
                    <listitem>
                        <para><property>line-break</property></para>
                    </listitem>
                    <listitem>
                        <para><property>punctuation-trim-start</property></para>
                    </listitem>
                    <listitem>
                        <para><property>text-align-last</property></para>
                    </listitem>
                    <listitem>
                        <para><property>text-emphasis</property></para>
                    </listitem>
                    <listitem>
                        <para><property>text-emphasis-style</property></para>
                    </listitem>
                    <listitem>
                        <para><property>text-emphasis-color</property></para>
                    </listitem>
                    <listitem>
                        <para><property>text-transform</property></para>
                    </listitem>
                    <listitem>
                        <para><property>word-break</property></para>
                    </listitem>
                    <listitem>
                        <para><property><remark role="todo">TODO
                            </remark>hypenation</property></para>
                    </listitem>
                </itemizedlist>
            </section>
            <section xml:id="sec-css-writing-modes">
                <title>CSS Writing Modes</title>
                <para>EPUB Style Sheets may include all of the features defined in the CSS Writing
                    Modes Module Level 3 <xref linkend="refCSS3WritingModesModule"/> specification
                    except for the <property>direction</property> and
                        <property>unicode-bidi</property> properties. It is non-conforming to use
                    these properties in an <xref linkend="gloss-content-document-epub-xhtml"/>. Authors should use appropriate
                    XHTML markup to express directionality information instead.</para>

                <note>
                    <para>When specified, the directionality indicated by the
                            <property>writing-mode</property> property must match the directionality
                        for all XHTML Content Documents specified in the
                        in the Package metadata. Refer to
                            <property>page-progression-direction</property> in <olink
                            targetdoc="publications"
                            targetptr="elemdef-opf-meta-property-values-package" type="epub-spec"/>
                        for more information.</para>
                </note>
            </section>
            <section xml:id="sec-css-media-queries">
                <title>Media Queries</title>
                <para>EPUB Style Sheets may include <literal>@media</literal> rules with media
                    queries as defined in the Media Queries <xref linkend="refMediaQueries"/>
                    specification.</para>
            </section>
            <section xml:id="sec-css-multi-column">
                <title>CSS Multi-Column Layout</title>
                <para>EPUB Style Sheets may include all of the features defined in the CSS
                    Multi-column Layout Module <xref linkend="refCSS3Multicol"/> specification with
                    the exception of the <property>column-span</property> property. </para>
                <caution>
                    <para>Authors should not rely on column behavior in overflow conditions as this
                        behavior is unstable and may change.</para>
                </caution>
                <caution>
                    <para>Pagination algorithms are not fully defined in CSS. Authors should
                        therefore expect exact pagination points to vary from Reading System to
                        Reading System.</para>
                </caution>
                <para>Reading Systems must treat the <property>oeb-column-number</property> property
                    as an alias for the <property>column-count</property> property. The use of the
                        <property>oeb-column-number</property> property in EPUB Style Sheets is
                    deprecated; this conformance requirement will be removed in the next major
                    version of EPUB.</para>
            </section>
            <section xml:id="sec-css-ruby-position">
                <title>Ruby Positioning</title>
                <para>EPUB Style Sheets may include the <property>-epub3-ruby-position</property>
                    property as defined below:</para>

                <informaltable>
                    <thead>
                        <tr>
                            <td>Name:</td>
                            <td>-epub-ruby-position</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Value:</td>
                            <td>over | under | <remark role="todo">right</remark></td>
                        </tr>
                        <tr>
                            <td>Initial:</td>
                            <td>over</td>
                        </tr>
                        <tr>
                            <td>Applies to:</td>
                            <td>ruby text elements</td>
                        </tr>
                        <tr>
                            <td>Inherited:</td>
                            <td>yes</td>
                        </tr>
                        <tr>
                            <td>Percentages:</td>
                            <td>N/A</td>
                        </tr>
                        <tr>
                            <td>Media:</td>
                            <td>visual</td>
                        </tr>
                        <tr>
                            <td>Computed value:</td>
                            <td>as specified</td>
                        </tr>
                    </tbody>
                </informaltable>

                <para>This property controls the placement of ruby text with respect to its base
                    text. Values have the following meanings:</para>

                <variablelist>
                    <varlistentry>
                        <term><literal>over</literal></term>
                        <listitem>
                            <para>Ruby text is positioned on the <link
                                    xlink:href="http://www.w3.org/TR/css3-writing-modes/#over"
                                    >over</link> side of the ruby base.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term><literal>under</literal></term>
                        <listitem>
                            <para>Ruby text is positioned on the <link
                                    xlink:href="http://www.w3.org/TR/css3-writing-modes/#under"
                                    >under</link> side of the ruby base.</para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term><literal>right</literal></term>
                        <listitem>
                            <para>Ruby text is positioned on the right side of the base text. (This
                                value is typically used for Zhuyin Fuhao (Bopomofo) ruby.)</para>
                            <para><remark role="todo">Need a name that avoids misuse in vertical
                                    text when <literal>over</literal> is intended.</remark></para>
                        </listitem>
                    </varlistentry>
                </variablelist>

                <note>
                    <para>NOTE: This property will become an alias for the
                            <property>ruby-position</property> property in the CSS Ruby Module <xref
                            linkend="refCSS3Ruby"/>.</para>
                </note>
            </section>
            <section xml:id="sec-css-oeb-head-foot">
                <title>Display Property Values <code>oeb-page-head</code> and
                        <code>oeb-page-foot</code></title>
                <para>In addition to the standard values defined for the <code>display</code>
                    property in <link xlink:href="http://www.w3.org/TR/CSS2/visuren.html#display-prop">Section
                        9.2.4</link> of <xref linkend="refCSS21"/>, EPUB Style Sheets may specify the values
                        <literal>oeb-page-head</literal> and <literal>oeb-page-foot</literal>. </para>
                <para>Reading Systems should present the content of an element assigned
                        <code>display: oeb-page-head</code> only as a header, and the content of an
                    element assigned <code>display: oeb-page-foot</code> only as a footer. Neither
                    should be simply presented as if it were <code>inline</code> or
                        <code>block</code>. The way Reading Systems present headers
                    and footers is not defined by this specification, however (for example, they may 
                    render them in fixed positions as per print layouts or pop them up on demand
                    if only limited screen space is available). </para>
                <para>For the purposes of page layout, these display values are similar to block boxes
                    with an absolute position (i.e., a position value of <property>fixed</property> or 
                    <property>absolute</property>). That is,
                    they are removed from the normal flow and a new block box is created with its
                    own flow. Margins, padding, and other block characteristics are determined as if
                    the element had <code>position: fixed</code> set. </para>
                
                <para>An element assigned <code>display: oeb-page-head</code> or <code>display:
                        oeb-page-foot</code> must not be considered in effect while any preceding
                    content remains presented, and must remain in effect until either of the following
                    conditions is true:</para>
                
                <itemizedlist>
                    <listitem>
                        <para>another header or footer respectively is in effect instead; or</para>
                    </listitem>
                    <listitem>
                        <para>no part of its parent element remains presented.</para>
                    </listitem>
                </itemizedlist>
                
                <para>For example, when rendered to a
                    screen with appropriate style settings, the <property>myhead</property>-classed 
                    <code>div</code> element in the following example 
                    would become the page header as soon as nothing preceding the containing 
                    <code>div</code> is displayed, and go out of effect when that <code>div</code> is 
                    no longer visible: <remark
                        role="todo">WM: what if there is content IN the containing div preceding the
                        header - is that "preceding content"?</remark></para>

                <informalexample xml:id="example-css-header">
                        <synopsis>
 &lt;div>
   &lt;div class="myhead" style="display: oeb-page-head">
      The OEB Publication Structure: Introduction
   &lt;/div>
   &lt;h2>Introduction&lt;/h2>
   &lt;p>...&lt;/p>
&lt;/div>           
            
        </synopsis>
                    </informalexample>
            </section>

        </section>

    </chapter>

    <chapter xml:id="sec-pls">
        <title>PLS Documents</title>

        <section xml:id="sec-pls-overview">
            <title>Overview</title>

            <para>The W3C Pronunciation Lexicon Specification <xref linkend="refPLS"/> defines syntax and semantics for
                XML-based pronunciation lexicons to be used by Automatic Speech Recognition and
                    <xref linkend="gloss-tts"/> engines.</para>

            <para>This section defines conformance criteria for PLS documents when included in <xref
                    linkend="gloss-epub-publication"/>s. </para>

            <xi:include href="./share/note-tts-features.xml"/>

        </section>

        <section xml:id="sec-pls-conf-pub">
            <title>PLS Documents Publication Conformance</title>

            <para>A conformant <xref linkend="gloss-epub-publication"/> must meet all of the
                following criteria for inclusion of PLS Documents:</para>

            <itemizedlist role="conformance-list">
                <listitem>
                    <para xml:id="confreq-pls-pub-card">A Publication must not include more than one
                        PLS Document.</para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-pls-pub-cont">Any included PLS Document must meet the
                        content conformance criteria defined in <xref linkend="sec-pls-conf-content"
                        />.</para>
                </listitem>
                <listitem>
                    <para xml:id="confreq-pls-pub-manif">Any included PLS Document must be
                        represented and located as defined in <olink type="epub-spec"
                            targetdoc="publications" targetptr="sec-epub-content-conf"/>.</para>
                </listitem>
            </itemizedlist>

        </section>

        <section xml:id="sec-pls-conf-content">
            <title>PLS Documents Content Conformance</title>

            <para>To be considered a <xref linkend="gloss-publication-resource-cmt"/>, a PLS
                Document must meet all of the following criteria:</para>

            <variablelist role="conformance-list" xml:id="confreq-cd-pls">
                <varlistentry xml:id="confreq-cd-pls-docprops">
                    <term>Document Properties</term>
                    <listitem>
                        <para xml:id="confreq-cd-pls-xml">
                            <xi:include href="./share/xml-defref.xml"/>
                        </para>
                        <!--
                        <para xml:id="confreq-cd-pls-docprops-xml">
                            <xi:include href="./share/xml-wellformed.xml"/>
                        </para>
                        <para xml:id="confreq-cd-pls-docprops-extmarkupdecl">
                            <xi:include href="./share/xml-extmarkupdecl.xml"/>
                        </para>
                        <para xml:id="confreq-cd-pls-docprops-xinc">
                            <xi:include href="./share/xml-xinc.xml"/>
                        </para>
                        <para xml:id="confreq-cd-pls-enc">
                            <xi:include href="./share/xml-enc.xml"/>
                        </para>
                        -->
                        <para xml:id="confreq-cd-pls-docprops-schema">It must be valid to the RELAX
                            NG schema for PLS documents available at the URI <link
                                xlink:href="http://www.w3.org/TR/pronunciation-lexicon/pls.rng"
                                >http://www.w3.org/TR/pronunciation-lexicon/pls.rng</link>
                            <xref linkend="refPLS"/>. </para>
                    </listitem>
                </varlistentry>
                <varlistentry xml:id="confreq-cd-pls-fileprops">
                    <term>File Properties</term>
                    <listitem>
                        <para xml:id="confreq-cd-pls-fileprops-name">The PLS Document filename
                            should use the file extension <filename>.pls</filename>.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>

        <section xml:id="sec-pls-conf-rs">
            <title>PLS Documents Reading System Conformance</title>

            <para>A conformant <xref linkend="gloss-epub-reading-system"/> must meet all of the
                following criteria for processing PLS Documents:</para>

            <!-- TODO describe the process for matching a <grapheme> against document text: whitespace 
                normalization, text node concatenation, what if any of this is described in PLS? -->

            <itemizedlist role="conformance-list" xml:id="pls-rs-confreqs">
                <listitem>
                    <!-- <para xml:id="confreq-pls-rs-sp">Reading Systems may support PLS</para> -->
                    <para xml:id="confreq-pls-rs-sptts">Reading Systems with <xref
                            linkend="gloss-tts"/> capabilities should support PLS.</para>
                    <para xml:id="confreq-pls-rs-proc">Reading Systems that support PLS must process
                        the PLS document as defined in <xref linkend="refPLS"/>.</para>
                    <para xml:id="confreq-pls-rs-scope">Reading Systems that support PLS must apply
                        the included pronunciation instructions to the text of the entire
                        Publication scope.</para>
                    <para xml:id="confreq-pls-rs-casc">Reading Systems that support PLS and the
                            <link linkend="sec-xhtml-ssml-attrib">SSML Attributes</link> must let
                        any pronunciation instructions provided via the <link
                            linkend="sec-cd-ssml-ph-attrib"><code>ssml:ph</code> attribute</link>
                        take predecence in cases where a PLS <code>grapheme</code> matches a text
                        node of an element that carries the <code>ssml:ph</code> attribute.</para>
                </listitem>
            </itemizedlist>

        </section>

    </chapter>

    <appendix xml:id="app-xhtml-schema">
        <title>XHTML Content Document Schema</title>
        <para>The schema for XHTML Content Documents is available at <link
                xlink:href="../schema/epub-xhtml-30.nvdl"
            >../schema/epub-xhtml-30.nvdl</link>.</para>
        <para>This schema is normative. In case of conflicts between the specification prose and
            this schema, the schema shall be considered definitive.</para>

        <xi:include href="./share/schema-usage.xml"/>

    </appendix>

    <appendix xml:id="app-xhtml-nav-schema">
        <title>EPUB Navigation Document Schema</title>
        <para>The schema for EPUB Navigation Documents is available at <link
                xlink:href="../schema/epub-nav-30.nvdl">../schema/epub-nav-30.nvdl</link>.</para>
        <para>This schema is normative. In case of conflicts between the specification prose and
            this schema, the schema shall be considered definitive.</para>

        <xi:include href="./share/schema-usage.xml"/>

    </appendix>

    <appendix xml:id="app-svg-schema">
        <title>SVG Content Document Schema</title>
        <para><remark role="todo">TODO</remark></para>
        <note>
            <para>This schema expresses restrictions on SVG 1.1 in the context of EPUB Publications
                as defined in <xref linkend="sec-svg-content-conf"/>.</para>
        </note>
        <xi:include href="./share/schema-usage.xml"/>
    </appendix>

    <appendix xml:id="acknowledgements" role="acknowledgements" conformance="informative">
        <title>Contributors</title>
        <xi:include href="./share/contributors.xml"/>
    </appendix>

    <xi:include href="./share/references.xml"/>

    <appendix xml:id="DUMMY_REMOVE">
        <!-- a dummy that is removed by the build -->
        <title>THIS SECTION SHOULD NOT BE IN THE BUILD</title>
        <para xml:id="physical-container-zip"/>
        <para xml:id="sec-package-documents"/>
        <para xml:id="sec-core-media-types"/>
        <para xml:id="sec-spine-elem"/>
        <para xml:id="sec-manifest-elem"/>
        <para xml:id="sec-fallback-processing-flow"/>
        <para xml:id="sec-xml-constraints"/>
    </appendix>

</book>
