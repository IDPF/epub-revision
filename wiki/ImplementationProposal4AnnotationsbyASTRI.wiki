#summary One-sentence summary of this page.

= Introduction =

This proposal is mainly contructed by Alex Zu with his development team from ASTRI. 

= Reference and Terminologies =

  * Ref 1: IDPF EPub 2.0 standard at http://www.idpf.org/specs.htm
  * Ref 2: IDPF EPub 3.0 Requirements at http://code.google.com/p/epub-revision/wiki/Annotations 
  * Reader System: The Software/Hardware which renders and displays the EPub content as defined in Ref 1


= Annotation Storage Format =

Annotations should not alter the content of the original Ebook, thus recording the annotations in a separate file from the original Ebook is preferred.
In the proposal spec below, the annotation content is generated per book per user (i.e. the annotator) base. The following folder structure is suggested for the user generated annotations.
The user may annotate the book using image, audio or video format. The multimedia content is stored in the folder structure below. 

{{{
...
  Annotations/
    Book1/
      User 1/
        Annotations.xml
        AudioNotes/
          audio1.mp3
          audio2.mp3
        ImageNotes/
          fig1.svg
          fig2.svg
        VideoNotes/
          video1.mp4
          video2.mp4
      User 2/
      ...
    Book2/
...

}}}


== Folder structure is explained below：==
  # Annotations Folder: <p>It is the root folder where the Reader System stores all the annotations generated by all the users who have ever read any EPub Ebooks controlled by the Reader System. The Reader System may need to identify the users by using local login or by communication with a remote login management server.</p>
  # Book1/Book2/… Folder: <p>It is the sample child folder generated by the Reader System for Ebook named "Book1" or "Book2", etc. All annotations generated by any users who have ever read the named book will be stored under this folder. </p>
  # User 1 folder under Book1
  It is the sample child folder generated by the Reader System for Ebook named "Book1" which stores all the annotations generated by "User 1" for "Book1". All annotations generated by "User 1" for "Book1" will be stored under this folder.
  # Annotations.xml
  Stores the user annotations which maybe “text” comment, pointers to locally created “multimedia notes” by Reader System or “external reference links” such as HTTP URLs. The “AnnotatedArea” defines the original reference content of the book (i.e. the Book1/Book2/etc as mentioned above). For details, please refer to the Annotations.xml detail explained section below.

  # AudioNotes folder
    Stores the audio notes generated by the annotator by using the Reader System. MP3 audio format is used to store user generated content. User may also import audio files to this folder from other sources. User may also use other format such as OGG or WMA as long as it is supported by the Reader System. But the make the audio notes more portable, MP3 is preferred.

  # ImageNotes folder
    Stores the doodle/picture notes generated by the annotator. SVG graphics format is used to store user generated content. The good of SVG is that it supports the Zoom IN/OUT of the graphic without display quality drop. User may also import image files to this folder from other sources. User may also use other format such as JPEG, GIF or PNG as long as it is supported by the Reader System.

  # VideoNotes folder
    Stores the video notes generated by the annotator. MP4 file format with H.264 video + AAC audio is used to store the user generated content. User may also import video files to this folder from other sources. User may also use other file format such as MKV, AVI, WMV with other audio/video CODEC combinations as long as it is supported by the Reader System, however, MP4 (H.264+AAC) is preferred to fulfill the portability requirement. 