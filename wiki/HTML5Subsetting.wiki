#summary Discussion related to what subset (if any) of HTML5 should be included in EPUB3

<wiki:toc max_depth="3" />

= HTML5 Subset for Inclusion in EPUB3 =

== Introduction ==
The subset of the then-current HTML5 to be included in EPUB3 (more specifically, OPS 3.0) will be impacted by a number of factors:
 * To what extent are we "building up" from OPS 2.0.1
 * To what extent are we "building down" from HTML5
 * What state of completion/stability are various features/elements of HTML5
 * What namespace will be be living in (our "late binding" decision)
 * Implementation burden
 * To what extent modularization of the XML serialization of HTML5 (a la XHTML 1.1) makes sense
 * A proposed principle: to solve our problems OPS 3.0 needs to be an extended subset of the XML serialization of HTML5, with the minimum changes needed to meet our goals. _ Question: "extended subset" is a term with multiple interpretations: _
  * _ Is it a "minimal subset of HTML5" that includes all OPS 2.0.1 functionality, plus additions from HTML5 that are needed to address the new/unique requirements of the EPUB3 effort? _
  * _ Is it all of HTML5 with perhaps "very squishy" bits removed and maybe a few other removals that for some reason that we don't want? _

_ FWIW, I (Garth) am somewhat more comfortable with the first of the two above sub-bullets. _

== XHTML 1.1 Subset (modules) in OPS 2.0.1 ==
||Module||Example||OPS 2.0.1||Comments||
||Structure||body, head||Yes||||
||Text||p, h1, span, div||Yes||||
||Hypertext||a||Yes||||
||List||dl, ol, li||Yes||||
||Applet||applet, param||No||||
||Presentation||big, i, sup||Yes||||
||Edit||del, ins||Yes||||
||Bi-di||bdo||Yes||||
||Basic forms||form, input||No||||
||Forms||button, textarea||No||Includes basic forms||
||Basic tables||table, td, tr||Yes||||
||Tables||col, colgroup||Yes||Includes basic tables||
||Image||img||Yes||||
||Client-side image map||map, area||Yes||||
||Server-side image map||ismap attr||No||||
||Object||object, param||Yes||||
||Frames||frameset, frame||No||||
||Target||target attr||No||||
||Iframe||iframe||No||||
||Intrinsic events||onfocus attr||No||||
||Meta-information||meta||Yes||||
||Scripting||script||No||||
||Style sheets||style||Yes||||
||Style attribute||style attr||Yes||||
||Link||link||Yes||||
||Base||base||Yes||||
||Legacy||center, font||No||||
||Ruby||ruby, rb, rt||No||||

== "Modules" in OPS 2.0.1 not in XHTML ==
||Module||Example||OPS 2.0.1||Comments||
||Switch||ops:switch||Yes||||




== OPS 2.0.1 subtracted from HTML5 ==

This table lists elements/attributes in HTML5 that were not in OPS 2.0.1. 

Note that the table discusses atomic HTML5 vocabulary entries only; whether or not OPS3 will provide multiple grammars (strict|loose|script-less|interactive-less) using the vocabulary is a separate issue.

Note also that ops-specific _vocabulary extensions_ are not discussed here.

For an introductory overview of news in HTML5, see [http://dev.w3.org/html5/html4-differences/ HTML5 differences from HTML4]

_ *The two rightmost columns are simply an initial straw-man, for deliberation and discussion!* _

||_Context_ ||_Element/Attribute_ ||_Comments_ || _RS support required for *non-scripted/interactive* OPS 3.0_ || _RS support required for *scripted/interactive* OPS 3.0_ ||
||*Root* || || || || ||
|| || [http://dev.w3.org/html5/spec/Overview.html#attr-html-manifest html/@manifest] || || Yes, but likely ignored || Yes, but likely ignored  ||
||*Sections* || || || || ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-section-element section] || || Yes || Yes ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-article-element article] || || Yes || Yes ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-aside-element aside] || || Yes || Yes ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-hgroup-element hgroup] || || Yes || Yes ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-header-element header] || || Yes; does not conflict with "display: oeb-page-head", in fact could be used inside OPS header || Yes; does not conflict with "display: oeb-page-head", in fact could be used inside OPS header ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-footer-element footer] || || Yes; does not conflict with "display: oeb-page-foot", different semantics || Yes; does not conflict with "display: oeb-page-foot", different semantics ||
|| ||[http://www.w3.org/TR/html5/semantics.html#the-nav-element nav] || may conflict with NCX (functional overlap) || Yes, include tutorial note || Yes, include tutorial note ||
||*Blocks* || || || || ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-figure-element figure] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#attr-ol-reversed ol/@reversed] || || Yes || Yes || 
||*Phrasing* || || || || ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-small-element small] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-s-element s] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-time-element time] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-i-element i] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-b-element b] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-mark-element mark] || || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-ruby-element ruby] || Was "extended module" in OPS201. Awaiting recommendation from EGLS (simple vs complex ruby, mono/group/jukugo, etc) || Perhaps optional? || Perhaps optional? ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-wbr-element wbr] || EGLS linebreaking algorithm impact? || Yes || Yes ||
||*Script* || || || || || 
|| || [http://dev.w3.org/html5/spec/Overview.html#script head/script] internal || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| || [http://dev.w3.org/html5/spec/Overview.html#script head/script] external (@src) || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| || [http://dev.w3.org/html5/spec/Overview.html#script head/script/@async] || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| || [http://dev.w3.org/html5/spec/Overview.html#script head/script/@defer] || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| || [http://dev.w3.org/html5/spec/Overview.html#script body//script] || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| || [http://dev.w3.org/html5/spec/Overview.html#event-handler-content-attributes event handler attrs] || Awaiting recommendation from interactivity sub-group || No || _??_ ||
||*Embedded* || || || || ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-iframe-element iframe] (@sandbox, @seamless, @srcdoc) || Awaiting recommendation from interactivity sub-group || Yes, for non-scripted content || _??_ ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-embed-element embed] || Awaiting recommendation from interactivity sub-group || No || _??_ ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-object-element object] || Awaiting recommendation from interactivity sub-group || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-canvas-element canvas] || Awaiting recommendation from interactivity sub-group || No || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#video video] || Awaiting recommendation from RichMedia subgroup (see comments below this table) || Yes or May || Yes or May || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#audio audio] || Awaiting recommendation from RichMedia subgroup (see comments below this table) || Yes or May || Yes or May || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-map-element map] || OPS201 excludes server-side maps || Yes; retain OPS 2.0.1 exclusion || Yes; retain OPS 2.0.1 exclusion || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-area-element area] || || Yes || Yes ||
||*Style* || || || || || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-style-attribute */@style] || Deprecated in 2.0.1 || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-style-element body//style] || Wider support placement in HTML5 over XHTML || Yes || Yes ||
|| ||[http://dev.w3.org/html5/spec/Overview.html#attr-style-scoped body//style/@scoped] || || Yes || Yes ||
||*Forms* || || || || || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#forms forms] || Awaiting recommendation from RichMedia subgroup || Yes, could be useful for formatting even without network connection or scripting || Yes ||
||*Interactive* || || || || || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-details-element details] || || Yes, no implied interactivity? || Yes || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-summary-element summary] || || Yes || Yes || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#the-command command] || || No || Yes? || 
|| ||[http://dev.w3.org/html5/spec/Overview.html#menus menu] || || No || Yes? ||
||*MathML* || || || || ||
|| || [http://www.w3.org/TR/MathML3/ MathML3] || Awaiting [ImplementationProposalsMathML] || Yes or optional, with [ImplementationProposalsMathML restrictions] || Yes or optional, with [ImplementationProposalsMathML restrictions] ||
||*SVG*|| || || || ||
|| || [http://www.w3.org/TR/html5/the-map-element.html#svg-0 svg] || OPS201 references [http://www.w3.org/TR/SVG11/ SVG11] whereas HTML5 references [http://www.w3.org/TR/SVGTiny12/ Tiny12] (see [http://code.google.com/p/epub-revision/issues/detail?id=5 Issue 5])|| Yes, version TBD || Yes, version TBD ||
||*Obsolete* || || || || ||
|| || [http://dev.w3.org/html5/spec/Overview.html#obsolete obsolete] || || No || No ||
||*Attributes* || || || || ||
|| || [http://dev.w3.org/html5/spec/Overview.html#attr-contenteditable @contenteditable] || Awaiting recommendation from interactivity sub-group || No || Yes? ||
|| || [http://dev.w3.org/html5/spec/Overview.html#attr-contextmenu @contextmenu] || Awaiting recommendation from interactivity sub-group || No || Yes? ||
|| || [http://dev.w3.org/html5/spec/Overview.html#custom-data-attribute @data-*] || Awaiting recommendation from interactivity sub-group || No || Yes ||
|| || [http://dev.w3.org/html5/spec/Overview.html#the-draggable-attribute @draggable] || Awaiting recommendation from interactivity sub-group || No || Yes? ||
|| || [http://dev.w3.org/html5/spec/Overview.html#the-hidden-attribute @hidden] || Awaiting recommendation from interactivity sub-group || No || Yes? ||
|| || [http://dev.w3.org/html5/spec/Overview.html#annotations-for-assistive-technology-products-aria @role]|| Contender for use with [TextContent#TE.01_Allow_for_inflection_of_domain-specific_semantics_on_top_o TE.01]. Awaiting recommendation from TextContent subgroup|| Yes, possibly willfully violated || Yes ||
|| || [http://dev.w3.org/html5/spec/Overview.html#annotations-for-assistive-technology-products-aria @aria-*]|| Integration needs further input/analysis || Yes? || Yes? ||
|| || [http://dev.w3.org/html5/spec/Overview.html#attr-spellcheck @spellcheck] || || No || Yes? ||

=== Comments about HTML5 Video/Audio ===

Note that unlike the W3C version of HTML5, the WhatWG version includes support for video/audio accessibility, in the form of dedicated inline markup (nested inside the video/audio tag) allowing authors to specify supplementary (and out-of-band, i.e. encoded in external files) content "tracks" for text captions/subtitles, audio descriptions, chaptering/navigation layer, etc.

Here is a quote from the official statement in the W3C specification:

"this content is not intended to address accessibility concerns. To make video content accessible to the blind, deaf, and those with other physical or cognitive disabilities, authors are expected to provide alternative media streams and/or to embed accessibility aids (such as caption or subtitle tracks, audio description tracks, or sign-language overlays) into their media streams."

As usual, this is work-in-progress on both the W3C and WhatWG sides, so we should be prepared for changes in the specification, and perhaps even in W3C's strategy regarding video/audio accessibility.

References:

http://www.w3.org/TR/html5/video.html#video

http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#the-track-element
http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#timed-tracks