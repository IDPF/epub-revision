#summary Charter Proposal, Indexes

= Charter Proposal - Indexes =
*_UNDER CONSTRUCTION_*

<wiki:toc max_depth="4" />

== Status of this proposal ==
This is a draft charter proposal, not yet submitted to the IDPF membership for ratification.



== Need for this proposal ==
[IndexesCharterProposal#indexdef Indexes] are specialized navigational and supplemental information tools that offer readers an enhanced, more sophisticated interaction with content than simple search.  Users will expect to have indexes available in the EPUB3 ecosystem and accessible as easily as search. Publishers of EPUB3 content wish to make this data available to users, to allow them to explore book contents beyond what [IndexesCharterProposal#searching search] results reveal. Readers use indexes in a variety of ways: to quickly locate discussions in content, to discover relevant content that is discussed with differing synonyms, to discover new terminology for concepts, and to see details of topics covered in an eBook. Indexes convey a sense of the depth of topic coverage in an eBook, break down large concepts into important subcategories, and allow exploration of content through granular and user-friendly access points. Indexes provide the added value of human analysis, enabling an interactive conversation between the reader and the book. They are also a [IndexesCharterProposal#pre-coordinate pre-coordinate search system], as opposed to search's propensity to being [IndexesCharterProposal#post-coordinate post-coordinate]. 

Index information and metadata can be used by devices to provide navigation and supplemental search details to the reader. Search can be supplemented and fine-tuned by reading index metadata to provide better results. Index metadata can provide new views into the semantic underpinnings of an eBook.

This proposal describes the scope, required functionality, and timeline to deliver a standard for producing ePUB3 publications that meet the use cases included in this proposal



== Scope ==
=== In-scope (Deliverables) ===
The scope of this project is to define a declarative mechanism for the representation of indexes in EPUB Publications. As further detailed in [IndexesCharterProposal#Use_Cases Use Cases] and [IndexesCharterProposal#Index_Functional_Support Index Functional Support] below, the delivered mechanism shall have the following top-level functional properties: 

 * Allow users to read or browse an index in full chapter-like format
 * Allow users to quickly access index information in a search context
 * Allow users to see semantic metadata associated with a range of text



=== Out of Scope ===
Indexes are created by a variety of tools, ranging from built-in modules in page layout and XML content management software to dedicated index preparation software. Details of how to implement indexing in those tools are out of scope. 

Index display format in chapter form (e.g., indenting, spacing, etc.) can vary greatly, depending on the writer and publisher. Suggested presentation formats are out of scope.



== Timeline and Participation ==

Project participation is open to IDPF members and invited experts. _(Note that invited expert status needs to be renewed for each IDPF project.)_

This project is intended to be run concurrently with the project on [DictionariesCharterProposal dictionaries and glossaries], and so shares the following timeline with that project:

(*N.B.* dates in italics are tentative)
|| Charter Proposal Submitted to Board || mid-December-2011 ||
|| First WG Draft || _late January 2012_ ||
|| Second WG Draft ||  _late February 2012_ ||
|| Proposed Specification || _31-Mar-2012_ ||
|| Recommended Specification || _30-Apr-2012_ ||


== Working Group Leads ==
Suggested Leads of this working group are:
 * David Ream (Co-Chair)
 * Michele Combs (Co-Chair)
 * Jan Wright (Co-chair)


== Use Cases ==
_ Actors: users _
 # [IndexesCharterProposal#chapter-like Chapter-like index]:
   * User navigates to chapter-like index to browse topics and find information.
   * User expands or collapses main entries/subentries.
   * User selects special symbol, prefix or suffix (for example asterisk, dagger symbols) to display meaning of symbol
   * User clicks index hyperlinks to navigate to the book's content.
 # [IndexesCharterProposal#pop-up Pop-up index]:
   * User opens index from book's content with text selected, triggering access to pop-up index displaying first matching main heading
   * User opens index from book's content with nothing selected, displaying top of pop-up index or last-used position in index. 
   * User browses for terms or enters search text in pop-up index display.
   * User expands or collapses main entries/subentries.
   * User chooses hyperlink in pop-up index display and returns to book content.
 # [IndexesCharterProposal#reverse Reverse index] 
   * User selects a range of text and triggers pop-up display of all in-context index entries for the range.
   * User selects in-context index entry, and triggers access to selected entry in pop-up index.
 # Standalone index
   * User opens a publication that consists entirely of an index, which contains links to other EPUBs (e.g., a master index)
   * User browses topics and finds information.
   * User expands or collapses main entries/subentries.
   * User clicks index hyperlinks to navigate to other EPUBs.


_ System: reading system_

<font color="red">Ask Markus what's meant by this</font>

_ Publication: content_
 * A publication contains a chapter-like index, and declares this resource via package metadata.
 * A publication contains A-Z index navigation data, consisting of hyperlinks to lettered group breaks, available for use in a floating or persistent navigation feature for the chapter-like index.
 * A publication contains a pop-up index, and declares this resource via package metadata.
 * A pop-up index contains anchor points for in-context index entry display, and declares this resource via package metadata
 * A reverse index contains the same information as the chapter-like index but sorted in locator order rather than alphabetical order
 * The three displays of the index may or may not be contained in three separate files.
 * A publication’s content files contain anchor points for the index to use in hyperlinks.
 * Head notes, if present, are marked as such and are presented at the beginning of the chapter-like index.
 * In-line editor's notes, if present, are displayed in chapter-like and pop-up index.
 * Special formatting of the index’s content (italics, bold, sub-, super-script, fonts, special characters) are preserved in the index’s content. 
 * Decorations, prefixes or suffixes used in the index text to annotate entries or locators (daggers, ff, n, nn and so on), if present, are displayed as such.
 * A publication contains an index-symbols file (legend) containing definitions or explanations of each decoration, prefix or suffix.
 * Proper text alignment and indentation is maintained in the chapter-like index.
 * Unique characters and numbers that act as group breaks for letter sections in the index are present, and contain anchors for the set of A to Z navigational hyperlinks.
 * Index entries contain anchors and act as targets for the navigational systems within the index; for instance, cross references will have targets, as will the group breaks for letter sections.
 * Beginnings and endings of subject coverage are marked in the text and used in the index.
 * Cumulative index files in publications that comprise part of a series or collection will include links to other anchor points in other volumes.

== Index Functional Support ==

_Implied/assumed (existing functionality in EPUB readers that indexes will use)_
 * Reading system will properly display text encoded with special formatting, i.e. bold, italic, subscript, superscript.
 * Reading system will properly display text encoded as a link, i.e. as clickable text that takes user to target.
 * Reading system includes buttons or menu options to access the either the chapter-like index or the pop-up directly from the text, without having to visit the table of contents.
 * Reading system allows the reader to select collapsed or expanded views of the index (main headings only, main and subheadings, etc.).
 * Reading system determines how targeted text appears on the screen after its hyperlink has been clicked (top of screen, middle of screen, highlighted term, highlighted range of text, etc.)
 * Reading system displays explanations for special symbol used in the chapter-like index’s annotations in a pop-up.
 * Reading system employs a stemming engine in pop-up index searches.


_<a id="chapter-like"/>Chapter-like index_
 * Reading system displays chapter-like index as normal pages.
 * Reading system displays a floating or persistent set of A to Z navigational hyperlinks in the chapter-like index to allow navigation to other sections of the index.
 * Reading system displays floating or persistent access to head notes.
 * Reading system displays breadcrumbs, if necessary.


_<a id="pop-up"/>Pop-up index_
 * Reading system displays pop-up index as separate window, automatically scrolled to the term selected when it was activated (or defaults to top of index if nothing was selected)
 * Reading system provides search functionality within popup index.
 * Reading system displays floating or persistent access to head notes.
 * Reading system displays breadcrumbs, if necessary.


_<a id="reverse/>Reverse index_
 * Reading system must be able to uniquely identify multiple index anchors in a selected section of text (e.g., a paragraph).
 * Reading system must be able to extend that identification to include index anchors whose range encompasses the selected text (e.g. a range that begins prior to the selected text and ends after the selected text)
 * Reading system must be able to locate the main headings in the index associated with each of those anchors.
 * Reading system must be able to display those main headings to the user.
 * Reading system must be able to render each main heading as a live link to the heading's location in the chapter-like index.


_Standalone index_
 * Reading system must be able to link from one EPUB to another.

== References ==

 * Initial proposal to the IDPF: http://dl.dropbox.com/u/2248375/IDPF%20Index%20functionality%20in%20ePub.pdf
 * NISO Guidelines for Indexes and Related Information Retrieval Devices: http://www.niso.org/publications/tr/tr02.pdf
 * ISO Guidelines for the content, organization and presentation of indexes: http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=5446
 * BNA study http://dl.dropbox.com/u/2248375/Using%20BNA%20Indexes%20study.pdf 
 * An XML Notation for Describing Back-of-the-Book Indexes http://dl.dropbox.com/u/2248375/Neil%20Ching%20NDX%20notes.doc (white paper by Neil Ching)


== Definitions ==

<dt id="anchor">Anchor points</dt><dd>Unique id codes located in book's content, available for hyperlinks to target.</dd>
<dt id="a-z">A-Z index navigation data</dt><dd>A string of hyperlinked letters and/or digits (e.g., A-Z, 0-9) used to easily navigate to another section of the index: for example, clicking P would take the user to the section of the index beginning with P.</dd>
<dt id="browsing">Browsing</dt><dd>Reading/skimming index content.</dd>
<dt id="chapter-like">Chapter-like index</dt><dd>An index presented in a book's content as a chapter, accessed from the table of contents and from special menus or icons. It can be paged through and browsed as normal content, with hyperlinks back into the book's content, and cross-reference hyperlinks to other areas of the index.</dd>
<dt id="cross-ref">Cross references</dt><dd>Entries in an index that direct the reader from one term to another term. These should be hyperlinked and take the reader to the targeted term. There are two types: See references and See also references (defined below).</dd>
<dt id="decorations">Decorations</dt><dd>Prefixes, suffixes, symbols or special formatting added to locators to indicate special content, such as tables, figures, or primary discussions.</dd>
<dt id="editorsnotes">Editor's notes, inline</dt><dd>Editorial notes that are part of an index entry, found inline after the main heading or subheadings.</dd>
<dt id="entries">Entries</dt><dd>A unit of an index, consisting of a main heading, zero or more subheadings, and at least one locator or see/see also reference.</dd>
<dt id="headnotes">Headnotes</dt><dd>Explanatory paragraph(s) at the head of the index that describe unique features of the index (e.g., special typography, scope of the index, omitted items, etc.) that the reader needs to know in order to effectively use the index.</dd>
<a id="indexdef"/><dt>Index</dt><dd>Alphabetical list of names, subjects, etc. that appear in a document, with associated _locators_ showing the places where they occur.</dd>
<dt id="legend">Legend</dt><dd>A section of content that explains locator decorations, special symbols, or other typography for the user.</dd>
<dt id="levels">Levels</dt><dd>Nested depth of subheadings beneath each main heading. A main heading is level 1; a subheading is level 2; a sub-subheading is level 3; and so on.  There can be as many levels as the indexer and publisher feel necessary.</dd>
<dt id="locators">Locators</dt><dd>Pointers from an entry in the index to its occurrence in the text, such as page numbers, section numbers, etc. In an EPUB, these locators should appear as hyperlinks.</dd>
<dt id="main">Main heading</dt><dd>Words, symbols, or phrases based on or selected from the book's content, expressing a concept, idea, or proper name. A Main heading may or may not have subheadings, but must have one or more locators or a cross reference.</dd>
<dt id="master">Master index</dt><dd>An index that covers more than one publication.</dd>
<dt id="pop-up">Pop-up index</dt><dd>Index view activated by user while in the text and displayed in a separate window.</dd>
<dt id="post-coordinate">Post-coordinate systems</dt><dd>System in which the user enters one or more terms which are matched character-by-character in the target text.  Search engines are an example of post-coordinate systems.</dd>
<dt id="pre-coordinate">Pre-coordinate systems</dt><dd>Indexes contain compound terms and phrases to aid the reader in choosing the right locators. Co-relations between topics are made before the publication and use of the index, and are more complex. They eliminate the need for complexity in the search engine, and provide a direct method of search in which the user does not have to think of all the terms themselves.</dd>
<dt id="ranges">Ranges</dt><dd>A locator that indicates coverage of a subject is extensive. Page ranges show the number of pages covering the subject. Other ranging symbols (such as typographic formatting) could be used to show important areas of coverage in the book's content vs. shorter areas of coverage.</dd>
<dt id="reverse">Reverse index</dt><dd>A special display, triggered when the reader highlights a range of text and chooses to view the index entries associated with the range. A separate scriptable pop-up window appears, allowing readers to view and choose to explore index entries further in the pop-up window.</dd>
<dt id="searching">Searching</dt><dd>A user searches by entering or highlighting text or symbols and activating a device-provided search mechanism.</dd>
<dt id="second">Second-level heading, third-level heading, etc. </dt><dd>Subheadings which appear subordinate to a Main heading, allowing the user to see more details, differentiations, and breakdowns of a Main heading's topic. Each level is marked up separately for proper display and data manipulation.</dd>
<dt id="seealso">See also references</dt><dd>A hyperlinked index entry that indicates additional indexing for related, broader, or narrower subjects are covered at other main headings, and allows the reader to click to navigate to those alternative main headings where the locators are collected. See alsos are used to expand the reader's knowledge of related terminology. There can be multiple alternative main heading targets for a See Also reference.</dd>
<dt id="see">See references</dt><dd>A hyperlinked index entry that indicates all indexing for the subject has been covered under other synonyms or main headings, and allows the reader to click to navigate to those alternative main headings where the locators are collected. There can be multiple alternative main heading targets for a See reference.</dd>
<dt id="snippets">Snippets</dt><dd>Portions of the book's content shown in search or index results, highlight the searched or indexed term in context. Displayed to allow the reader to choose the most relevant result of their search or index query.</dd>
<dt id="sort">Sort order</dt><dd>How words and phrases are alphabetized in an index. Space characters, commas, and symbols are handled by machine processing, index displays and indexing modules in page-layout software in differing ways. Two main sort orders are common: word-by-word, which honors the space character in multi-word phrases and places it before words without a space; and letter-by-letter, which ignores the space and alphabetizes as if all the words in the phrase were run together.</dd>
<dt id="standalone">Standalone indexes</dt><dd>A standalone index is a publication that consists of nothing but an index to other volumes or other sources outside the publication.</dd>
<dt id="stemming">Stemming</dt><dd>From wikipedia: stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root form—generally a written word form. A stemmed search for "dogs" will find "dog," "dogmatic," etc. Searches in the index should employ stemming mechanisms.</dd>
<dt id="subheadings">Subheadings</dt><dd>A broad term for all of the the second-level, third-level, fourth-level headings found under a Main heading.</dd>
<dt id="targets">Targets</dt><dd>Targets are anchor points for hyperlinks.</dd>