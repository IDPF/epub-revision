#summary Implementation proposal for MathML integration in OPS.

= MathML in EPUB =

_I have not added links yet_

EPUB adopts all of MathML 3 with the restrictions listed below. These restrictions limit the MathML to presentation MathML except inside of a semantics element. They also provide guidelines on how fall back images and alternative text should be given.

== Content MathML ==
All content MathML elements shall be inside of an annotation-xml element.  The  annotation-xml element shall be the second child of a semantics element whose first child is presentation MathML.  The annotation-xml element shall set the encoding attribute to "MathML-Content" or to "application/mathml-content+xml". These two values are equivalent.

As an example, the user of content markup will look like:
{{{
<semantics>
  ... presentation markup ...
  <annotation-xml encoding="application/mathml-content+xml">
    ... content markup ...
  </annotation-xml>
</semantics>
}}}

Other valid attributes for annotation-xml may be used. Additional annotation and annotation-xml elements may be used, but conforming agents are free to ignore them.

=== Rationale ===
Content MathML is discussed in Chapter 4 of the MathML Specification. It provides a means of specifying the semantics of the expression without saying how those semantics should be displayed.  MathML envisioned that an XSL style sheet that transforms the content MathML into presentation MathML would accompany so that it could be rendered as intended.  An alternative method allowed in MathML is called parallel markup where both the presentation and content markup are given inside of a semantics element. Because XSL is not a part of EPUB, parallel markup should be used when content MathML is used.

MathML allows either presentation or content MathML to occur as the first element of a semantics element. To ease the burden on conforming agents, this specification requires that the first child of a semantics element be presentation MathML and the second be an annotation-xml element containing content MathML when content MathML is used inside of a semantics element.

== Fallback Images ==


== Alternative Text ==

== Legal Annotation Types ==

== Use of Deprecated Features ==

No deprecated elements or attributes in MathML 3 shall be used in an EPUB document.

_Issue:  MathML 3 no longer uses XML:id and xlink:href as these have fallen out of favor.  Used in OPS 2?_