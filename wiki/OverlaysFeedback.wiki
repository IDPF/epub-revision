#summary MediaOverlays Batch edits/resolutions from Murata-sans group

<wiki:toc max_depth="5" />

= Throughout =

This specification allows synchronization of audio and XHTML, which in
turn may contain image, graphics, audio and video.  But very many
places in this specification are misleading.  For example,

- "synchronized text and audio publications" in 1.1, 

- "An XML document that associates the text content of an XHTML
 Content Document with pre-recorded audio narration"
 in the def of media overlay document (1.3), and

- "this version supports only text and audio media" in 2.

Some people are already confused by these sentences and think that
media overlay cannot be used for manga (even when it is represented by
HTML containing JPEG files).

Replace "user" by "User".

= 1.1 and 1.2 =

Make clear that 1.1 and 1.2 are non-normative.                                                                     

1.1, the second para

We do not understand the 1st and 2nd sentences: "Although designed to
be usable in a variety of contexts, this specification does declare
certain normative requirements specific to EPUB Publications. These
requirements are marked as EPUB-specific where they are defined and
may be disregarded by applications that only conform to the content
and EPUB Reading System requirements of this specification. "

= 1.3 =

Terms for the entire EPUB3 family are covered in the terminology
sub-section, but terms specific to this media overlay specification,
skippability and escapability, are not covered.  The same comment applies 
to other specifications in the EPUB3 family.

5) 1.3, the def of EPUB Publication (or Publication)

Replace "a EPUB" by "an EPUB"

= 2. =

1.1 and 2 should be merged.

= 2., the 2nd para =

Replace "W3C standard" by "W3C specification" or "W3C recommendation".

= 2., the 3rd para =

"so the inclusion of Media Overlay Documents has no impact on the interoperability of EPUB Publications." is  
a bit misleading, since there is an impact on the interoperability of media-overlay-aware reading systems.  

_DANIEL_: I think that the term "interoperability" should apply to implementations, not content. Here is a suggestion: "Since the Media Overlay of an EPUB 3 Publication can effectively be ignored by EPUB 3 Reading Systems that do not support the Media Overlay specification, content authored with a Media Overlay can be consumed as "regular" EPUB 3 Publications, without any prior content alterations. This means that EPUB 3 implementations, with or without support for Media Overlays, remain interoperable to a great degree."

= 3.1 =

This (non-normative) subsection should be moved to 1.1 or 2.

= 3.1, 4th para =

Since IRIs do not allow relative references, use IRI references rather than IRIs.  The same change is 
required for other locations in this document.

_DANIEL_: indeed ==> http://rfc-ref.org/RFC-TEXTS/3987/kw-iri-reference.html (plain text: http://www.ietf.org/rfc/rfc3987.txt )

= 3.1, 6th para =

As the definition of fragment identifiers, reference to W3C XPointer Framework and allow shorthand pointers 
only in this specification unless we would like to commit to other schemes.

= 3.1, the para before last =

In the "EPUB3 publications" specification, "the default reading order"
is an order of content documents.  But in this subsection, it appears
to be an order of elements.

= 3.1, the para before last =

Explicitly state that some elements in the XHTML document are not referenced by 
par elements.

= 3.2.1 =

Mark the 2nd para as non-normative.

= 3.2.2 =

Is 3.2.2 non-normative?  If so, mark as such.

= 3.2.2 =

Which specific tag is meant by "embedded media objects such as video
and audio"?  The object tag?  Or, the audio and video?  What is the
relationship between media overlay and the object tag of HTML5?

= 4.2 =

What does this sub-section try to achieve?  Is this a non-normative
summary of what is already specified in the W3C SMIL recommendation?
If so, mark this subsection as non-normative and drop all
EPUB-specific normative requirements.  If not, change the subtitle and
state that our media overlay is derived from the W3C SMIL
recommendation.

Furthermore, please clearly distinguish EPUB-specific restrictions
from SMIL.  I prefer normative references to SMIL possibly combined
with our own restrictions for subsetting.  Reformulating what is
already specified in SMIL together with our own restrictions make 
complicate users and possibly introduce IPR issues.

= 4.2.1 The smil Element =

Re: "Unlike the SMIL specification element from which it is derived,
the version used in Media Overlays does not require the inclusion of a
child head element."

I think that this is misguided.  We should not introduce such changes
while using the SMIL namespace and claiming that our work is a subset
of SMIL.

= 4.2.1, The smil Element =

"and/or" in "This attribute is optional except when the epub:type
attribute and/or meta element is used in the Overlay Document, in
which case its use is required."  is ambiguous.  Does this mean that
this attribute is required only when both the epub:type attribute and
a meta element exist?  Or, does it mean that it is required if either
this attribute or a meta data element exists?

= 4.2.1 The smil Element =

"For more information on the usage of the profile and prefix
attributes, refer to Semantic Inflection." is incorrect, since nothing
about their usage is stated in "3.3 Semantic Inflection".

= 4.2.3 The meta Element =

Re: "The attributes and content model for meta in EPUB Media Overlays
differ from the [SMIL] specification. SMIL meta elements have name and
content attributes, and an empty content model, whereas Media Overlay
meta elements have property and about attributes, and, optionally,
text content. "

I think that we should not introduce such changes as long as we use
the namespace of SMIL and claim that our work is a subset of SMIL.
Why don't we ask W3C to publish SMIL 3.1 and incorporate required
changes?

= 4.2.3 The meta Element =

Why do we need @dir?  HTML5 already has this attribute. 

= 4.2.3 The meta Element =

What does the text content of the meta elements represent?

= 4.2.4 The body Element =

Is the value of the attribute epub:textref always a relative IRI reference?  
Also state that this attribute reference to HTML content documents only.

= 4.2.7 The text Element =

State that the src attribute is always a relative IRI reference.

= 4.2.8 The audio Element =

State that the src attribute may be an absolute IRI since we allow
references to external audio or video.

= 6.1 =
==  6.1, the 3rd para ==

Re: "The media-overlay attribute must only be attached to manifest
items that reference EPUB Content Documents. The attribute must not be
attached to items that reference Foreign Content Documents as defined
in [Publications30]."

This means that we can attach the media-overlay attribute to manifest
items that reference to SVG content documents.  This may be a good
thing, but is it intended?

==  6.1, the 4th para ==

Re: "While not every manifest item is required to have a Media Overlay
associated with it, there must be a one-to-one relationship between
Media Overlay files and manifest items. Multiple EPUB Content
Documents cannot share a single Media Overlay file."

In our opinion, "one-to-one" is misleading.  Here is our rewrite:

 Not every manifest item is required to have a Media Overlay
 associated with it.  Multiple EPUB Content Documents cannot 
 share a single Media Overlay file.  

= 6.2 =

Audio or video formats may contain metadata.  Will such embedded metadata be ignored?

=  6.2, duration =

Does it make sense to compute the total duration?  Or, should we
compute the total only for epub:type="chapter"?

= 6.2, duration =

Does this duration include the duration required for displaying audio
or video elements in HTML5 documents?

= 6.2, narrator =

How can we specify names both in Kanji and Katakana (or Hiragana)?  What about BIDI?
How can we specify more than one narrator?

= 7. =

This section provides rather detailed information for straightforward
cases but shows little information for complicated case such as the
table reading mode.  Due to this unbalance, we are not sure if this
section provides very useful information to implementors.
Implementors can learn a lot more from existing DAISY implementations.

Moreover, some seemingly-obvious requirements shown in this section
might tie the hands of implementors and prevent them from creating
innovative user interfaces.

For example:

- Re: "When the Reading System loads an EPUB Content Document, it also loads the corresponding Media Overlay Document."

 Some reading systems might load the media overlay document only when the user hits the play button.

- Re: "When the Media Overlay Document has finished playing, the
 Reading System must load the next EPUB Content Document (as specified
 in the Package Document spine) ..."

 Some reading systems might play each content document repeatedly until the user 
 hits the play-next-content button.

In our opinion, we should first clarify semantics intended by the
author and then provide use interoperability guidelines (SHOULD).  We
should not introduce conformance requirements (MUST or SHALL) when there
are no risks in data exchange.  Fidelity of different reading systems
may be a good thing, but it should be kept outside the scope of
normative requirements.

For example, we propose

	"It is the author's intention that all par elements in a media overlay
	document are rendered in the document order."

instead of

	"Reading Systems must render immediate children of the body
	element in a sequence. ... A seq element's children must be
	rendered in sequence, and playback completes when the last
	child has finished playing."

(By the way,  is this simply incorrect for  the table viewing mode)?

=  7. =

This section does not provide any information about table reading
modes.  Readings system designers have to innovate, and no fidelity of
reading systems is guaranteed.  If this is acceptable, why should we
bother to define behaviours of straightforward cases (such as
7.1.1. Loading the Media Overlay, 7.1.2. Basic Playback,
7.1.2.1. Timing and Synchronization, 7.1.2.2. Rendering Audio,
7.1.2.3. Rendering Text, and 7.1.3.1. Navigation)?

== 7.1.2.1 ==

Most of this subsection (e.g., the 1st and 2nd sentences) is already
stated in preceding sections, and should be removed.  The rest should
be reformulated as intended semantics or interoperability guidelines.

== 7.1.2.2 ==

Here is a proposed rewrite of the first para.

"It is the author's intention that the audio resource referenced by
the src attribute is played, starting at the time given by the
clipBegin attribute and ending at the time given by the clipEnd
attribute. The following rules should be observed:"

== 7.1.2.2 ==

The last para should be  non-normative

== 7.1.2.3 ==

The last sentence ("Reading Systems ... must also apply the styling
rules ...")  appears to disallow the user to ignore the pseudo class
media-overlay-active and specify some other appropriate appearance.
Reformulate this sentence as the intended semantics or use "should" at
least.

== 7.1.3.1 ==

Again, most of this subsection (e.g., the 1st and 2nd sentences) is
already stated in preceding sections, and should be removed.  The rest
should be reformulated as intended semantics or interoperability
guidelines.

== 7.1.3.2, the 2nd bullet in the first bullet ==

If "As this requirement may be hard to implement in practice" is
correct, this statement should not be stated as a conformance
requirement.  The same thing might apply to the previous bullet.

== 7.1.3.2, ther third bullet ==

Re: "regardless of the content type referred to by the src attribute"

We do not understand this phrase.  Do we allow non-HTML5 content documents here?




== 7.1.4.1, 1st para ==

What does "page break/page number announcements" mean?  In particular,
what is referenced by "chapter1.xhtml#g1"?  Please provide an HTML5 example .

== 7.1.4.2, 1st para ==

Re: "Reading Systems shall determine the start of nested structures by the value of epub:type attribute (e.g., glossary) " 

Can reading systems simply use HTML tags (e.g., table, ol, and ul) for
escaping from nested structures?

== 7.1.3.2 ==

Replace "a EPUB" by "an EPUB"

== Appendix A. ==

<blockquote>The RELAX NG schema media-overlay-30.rnc does not allow foreign elements and attributes.  Do we disallow them unlike in other specifications of the EPUB3 family?</blockquote>

*FIXED: No change.*